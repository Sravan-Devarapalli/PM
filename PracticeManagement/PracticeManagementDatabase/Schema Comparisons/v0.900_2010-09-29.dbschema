<?xml version="1.0" encoding="utf-8"?>
<DataSchemaModel FileFormatVersion="1.2" SchemaVersion="1.1" DspName="Microsoft.Data.Schema.Sql.Sql100DatabaseSchemaProvider" CollationLcid="1033" CollationCaseSensitive="False">
	<Header>
		<CustomData Category="ModelCapability">
			<Metadata Name="ModelCapability" Value="Default" />
		</CustomData>
		<CustomData Category="ClrTypesDbSchema" Type="DbSchema">
			<Metadata Name="ClrTypesDbSchema" Value="True" />
		</CustomData>
	</Header>
	<Model>
		<Element Type="ISql100DatabaseOptions" Disambiguator="1">
			<Property Name="Collation" Value="SQL_Latin1_General_CP1_CI_AS" />
			<Property Name="IsAnsiPaddingOn" Value="False" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="IsCursorDefaultScopeGlobal" Value="True" />
			<Property Name="IsAutoShrinkOn" Value="True" />
			<Property Name="IsTornPageProtectionOn" Value="False" />
			<Property Name="RecoveryMode" Value="1" />
			<Property Name="IsFullTextEnabled" Value="True" />
			<Property Name="CompatibilityMode" Value="90" />
			<Relationship Name="DefaultFilegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint">
			<Property Name="IsClustered" Value="False" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[PK__aspnet_Applicati__1EC48A19]" Disambiguator="26" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint">
			<Property Name="IsClustered" Value="False" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_Users].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[PK__aspnet_Users__23893F36]" Disambiguator="27" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_SchemaVersions].[Feature]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_SchemaVersions].[CompatibleSchemaVersion]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_SchemaVersions]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[PK__aspnet_SchemaVer__2942188C]" Disambiguator="28" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint">
			<Property Name="IsClustered" Value="False" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_Membership].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[PK__aspnet_Membershi__33BFA6FF]" Disambiguator="29" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_Profile].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_Profile]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[PK__aspnet_Profile__48BAC3E5]" Disambiguator="30" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint">
			<Property Name="IsClustered" Value="False" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_Roles].[RoleId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_Roles]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[PK__aspnet_Roles__52442E1F]" Disambiguator="31" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_UsersInRoles].[RoleId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[PK__aspnet_UsersInRo__5614BF03]" Disambiguator="32" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint">
			<Property Name="IsClustered" Value="False" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_Paths].[PathId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_Paths]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[PK__aspnet_Paths__65570293]" Disambiguator="33" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_PersonalizationAllUsers].[PathId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[PK__aspnet_Personali__6B0FDBE9]" Disambiguator="34" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint">
			<Property Name="IsClustered" Value="False" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_PersonalizationPerUser].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[PK__aspnet_Personali__6DEC4894]" Disambiguator="35" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ProjectGroup].[GroupId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ProjectGroup]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[PK__ProjectGroup__776B912D]" Disambiguator="36" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_WebEvent_Events].[EventId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_Events]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[PK__aspnet_WebEvent___000AF8CF]" Disambiguator="37" />
		</Element>
		<Element Type="ISql100UniqueConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[UQ__aspnet_Applicati__1FB8AE52]" Disambiguator="38" />
		</Element>
		<Element Type="ISql100UniqueConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_Applications].[ApplicationName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[UQ__aspnet_Applicati__20ACD28B]" Disambiguator="39" />
		</Element>
		<Element Type="ISql90DefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[DF__aspnet_Ap__Appli__21A0F6C4]" Disambiguator="40" />
		</Element>
		<Element Type="ISql90DefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[DF__aspnet_Us__UserI__257187A8]" Disambiguator="41" />
		</Element>
		<Element Type="ISql90DefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[aspnet_Users].[MobileAlias]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[DF__aspnet_Us__Mobil__2665ABE1]" Disambiguator="42" />
		</Element>
		<Element Type="ISql90DefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[aspnet_Users].[IsAnonymous]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[DF__aspnet_Us__IsAno__2759D01A]" Disambiguator="43" />
		</Element>
		<Element Type="ISql90DefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[PasswordFormat]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[DF__aspnet_Me__Passw__369C13AA]" Disambiguator="44" />
		</Element>
		<Element Type="ISql90DefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_Roles]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[DF__aspnet_Ro__RoleI__542C7691]" Disambiguator="45" />
		</Element>
		<Element Type="ISql90DefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_Paths]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[PathId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[DF__aspnet_Pa__PathI__673F4B05]" Disambiguator="46" />
		</Element>
		<Element Type="ISql90DefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[Id]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[DF__aspnet_Perso__Id__6EE06CCD]" Disambiguator="47" />
		</Element>
		<Element Type="ISql90ForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Project].[GroupId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[ProjectGroup].[GroupId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[ProjectGroup]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[FK__Project__GroupId__7953D99F]" Disambiguator="48" />
		</Element>
		<Element Type="ISql90ForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[FK__aspnet_Us__Appli__247D636F]" Disambiguator="49" />
		</Element>
		<Element Type="ISql90ForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[FK__aspnet_Us__Appli__64C2D10D]" Disambiguator="50" />
		</Element>
		<Element Type="ISql90ForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[FK__aspnet_Me__Appli__34B3CB38]" Disambiguator="51" />
		</Element>
		<Element Type="ISql90ForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[FK__aspnet_Me__UserI__35A7EF71]" Disambiguator="52" />
		</Element>
		<Element Type="ISql90ForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[FK__aspnet_Me__Appli__5D21AF45]" Disambiguator="53" />
		</Element>
		<Element Type="ISql90ForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[FK__aspnet_Me__UserI__5E15D37E]" Disambiguator="54" />
		</Element>
		<Element Type="ISql90ForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_Profile].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_Profile]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[FK__aspnet_Pr__UserI__49AEE81E]" Disambiguator="55" />
		</Element>
		<Element Type="ISql90ForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_Profile].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_Profile]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[FK__aspnet_Pr__UserI__62DA889B]" Disambiguator="56" />
		</Element>
		<Element Type="ISql90ForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_Roles]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[FK__aspnet_Ro__Appli__53385258]" Disambiguator="57" />
		</Element>
		<Element Type="ISql90ForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_Roles]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[FK__aspnet_Ro__Appli__63CEACD4]" Disambiguator="58" />
		</Element>
		<Element Type="ISql90ForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[RoleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[aspnet_Roles]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[FK__aspnet_Us__RoleI__1229A90A]" Disambiguator="59" />
		</Element>
		<Element Type="ISql90ForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[FK__aspnet_Us__UserI__131DCD43]" Disambiguator="60" />
		</Element>
		<Element Type="ISql90ForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[FK__aspnet_Us__UserI__5708E33C]" Disambiguator="61" />
		</Element>
		<Element Type="ISql90ForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[RoleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[aspnet_Roles]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[FK__aspnet_Us__RoleI__57FD0775]" Disambiguator="62" />
		</Element>
		<Element Type="ISql90ForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[RoleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[aspnet_Roles]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[FK__aspnet_Us__RoleI__65B6F546]" Disambiguator="63" />
		</Element>
		<Element Type="ISql90ForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[RoleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[aspnet_Roles]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[FK__aspnet_Us__RoleI__66AB197F]" Disambiguator="64" />
		</Element>
		<Element Type="ISql90ForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[FK__aspnet_Us__UserI__679F3DB8]" Disambiguator="65" />
		</Element>
		<Element Type="ISql90ForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[FK__aspnet_Us__UserI__689361F1]" Disambiguator="66" />
		</Element>
		<Element Type="ISql90ForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_Paths]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[FK__aspnet_Pa__Appli__5F09F7B7]" Disambiguator="67" />
		</Element>
		<Element Type="ISql90ForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_Paths]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[FK__aspnet_Pa__Appli__664B26CC]" Disambiguator="68" />
		</Element>
		<Element Type="ISql90ForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers].[PathId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[PathId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[aspnet_Paths]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[FK__aspnet_Pe__PathI__5FFE1BF0]" Disambiguator="69" />
		</Element>
		<Element Type="ISql90ForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers].[PathId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[PathId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[aspnet_Paths]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[FK__aspnet_Pe__PathI__6C040022]" Disambiguator="70" />
		</Element>
		<Element Type="ISql90ForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[PathId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[PathId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[aspnet_Paths]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[FK__aspnet_Pe__PathI__60F24029]" Disambiguator="71" />
		</Element>
		<Element Type="ISql90ForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[FK__aspnet_Pe__UserI__61E66462]" Disambiguator="72" />
		</Element>
		<Element Type="ISql90ForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[PathId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[PathId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[aspnet_Paths]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[FK__aspnet_Pe__PathI__6FD49106]" Disambiguator="73" />
		</Element>
		<Element Type="ISql90ForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[FK__aspnet_Pe__UserI__70C8B53F]" Disambiguator="74" />
		</Element>
		<Element Type="ISql90ForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[ProjectGroup].[ClientId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ProjectGroup]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Name="[dbo].[FK__ProjectGr__Clien__785FB566]" Disambiguator="75" />
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1035" />
			<Relationship Name="Grantee">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Disambiguator="1" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1035" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManagementUser]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Disambiguator="1" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1035" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Disambiguator="1" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1035" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[murka]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Disambiguator="1" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OpportunityExcelSet]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Membership_UpdateUserInfo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_ProjectTotalExpenses]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MilestoneInsert]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Membership_ChangePasswordQuestionAndAnswer]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[TimeEntryInsert]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectListAllMultiParameters_batch]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PracticeGetById]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_GetRolesForUser]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OpportunityGetByNumber]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetUserByEmail]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MilestonePersonListByProjectShort]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Membership_LockUser]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ExpenseCategory]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectsListByClient]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OpportunityGetById]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_RemoveUsersFromRoles]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[FinancialsListByProjectPeriodTotal]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_GetUsersInRoles]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ExpenseBasis]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[FinancialsListByProjectPeriod]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PermissionsGetAll]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Membership_FindUsersByName]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[FinancialsGetByMilestonePersonEntry]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PermissionsGetAllowedClients]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Membership_FindUsersByEmail]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[WeekPaidOption]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[CompensationCoversMilestone_test]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[FinancialsGetByMilestonePerson]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PermissionsGetAllowedGroups]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Membership_UnlockUser]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryListByMilestonePersonId]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_FinancialsListByProjectPeriodTotal]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PermissionsGetAllowedPracticeManagers]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Users_DeleteUser]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MonthlyExpense]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_FinancialsListByProjectPeriod]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PermissionsGetAllowedPractices]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OpportunityTransitionInsert]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[vw_aspnet_Applications]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeaderInsert]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonListBenchExpense_fast]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Profile_GetProperties]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PermissionsGetAllowedSalespersons]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OpportunityInsert]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetNumberOfUsersOnline]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[IsDateRangeWithingTimeInterval]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonListBenchExpense_details]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Profile_SetProperties]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PermissionsSet]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OpportunityTransitionGetByOpportunity]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Applications_CreateApplication]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectListAllMultiParameters]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Profile_DeleteProfiles]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PermissionsSetClients]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OpportunityTransitionDelete]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Roles_GetAllRoles]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Profile_DeleteInactiveProfiles]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PermissionsSetGroups]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OpportunityListAll]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetAllUsers]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Profile_GetNumberOfInactiveProfiles]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PermissionsSetPracticeManagers]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MilestoneUpdate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_AnyDataInTables]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[EmailTemplateUpdate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Profile_GetProfiles]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PermissionsSetPractices]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MilestoneDelete]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetPassword]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[EmailTemplateInsert]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PermissionsSetSalespersons]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonListSalesperson]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Membership_SetPassword]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[EmailTemplateGetAll]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="4" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="3" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PermissionsSetAll]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonListPracticeManager]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Membership_ResetPassword]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[EmailTemplateDelete]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OpportunityConvertToProject]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetPasswordWithFormat]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Roles_DeleteRole]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonStatsByDateRange]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Roles_RoleExists]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectGroupListAll]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[FinancialsGetByMilestonePersonsMonthly]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_FindUsersInRole]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectSearchText]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_AddUsersToRoles]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="4" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="3" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[FinancialsGetByMilestonePersonsTotal]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OpportunityStatusListAll]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PracticeListAll]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonListRecruiter]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OpportunityTransitionStatusListAll]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_MilestonePerson]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonEnsureIntegrity]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetUserByUserId]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Personalization_GetApplicationId]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_RecruiterComissionWithDays]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[vw_aspnet_Users]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Paths_CreatePath]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_OpportunityHistory]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Users_CreateUser]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[GetNumberProjectedHours]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers_GetPageSettings]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[GetOpportunityHistory]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[vw_aspnet_MembershipUsers]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[FinancialsGetByProject]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers_ResetPageSettings]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonRoleListAll]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[FinancialsGetByMilestone]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers_SetPageSettings]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MilestonePersonInsert]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[GetNumberAvaliableHours]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser_GetPageSettings]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="4" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="3" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[GetWeeklyUtilization]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser_ResetPageSettings]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ActivityLogListByPeriod]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MilestoneMove]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser_SetPageSettings]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[GetDefaultHoursPerDay]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ActivityLogGetCount]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_RegisterSchemaVersion]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ConsultantUtilizationReport]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_DeleteAllState]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[GetNumberWorkingDays]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_UnRegisterSchemaVersion]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Today]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_ResetSharedState]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[GetNumberHolidayDays]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_CheckSchemaVersion]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[GetHoursPerYear]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_ResetUserState]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[WorkDaysCompanyNumber]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_FindState]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonStatsGetByMonth]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonWorkDaysNumber]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_GetCountOfState]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[GetCurrentPayType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_OpportunityTransition]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MembershipDelete]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[GetDaysInMonth]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_LogEvent]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OpportunityTransitionGetByPerson]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[SeniorityListAll]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[RecruiterGet]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionCleanup]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[NotesClone]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MilestonePersonDeleteEntries]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[RecruiterInsert]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MilestoneMoveEnd]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ExpensesClone]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectBillingInfoGetById]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[RecruiterReactivate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[GetNumberHolidayDaysWithWeekends]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="4" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[BilledTime]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[BilledTime]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[BilledTime]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="3" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[BilledTime]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[TimeEntriesGetByProject]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectBillingInfoDelete]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="4" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Calendar]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Calendar]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Calendar]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="3" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Calendar]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[TimeEntriesGetByPerson]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectBillingInfoSave]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[RecruiterInactivate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[TimeEntryHoursByPersonProject]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_MilestoneLight]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ExpenseCategoryInsert]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MakeNumberFromDate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="4" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[CommissionType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[CommissionType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[CommissionType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="3" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[CommissionType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[TimeEntriesAll]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MonthlyExpenseSaveItem]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="4" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectStatus]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectStatus]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectStatus]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="3" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectStatus]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_TimeUnrestrictedEntriesUnrestricted]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ExpenseCategoryDelete]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[GetMilestonePersonHoursInPeriod]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ExpenseCategoryUpdate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PracticeUpdate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="4" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OverheadRateType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OverheadRateType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OverheadRateType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="3" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OverheadRateType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[CalculateMilestonePersonFinancials]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ExpenseCategoryListAll]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PracticeInsert]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[vw_aspnet_Roles]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ExpenseBasisListAll]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[FinancialsGetByMilestonePersonPeriod]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[WeekPaidOptionListAll]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[vw_aspnet_UsersInRoles]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MonthlyExpenseListByName]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[GetOverlappingPlacementDays]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="4" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="3" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[TimeTypeDelete]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MonthlyExpenseDeleteItem]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[SessionLogUnprepare]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[SessionLogPrepare]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="4" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="3" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonListAllSeniorityFilterWithCurrentPay]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonStatusListAll]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MilestonePersonListByMilestone]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="4" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[RecruiterCommission]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[RecruiterCommission]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[RecruiterCommission]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="3" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[RecruiterCommission]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MilestonePersonDelete]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[TimeTypeUpdate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[TimeEntriesGetByManyPersons]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[TimeTypeInsert]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[TimeEntryHoursByManyPersonsProject]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="4" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OverheadFixedRate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OverheadFixedRate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OverheadFixedRate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="3" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OverheadFixedRate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="4" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="3" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[TimeEntriesGetCount]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonOverheadByTimescale]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MilestonePersonGetByMilestonePerson]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonListAllByStatusList]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OpportunityUpdate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MilestonePersonListByProjectMonth]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[TimeEntriesGetTotals]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[WorkDaysPersonNumber]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="4" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OverheadAdministration]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OverheadAdministration]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OverheadAdministration]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="3" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OverheadAdministration]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionGetByPersonDate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MilestonePersonListByProjectPerson]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonSetDefaultManager]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[TimeEntriesRemove]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionListByPerson]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MilestonePersonListOverheadByPerson]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonListAllShort]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="4" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Timescale]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Timescale]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Timescale]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="3" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Timescale]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionGetById]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[TimeEntryUpdate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Setup_RestorePermissions]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ConsultantUtilizationWeekly]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MilestonePersonListByPerson]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PracticeDelete]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="4" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Pay]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Pay]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Pay]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="3" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Pay]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonExcelSet]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Setup_RemoveAllRoleMembers]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectUpdate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[DefaultComissionDelete]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonOverheadByPerson]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectMilestonesFinancials]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[DefaultComissionSave]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[DefaultComissionGetByPerson]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PaySave]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[IsSomeonesManager]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_Pay]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[SetNewManager]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonGetCount]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PayGetCurrentByPerson]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectInsert]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PayGetHistoryByPerson]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectedWorkloadGetByPerson]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PayGetByPersonStartDate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_PersonCalendar]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[CalendarGet]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeaderUpdate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[vw_aspnet_Profiles]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[GenerateNewProjectNumber]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ClientUpdate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRateTimescale]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="4" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[DefaultCommission]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[DefaultCommission]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[DefaultCommission]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="3" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[DefaultCommission]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ClientListAll]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Membership_CreateUser]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ClientInactivate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonListAllForMilestone]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ClientInsert]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OverheadFixedRateGetById]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[GetDatabaseVersion]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ClientReactivate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryInsert]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ClientGetById]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OverheadFixedRateListAll]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MilestoneClone]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ConsultantMilestones]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_Project]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_UsersInRoles]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Roles_CreateRole]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MilestonePersonGetByMilestonePersonId]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_PersonPayRetrospective]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_Opportunity]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ClientListAllForProject]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[CalendarUpdate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[CloneProject]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectsCountByClient]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonDelete]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MonthlyExpenseListAll]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectListAll]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_MilestonePersonLight]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ComputeMonthSalary]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectGetById]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_MilestonePersonHours]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectStatusListAll]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_MilestoneHours]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_MilestonePersonMonthHours]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_FinancialsForMilestones]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_MilestoneRevenueRetrospective]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonMilestoneWithFinancials]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonSetStatus]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[CompensationCoversMilestone]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[TimeTypeGetAll]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonInsert]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonListBenchExpense]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_PersonOverhead]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonListSubordinates]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectSetStatus]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[TimeEntryToggleIsReviewed]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_PersonOverheadRetrospective]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonGetById]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[TimeEntryToggleIsCorrect]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_Milestone]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonGetByAlias]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[CommissionSet]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[TimeEntryToggleIsChargeable]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectedWorkloadGetByProject]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonListAllSeniorityFilter]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[CommissionGetByProjectType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[TimeEntryRemove]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectedWorkloadGetByMilestone]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonListAll]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="4" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="3" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[EmailNotificationsListExpiredPersons]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItemUpdate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_MilestonePersonExpense]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MakeDefaultRecruiterCommissionText]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[TimeEntryAllPersons]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItemInsert]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[TimeEntryAllMilestones]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[GetEmployeeNumber]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionDeleteItems]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ListManagersSubordinates]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_TimeEntries]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[GetCounsultantsNumber]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItemList]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonTimeEntries]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonGetCountActive]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[RecruiterCommissionListByRecruitId]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MilestonePersonActivity]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonUpdate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[RecruiterCommissionSave]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="4" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MarginType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MarginType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MarginType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="3" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MarginType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonOneOffList]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[RecruiterCommissionDelete]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MilestoneListByProject]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_Permissions]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MilestoneGetById]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectInactivate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OverheadRateTypeGetById]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_MilestonePersonVacations]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectReactivate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OverheadRateTypeListAll]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MilestonePersonListByProject]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OverheadFixedRateUpdate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OverheadFixedRateInsert]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectGetByNumber]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OverheadTimescaleListByOverheadId]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="4" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectGroup]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectGroup]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="5" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectGroup]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectGroup]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="3" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectGroup]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[TimescaleGetById]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="4" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="3" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[NoteInsert]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_Notes]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_Person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectExpenseUpdate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[NoteGetByTargetId]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectExpenseInsert]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectGroupRenameByClient]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OverheadTimescaleSet]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectExpenseDelete]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectGroupInsert]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[vw_aspnet_WebPartState_Paths]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[OverheadTimescaleRemove]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_ProjectExpenses]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectGroupDelete]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[vw_aspnet_WebPartState_Shared]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[PersonListProjectOwner]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Membership_UpdateUser]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectExpenseGetById]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[vw_aspnet_WebPartState_User]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[EmailNotificationsListProjectedProjects]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetUserByName]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="4" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="3" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[ProjectExpenseGetAllForMilestone]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryCreateProgrammatically]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[UserActivityLogInsert]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_IsUserInRole]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[v_MilestoneExpenses]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[aspnet_Profile_FullAccess]" Disambiguator="16" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Profile_DeleteProfiles]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[aspnet_Profile_FullAccess]" Disambiguator="16" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Profile_DeleteInactiveProfiles]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[aspnet_Profile_BasicAccess]" Disambiguator="17" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Profile_GetProperties]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[aspnet_Profile_BasicAccess]" Disambiguator="17" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Profile_SetProperties]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[aspnet_Profile_ReportingAccess]" Disambiguator="18" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Profile_GetNumberOfInactiveProfiles]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[aspnet_Profile_ReportingAccess]" Disambiguator="18" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Profile_GetProfiles]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[aspnet_Profile_ReportingAccess]" Disambiguator="18" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[vw_aspnet_Profiles]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[aspnet_Personalization_FullAccess]" Disambiguator="22" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_DeleteAllState]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[aspnet_Personalization_FullAccess]" Disambiguator="22" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_ResetSharedState]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[aspnet_Personalization_FullAccess]" Disambiguator="22" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_ResetUserState]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[aspnet_Personalization_BasicAccess]" Disambiguator="23" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Personalization_GetApplicationId]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[aspnet_Personalization_BasicAccess]" Disambiguator="23" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_Paths_CreatePath]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[aspnet_Personalization_BasicAccess]" Disambiguator="23" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers_GetPageSettings]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[aspnet_Personalization_BasicAccess]" Disambiguator="23" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers_ResetPageSettings]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[aspnet_Personalization_BasicAccess]" Disambiguator="23" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers_SetPageSettings]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[aspnet_Personalization_BasicAccess]" Disambiguator="23" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser_GetPageSettings]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[aspnet_Personalization_BasicAccess]" Disambiguator="23" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser_ResetPageSettings]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[aspnet_Personalization_BasicAccess]" Disambiguator="23" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser_SetPageSettings]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[aspnet_Personalization_ReportingAccess]" Disambiguator="24" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_FindState]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[aspnet_Personalization_ReportingAccess]" Disambiguator="24" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_GetCountOfState]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[aspnet_Personalization_ReportingAccess]" Disambiguator="24" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[vw_aspnet_WebPartState_Paths]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[aspnet_Personalization_ReportingAccess]" Disambiguator="24" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[vw_aspnet_WebPartState_Shared]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="2" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[aspnet_Personalization_ReportingAccess]" Disambiguator="24" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[vw_aspnet_WebPartState_User]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlPermissionStatement">
			<Property Name="Permission" Value="1070" />
			<Relationship Name="Grantee">
				<Entry>
					<References Name="[aspnet_WebEvent_FullAccess]" Disambiguator="25" />
				</Entry>
			</Relationship>
			<Relationship Name="Grantor">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="SecuredObject">
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_LogEvent]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References Name="[aspnet_Personalization_BasicAccess]" Disambiguator="23" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[aspnet_Personalization_FullAccess]" Disambiguator="22" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References Name="[aspnet_Personalization_ReportingAccess]" Disambiguator="24" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References Name="[aspnet_Personalization_ReportingAccess]" Disambiguator="24" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References Name="[aspnet_WebEvent_FullAccess]" Disambiguator="25" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[db_owner]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[db_accessadmin]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[db_securityadmin]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[db_ddladmin]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[db_backupoperator]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[db_datareader]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[db_datawriter]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[db_denydatareader]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[db_denydatawriter]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[PracticeManagementUser]" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References Name="[PracticeManager]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[PracticeManagementUser]" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References Name="[PracticeUnitTest]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References Name="[PracticeUnitTest]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References Name="[aspnet_Membership_FullAccess]" Disambiguator="13" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[aspnet_Membership_FullAccess]" Disambiguator="13" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References Name="[aspnet_Membership_BasicAccess]" Disambiguator="14" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References Name="[aspnet_Membership_BasicAccess]" Disambiguator="14" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[aspnet_Membership_FullAccess]" Disambiguator="13" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References Name="[aspnet_Membership_ReportingAccess]" Disambiguator="15" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References Name="[aspnet_Membership_ReportingAccess]" Disambiguator="15" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References Name="[aspnet_Profile_FullAccess]" Disambiguator="16" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[aspnet_Profile_FullAccess]" Disambiguator="16" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References Name="[aspnet_Profile_BasicAccess]" Disambiguator="17" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References Name="[aspnet_Profile_BasicAccess]" Disambiguator="17" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[aspnet_Profile_FullAccess]" Disambiguator="16" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References Name="[aspnet_Profile_ReportingAccess]" Disambiguator="18" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References Name="[aspnet_Profile_ReportingAccess]" Disambiguator="18" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References Name="[aspnet_Roles_FullAccess]" Disambiguator="19" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[aspnet_Roles_FullAccess]" Disambiguator="19" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References Name="[aspnet_Roles_BasicAccess]" Disambiguator="20" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References Name="[aspnet_Roles_BasicAccess]" Disambiguator="20" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[aspnet_Roles_FullAccess]" Disambiguator="19" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References Name="[aspnet_Roles_ReportingAccess]" Disambiguator="21" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References Name="[aspnet_Roles_ReportingAccess]" Disambiguator="21" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References Name="[aspnet_Personalization_FullAccess]" Disambiguator="22" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlRoleMembership">
			<Relationship Name="Member">
				<Entry>
					<References Name="[aspnet_Personalization_FullAccess]" Disambiguator="22" />
				</Entry>
			</Relationship>
			<Relationship Name="Role">
				<Entry>
					<References Name="[aspnet_Personalization_BasicAccess]" Disambiguator="23" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Role" Name="[aspnet_Membership_BasicAccess]" Disambiguator="14">
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Schema" Name="[aspnet_Membership_BasicAccess]">
			<Relationship Name="Authorizer">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Role" Name="[aspnet_Membership_FullAccess]" Disambiguator="13">
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Schema" Name="[aspnet_Membership_FullAccess]">
			<Relationship Name="Authorizer">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Role" Name="[aspnet_Membership_ReportingAccess]" Disambiguator="15">
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Schema" Name="[aspnet_Membership_ReportingAccess]">
			<Relationship Name="Authorizer">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Role" Name="[aspnet_Personalization_BasicAccess]" Disambiguator="23">
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Schema" Name="[aspnet_Personalization_BasicAccess]">
			<Relationship Name="Authorizer">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Role" Name="[aspnet_Personalization_FullAccess]" Disambiguator="22">
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Schema" Name="[aspnet_Personalization_FullAccess]">
			<Relationship Name="Authorizer">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Role" Name="[aspnet_Personalization_ReportingAccess]" Disambiguator="24">
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Schema" Name="[aspnet_Personalization_ReportingAccess]">
			<Relationship Name="Authorizer">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Role" Name="[aspnet_Profile_BasicAccess]" Disambiguator="17">
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Schema" Name="[aspnet_Profile_BasicAccess]">
			<Relationship Name="Authorizer">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Role" Name="[aspnet_Profile_FullAccess]" Disambiguator="16">
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Schema" Name="[aspnet_Profile_FullAccess]">
			<Relationship Name="Authorizer">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Role" Name="[aspnet_Profile_ReportingAccess]" Disambiguator="18">
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Schema" Name="[aspnet_Profile_ReportingAccess]">
			<Relationship Name="Authorizer">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Role" Name="[aspnet_Roles_BasicAccess]" Disambiguator="20">
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Schema" Name="[aspnet_Roles_BasicAccess]">
			<Relationship Name="Authorizer">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Role" Name="[aspnet_Roles_FullAccess]" Disambiguator="19">
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Schema" Name="[aspnet_Roles_FullAccess]">
			<Relationship Name="Authorizer">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Role" Name="[aspnet_Roles_ReportingAccess]" Disambiguator="21">
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Schema" Name="[aspnet_Roles_ReportingAccess]">
			<Relationship Name="Authorizer">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Role" Name="[aspnet_WebEvent_FullAccess]" Disambiguator="25">
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Schema" Name="[aspnet_WebEvent_FullAccess]">
			<Relationship Name="Authorizer">
				<Entry>
					<References Name="[setuptest]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Route" Name="[AutoCreatedLocal]">
			<Property Name="Address" Value="LOCAL" />
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ActivityLogGetCount]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	/*
	-= NoteTarget table =-
	1	Milestone
	2	Project
	3	Person
	4	Opportunity
	5	BillingInfo
	*/

	SELECT COUNT(*) AS NUM
	  FROM dbo.UserActivityLog AS a
	       INNER JOIN dbo.UserActivityType AS t ON a.ActivityTypeID = t.ActivityTypeID
    WHERE a.LogDate BETWEEN @StartDate AND @EndDate
				  AND(
				  ((@EventSource = 'Error' OR @EventSource = 'All' )AND a.LogData.exist('/Error') = 1)								  
				  OR ((@EventSource = 'TimeEntry' OR @EventSource = 'All' ) AND a.LogData.exist('/TimeEntry') = 1)
				  OR (@EventSource = 'All' AND a.LogData.exist('/') = 1)
			      OR ((@EventSource = 'Person' OR @EventSource = 'All')
							 AND (a.LogData.exist('/Person') = 1 
								  OR a.LogData.exist('/Roles') = 1 
								  OR a.LogData.value('(/Note/NEW_VALUES/@NoteTargetId)[1]', 'int') = 3
								 )
							AND 
								(
									(a.LogData.value('(/*/*/@PersonId)[1]', 'int') = @PersonId 
									OR a.LogData.value('(/TimeEntry/NEW_VALUES/@ObjectPersonId)[1]', 'int') = @PersonId
									OR a.PersonId = @PersonId
									OR a.LogData.value('(/*/*/*/@PersonId)[1]', 'int') = @PersonId
									OR a.LogData.value('(/*/*/@MilestonePersonId)[1]', 'int') = @PersonId
									OR a.LogData.value('(/*/*/@PracticeManagerId)[1]', 'int') = @PersonId
									)
								OR @PersonId IS NULL
											
								)
				     )
				  OR (
						((@EventSource = 'Project'  OR @EventSource = 'All') 
							AND (a.LogData.exist('/Project') = 1 
								 OR a.LogData.value('(/Note/NEW_VALUES/@NoteTargetId)[1]', 'int') in (1, 2)
							     OR a.LogData.exist('/Milestone') = 1 )
						)
						AND 
						(@ProjectId IS NULL 
						 OR a.LogData.value('(/Milestone/NEW_VALUES/@MilestoneProjectId)[1]', 'int') = @ProjectId
						 OR a.LogData.value('(/Project/NEW_VALUES/@ProjectId)[1]', 'int') = @ProjectId
						 OR a.LogData.value('(/Note/NEW_VALUES/@TargetId)[1]', 'int') = @ProjectId
						 )
					 )
					 
				  OR (
						(@EventSource = 'Opportunity' OR @EventSource = 'All') 
							AND (a.LogData.exist('/Opportunity') = 1 
								OR a.LogData.exist('/OpportunityTransition') = 1 
								OR a.LogData.value('(/Note/NEW_VALUES/@NoteTargetId)[1]', 'int') = 4
								)
							AND (@OpportunityId IS NULL OR 
								a.LogData.value('(/Opportunity/NEW_VALUES/@OpportunityId)[1]', 'int') = @OpportunityId OR 
								a.LogData.value('(/OpportunityTransition/NEW_VALUES/@OpportunityId)[1]', 'int') = @OpportunityId OR
								a.LogData.value('(/Note/NEW_VALUES/@TargetId)[1]', 'int') = @OpportunityId)
					 ) 
				  OR ((@EventSource = 'Milestone' OR @EventSource = 'All')  
					  AND (a.LogData.exist('/Milestone') = 1 
							OR a.LogData.value('(/Note/NEW_VALUES/@NoteTargetId)[1]', 'int') = 1
							)
					  AND(@MilestoneId IS NULL 
					     OR a.LogData.value('(/Milestone/NEW_VALUES/@MilestoneId)[1]', 'int') = @MilestoneId 
					     OR a.LogData.value('(/Note/NEW_VALUES/@TargetId)[1]', 'int') = @MilestoneId))
																		  
				  OR ((@EventSource = 'ProjectAndMilestones' OR @EventSource = 'All') AND (a.LogData.exist('/Project') = 1 
																	OR a.LogData.exist('/Milestone') = 1
																 ) 
					 )
				  OR ((@EventSource = 'TargetPerson' OR @EventSource = 'All')	 AND ( @PersonId IS NULL 
															OR a.LogData.value('(/*/*/@PersonId)[1]', 'int') = @PersonId
															OR a.LogData.value('(/*/*/*/@PersonId)[1]', 'int') = @PersonId
															OR a.LogData.value('(/*/*/@MilestonePersonId)[1]', 'int') = @PersonId
															OR a.LogData.value('(/*/*/@PracticeManagerId)[1]', 'int') = @PersonId
															OR a.PersonID = @PersonId
															OR a.LogData.value('(/Note/NEW_VALUES/@TargetId)[1]', 'int') = @PersonId
														  )
					 ))
	
					AND (@ProjectId IS NULL 
						 OR a.LogData.value('(/Project/NEW_VALUES/@ProjectId)[1]', 'int') = @ProjectId
						 OR a.LogData.value('(/Milestone/NEW_VALUES/@MilestoneProjectId)[1]', 'int') = @ProjectId
						 OR a.LogData.value('(/MilestonePerson/NEW_VALUES/@MilestoneProjectId)[1]', 'int') = @ProjectId
						 OR a.LogData.value('(/Note/NEW_VALUES/@TargetId)[1]', 'int') = @ProjectId
						 OR a.LogData.value('(/Note/NEW_VALUES/@ParentTargetId)[1]', 'int') = @ProjectId
						 OR a.LogData.value('(/TimeEntry/NEW_VALUES/@ProjectId)[1]', 'int') = @ProjectId
							)
					AND (@PersonId IS NULL 
						OR a.PersonId = @PersonId
						OR a.LogData.value('(/*/*/@PersonId)[1]', 'int') = @PersonId 
						OR a.LogData.value('(/TimeEntry/NEW_VALUES/@ObjectPersonId)[1]', 'int') = @PersonId
						OR a.LogData.value('(/*/*/*/@PersonId)[1]', 'int') = @PersonId
						OR a.LogData.value('(/*/*/@MilestonePersonId)[1]', 'int') = @PersonId
						OR a.LogData.value('(/*/*/@PracticeManagerId)[1]', 'int') = @PersonId
						OR (a.LogData.value('(/Note/NEW_VALUES/@TargetId)[1]', 'int') = @PersonId
							AND a.LogData.value('(/Note/NEW_VALUES/@NoteTargetId)[1]', 'int') = 3)
						)]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[UserActivityLog]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ActivityTypeID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityType].[ActivityTypeID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LogDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ActivityLogGetCount].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ActivityLogGetCount].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ActivityLogGetCount].[@EventSource]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LogData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LogData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ActivityLogGetCount].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[PersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ActivityLogGetCount].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ActivityLogGetCount].[@OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ActivityLogGetCount].[@MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[PersonID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ActivityLogGetCount].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ActivityLogGetCount].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ActivityLogGetCount].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ActivityLogGetCount].[@ProjectId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ActivityLogGetCount].[@EventSource]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ActivityLogGetCount].[@OpportunityId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ActivityLogGetCount].[@MilestoneId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="5267" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[ActivityLogGetCount]&#xD;&#xA;(&#xD;&#xA;&#x9;@StartDate     DATETIME,&#xD;&#xA;&#x9;@EndDate       DATETIME,&#xD;&#xA;&#x9;@PersonId      INT,&#xD;&#xA;&#x9;@ProjectId&#x9;   INT = NULL,&#xD;&#xA;&#x9;@EventSource   NVARCHAR(20),&#xD;&#xA;&#x9;@OpportunityId INT = NULL,&#xD;&#xA;&#x9;@MilestoneId   INT = NULL&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ActivityLogListByPeriod]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	/*
	-= NoteTarget table =-
	1	Milestone
	2	Project
	3	Person
	4	Opportunity
	5	BillingInfo
	*/

	DECLARE @FirstRecord INT
	DECLARE @LastRecord INT
	SET @FirstRecord = @PageSize * @PageNo
	SET @LastRecord = @FirstRecord + @PageSize

	print @FirstRecord
	print @LastRecord

	SELECT -- Listing a specified page
	       tmp.ActivityID,
	       tmp.ActivityTypeID,
	       tmp.SessionID,
	       tmp.LogDate,
	       tmp.SystemUser,
	       tmp.Workstation,
	       tmp.ApplicationName,
	       tmp.UserLogin,
	       tmp.PersonID,
	       tmp.LastName,
	       tmp.FirstName,
	       tmp.LogData,
	       tmp.ActivityName
	  FROM (
	        SELECT TOP (@LastRecord)
	               a.ActivityID,
	               a.ActivityTypeID,
	               a.SessionID,
	               a.LogDate,
	               a.SystemUser,
	               a.Workstation,
	               a.ApplicationName,
	               a.UserLogin,
	               a.PersonID,
	               a.LastName,
	               a.FirstName,
	               a.LogData,
	               t.ActivityName,
	               ROW_NUMBER() OVER(ORDER BY a.LogDate DESC) - 1 AS rownum
	          FROM dbo.UserActivityLog AS a
	               INNER JOIN dbo.UserActivityType AS t ON a.ActivityTypeID = t.ActivityTypeID
	         WHERE a.LogDate BETWEEN @StartDate AND @EndDate
				  AND(
				  ((@EventSource = 'Error' OR @EventSource = 'All' )AND a.LogData.exist('/Error') = 1)								  
				  OR ((@EventSource = 'TimeEntry' OR @EventSource = 'All' ) AND a.LogData.exist('/TimeEntry') = 1)
				  OR (@EventSource = 'All' AND a.LogData.exist('/') = 1)
			      OR ((@EventSource = 'Person' OR @EventSource = 'All')
							 AND (a.LogData.exist('/Person') = 1 
								  OR a.LogData.exist('/Roles') = 1 
								  OR a.LogData.value('(/Note/NEW_VALUES/@NoteTargetId)[1]', 'int') = 3
								 )
							AND 
								(
									(a.LogData.value('(/*/*/@PersonId)[1]', 'int') = @PersonId 
									OR a.LogData.value('(/TimeEntry/NEW_VALUES/@ObjectPersonId)[1]', 'int') = @PersonId
									OR a.PersonId = @PersonId
									OR a.LogData.value('(/*/*/*/@PersonId)[1]', 'int') = @PersonId
									OR a.LogData.value('(/*/*/@MilestonePersonId)[1]', 'int') = @PersonId
									OR a.LogData.value('(/*/*/@PracticeManagerId)[1]', 'int') = @PersonId
									)
								OR @PersonId IS NULL
											
								)
				     )
				  OR (
						((@EventSource = 'Project'  OR @EventSource = 'All') 
							AND (a.LogData.exist('/Project') = 1 
								 OR a.LogData.value('(/Note/NEW_VALUES/@NoteTargetId)[1]', 'int') in (1, 2)
							     OR a.LogData.exist('/Milestone') = 1 )
						)
						AND 
						(@ProjectId IS NULL 
						 OR a.LogData.value('(/Milestone/NEW_VALUES/@MilestoneProjectId)[1]', 'int') = @ProjectId
						 OR a.LogData.value('(/Project/NEW_VALUES/@ProjectId)[1]', 'int') = @ProjectId
						 OR a.LogData.value('(/Note/NEW_VALUES/@TargetId)[1]', 'int') = @ProjectId
						 )
					 )
					 
				  OR (
						(@EventSource = 'Opportunity' OR @EventSource = 'All') 
							AND (a.LogData.exist('/Opportunity') = 1 
								OR a.LogData.exist('/OpportunityTransition') = 1 
								OR a.LogData.value('(/Note/NEW_VALUES/@NoteTargetId)[1]', 'int') = 4
								)
							AND (@OpportunityId IS NULL OR 
								a.LogData.value('(/Opportunity/NEW_VALUES/@OpportunityId)[1]', 'int') = @OpportunityId OR 
								a.LogData.value('(/OpportunityTransition/NEW_VALUES/@OpportunityId)[1]', 'int') = @OpportunityId OR
								a.LogData.value('(/Note/NEW_VALUES/@TargetId)[1]', 'int') = @OpportunityId)
					 ) 
				  OR ((@EventSource = 'Milestone' OR @EventSource = 'All')  
					  AND (a.LogData.exist('/Milestone') = 1 
							OR a.LogData.value('(/Note/NEW_VALUES/@NoteTargetId)[1]', 'int') = 1
							)
					  AND(@MilestoneId IS NULL 
					     OR a.LogData.value('(/Milestone/NEW_VALUES/@MilestoneId)[1]', 'int') = @MilestoneId 
					     OR a.LogData.value('(/Note/NEW_VALUES/@TargetId)[1]', 'int') = @MilestoneId))
																		  
				  OR ((@EventSource = 'ProjectAndMilestones' OR @EventSource = 'All') AND (a.LogData.exist('/Project') = 1 
																	OR a.LogData.exist('/Milestone') = 1
																 ) 
					 )
				  OR ((@EventSource = 'TargetPerson' OR @EventSource = 'All')	 AND ( @PersonId IS NULL 
															OR a.LogData.value('(/*/*/@PersonId)[1]', 'int') = @PersonId
															OR a.LogData.value('(/*/*/*/@PersonId)[1]', 'int') = @PersonId
															OR a.LogData.value('(/*/*/@MilestonePersonId)[1]', 'int') = @PersonId
															OR a.LogData.value('(/*/*/@PracticeManagerId)[1]', 'int') = @PersonId
															OR a.PersonID = @PersonId
															OR a.LogData.value('(/Note/NEW_VALUES/@TargetId)[1]', 'int') = @PersonId
														  )
					 ))
	
					AND (@ProjectId IS NULL 
						 OR a.LogData.value('(/Project/NEW_VALUES/@ProjectId)[1]', 'int') = @ProjectId
						 OR a.LogData.value('(/Milestone/NEW_VALUES/@MilestoneProjectId)[1]', 'int') = @ProjectId
						 OR a.LogData.value('(/MilestonePerson/NEW_VALUES/@MilestoneProjectId)[1]', 'int') = @ProjectId
						 OR a.LogData.value('(/Note/NEW_VALUES/@TargetId)[1]', 'int') = @ProjectId
						 OR a.LogData.value('(/Note/NEW_VALUES/@ParentTargetId)[1]', 'int') = @ProjectId
						 OR a.LogData.value('(/TimeEntry/NEW_VALUES/@ProjectId)[1]', 'int') = @ProjectId
							)
					AND (@PersonId IS NULL 
						OR a.PersonId = @PersonId
						OR a.LogData.value('(/*/*/@PersonId)[1]', 'int') = @PersonId 
						OR a.LogData.value('(/TimeEntry/NEW_VALUES/@ObjectPersonId)[1]', 'int') = @PersonId
						OR a.LogData.value('(/*/*/*/@PersonId)[1]', 'int') = @PersonId
						OR a.LogData.value('(/*/*/@MilestonePersonId)[1]', 'int') = @PersonId
						OR a.LogData.value('(/*/*/@PracticeManagerId)[1]', 'int') = @PersonId
						OR (a.LogData.value('(/Note/NEW_VALUES/@TargetId)[1]', 'int') = @PersonId
							AND a.LogData.value('(/Note/NEW_VALUES/@NoteTargetId)[1]', 'int') = 3)
						)
	        ORDER BY a.LogDate DESC) AS tmp
		 WHERE tmp.rownum BETWEEN @FirstRecord AND @LastRecord - 1
		ORDER BY tmp.LogDate DESC]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ActivityLogListByPeriod].[@PageSize]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ActivityLogListByPeriod].[@PageNo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ActivityTypeID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityType].[ActivityTypeID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ActivityID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SessionID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LogDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SystemUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[Workstation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[PersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LogData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityType].[ActivityName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ActivityLogListByPeriod].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ActivityLogListByPeriod].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ActivityLogListByPeriod].[@EventSource]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LogData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LogData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ActivityLogListByPeriod].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[PersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ActivityLogListByPeriod].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ActivityLogListByPeriod].[@OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ActivityLogListByPeriod].[@MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ActivityID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ActivityTypeID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SessionID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LogDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SystemUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[Workstation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[PersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LogData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityType].[ActivityName]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ActivityLogListByPeriod].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ActivityLogListByPeriod].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ActivityLogListByPeriod].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ActivityLogListByPeriod].[@ProjectId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ActivityLogListByPeriod].[@PageSize]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ActivityLogListByPeriod].[@PageNo]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ActivityLogListByPeriod].[@EventSource]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ActivityLogListByPeriod].[@OpportunityId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ActivityLogListByPeriod].[@MilestoneId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="6511" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[ActivityLogListByPeriod]&#xD;&#xA;(&#xD;&#xA;&#x9;@StartDate     DATETIME,&#xD;&#xA;&#x9;@EndDate       DATETIME,&#xD;&#xA;&#x9;@PersonId      INT,&#xD;&#xA;&#x9;@ProjectId&#x9;   INT = NULL,&#xD;&#xA;&#x9;@PageSize      INT,&#xD;&#xA;&#x9;@PageNo        INT,&#xD;&#xA;&#x9;@EventSource   NVARCHAR(20),&#xD;&#xA;&#x9;@OpportunityId INT = NULL,&#xD;&#xA;&#x9;@MilestoneId   INT = NULL&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_AnyDataInTables]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    -- Check Membership table if (@TablesToCheck & 1) is set
    IF ((@TablesToCheck & 1) <> 0 AND
        (EXISTS (SELECT name FROM sysobjects WHERE (name = N'vw_aspnet_MembershipUsers') AND (type = 'V'))))
    BEGIN
        IF (EXISTS(SELECT TOP 1 UserId FROM dbo.aspnet_Membership))
        BEGIN
            SELECT N'aspnet_Membership'
            RETURN
        END
    END

    -- Check aspnet_Roles table if (@TablesToCheck & 2) is set
    IF ((@TablesToCheck & 2) <> 0  AND
        (EXISTS (SELECT name FROM sysobjects WHERE (name = N'vw_aspnet_Roles') AND (type = 'V'))) )
    BEGIN
        IF (EXISTS(SELECT TOP 1 RoleId FROM dbo.aspnet_Roles))
        BEGIN
            SELECT N'aspnet_Roles'
            RETURN
        END
    END

    -- Check aspnet_Profile table if (@TablesToCheck & 4) is set
    IF ((@TablesToCheck & 4) <> 0  AND
        (EXISTS (SELECT name FROM sysobjects WHERE (name = N'vw_aspnet_Profiles') AND (type = 'V'))) )
    BEGIN
        IF (EXISTS(SELECT TOP 1 UserId FROM dbo.aspnet_Profile))
        BEGIN
            SELECT N'aspnet_Profile'
            RETURN
        END
    END

    -- Check aspnet_PersonalizationPerUser table if (@TablesToCheck & 8) is set
    IF ((@TablesToCheck & 8) <> 0  AND
        (EXISTS (SELECT name FROM sysobjects WHERE (name = N'vw_aspnet_WebPartState_User') AND (type = 'V'))) )
    BEGIN
        IF (EXISTS(SELECT TOP 1 UserId FROM dbo.aspnet_PersonalizationPerUser))
        BEGIN
            SELECT N'aspnet_PersonalizationPerUser'
            RETURN
        END
    END

    -- Check aspnet_PersonalizationPerUser table if (@TablesToCheck & 16) is set
    IF ((@TablesToCheck & 16) <> 0  AND
        (EXISTS (SELECT name FROM sysobjects WHERE (name = N'aspnet_WebEvent_LogEvent') AND (type = 'P'))) )
    BEGIN
        IF (EXISTS(SELECT TOP 1 * FROM dbo.aspnet_WebEvent_Events))
        BEGIN
            SELECT N'aspnet_WebEvent_Events'
            RETURN
        END
    END

    -- Check aspnet_Users table if (@TablesToCheck & 1,2,4 & 8) are all set
    IF ((@TablesToCheck & 1) <> 0 AND
        (@TablesToCheck & 2) <> 0 AND
        (@TablesToCheck & 4) <> 0 AND
        (@TablesToCheck & 8) <> 0 AND
        (@TablesToCheck & 32) <> 0 AND
        (@TablesToCheck & 128) <> 0 AND
        (@TablesToCheck & 256) <> 0 AND
        (@TablesToCheck & 512) <> 0 AND
        (@TablesToCheck & 1024) <> 0)
    BEGIN
        IF (EXISTS(SELECT TOP 1 UserId FROM dbo.aspnet_Users))
        BEGIN
            SELECT N'aspnet_Users'
            RETURN
        END
        IF (EXISTS(SELECT TOP 1 ApplicationId FROM dbo.aspnet_Applications))
        BEGIN
            SELECT N'aspnet_Applications'
            RETURN
        END
    END
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[aspnet_AnyDataInTables].[@TablesToCheck]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_Events]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_AnyDataInTables].[@TablesToCheck]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2784" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_AnyDataInTables]&#xA;    @TablesToCheck int&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[aspnet_Applications]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Applications].[ApplicationName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Applications].[LoweredApplicationName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Applications].[ApplicationId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="40" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Applications].[Description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="26" />
			<AttachedAnnotation Disambiguator="38" />
			<AttachedAnnotation Disambiguator="39" />
		</Element>
		<Element Type="ISql100Index" Name="[dbo].[aspnet_Applications].[aspnet_Applications_Index]">
			<Property Name="IsClustered" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Applications_CreateApplication]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    SELECT  @ApplicationId = ApplicationId FROM dbo.aspnet_Applications WHERE LOWER(@ApplicationName) = LoweredApplicationName

    IF(@ApplicationId IS NULL)
    BEGIN
        DECLARE @TranStarted   bit
        SET @TranStarted = 0

        IF( @@TRANCOUNT = 0 )
        BEGIN
	        BEGIN TRANSACTION
	        SET @TranStarted = 1
        END
        ELSE
    	    SET @TranStarted = 0

        SELECT  @ApplicationId = ApplicationId
        FROM dbo.aspnet_Applications WITH (UPDLOCK, HOLDLOCK)
        WHERE LOWER(@ApplicationName) = LoweredApplicationName

        IF(@ApplicationId IS NULL)
        BEGIN
            SELECT  @ApplicationId = NEWID()
            INSERT  dbo.aspnet_Applications (ApplicationId, ApplicationName, LoweredApplicationName)
            VALUES  (@ApplicationId, @ApplicationName, LOWER(@ApplicationName))
        END


        IF( @TranStarted = 1 )
        BEGIN
            IF(@@ERROR = 0)
            BEGIN
	        SET @TranStarted = 0
	        COMMIT TRANSACTION
            END
            ELSE
            BEGIN
                SET @TranStarted = 0
                ROLLBACK TRANSACTION
            END
        END
    END
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications_CreateApplication].[@ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications_CreateApplication].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationName]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Applications_CreateApplication].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Applications_CreateApplication].[@ApplicationId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1329" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_Applications_CreateApplication]&#xA;    @ApplicationName      nvarchar(256),&#xA;    @ApplicationId        uniqueidentifier OUTPUT&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_CheckSchemaVersion]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    IF (EXISTS( SELECT  *
                FROM    dbo.aspnet_SchemaVersions
                WHERE   Feature = LOWER( @Feature ) AND
                        CompatibleSchemaVersion = @CompatibleSchemaVersion ))
        RETURN 0

    RETURN 1
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[aspnet_SchemaVersions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_SchemaVersions].[Feature]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_CheckSchemaVersion].[@Feature]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_SchemaVersions].[CompatibleSchemaVersion]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_CheckSchemaVersion].[@CompatibleSchemaVersion]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_CheckSchemaVersion].[@Feature]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_CheckSchemaVersion].[@CompatibleSchemaVersion]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="395" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_CheckSchemaVersion]&#xA;    @Feature                   nvarchar(128),&#xA;    @CompatibleSchemaVersion   nvarchar(128)&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[aspnet_Membership]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="TextInRowSize" Value="3000" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Membership].[ApplicationId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Membership].[UserId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Membership].[Password]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Membership].[PasswordFormat]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="44" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Membership].[PasswordSalt]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Membership].[MobilePIN]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="16" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Membership].[Email]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Membership].[LoweredEmail]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Membership].[PasswordQuestion]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Membership].[PasswordAnswer]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Membership].[IsApproved]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Membership].[IsLockedOut]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Membership].[CreateDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Membership].[LastLoginDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Membership].[LastPasswordChangedDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Membership].[LastLockoutDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Membership].[FailedPasswordAttemptCount]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Membership].[FailedPasswordAttemptWindowStart]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Membership].[FailedPasswordAnswerAttemptCount]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Membership].[FailedPasswordAnswerAttemptWindowStart]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Membership].[Comment]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[ntext]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="51" />
			<AttachedAnnotation Disambiguator="53" />
			<AttachedAnnotation Disambiguator="52" />
			<AttachedAnnotation Disambiguator="54" />
			<AttachedAnnotation Disambiguator="29" />
		</Element>
		<Element Type="ISql100Statistic" Name="[dbo].[aspnet_Membership].[_dta_stat_1310627712_11_1_8]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[IsApproved]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LoweredEmail]" />
				</Entry>
			</Relationship>
			<Relationship Name="Subject">
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Statistic" Name="[dbo].[aspnet_Membership].[_dta_stat_1310627712_11_2]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[IsApproved]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Subject">
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Statistic" Name="[dbo].[aspnet_Membership].[_dta_stat_1310627712_2_1_8]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LoweredEmail]" />
				</Entry>
			</Relationship>
			<Relationship Name="Subject">
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Index" Name="[dbo].[aspnet_Membership].[aspnet_Membership_index]">
			<Property Name="IsClustered" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_Membership].[ApplicationId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_Membership].[LoweredEmail]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Membership_ChangePasswordQuestionAndAnswer]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @UserId uniqueidentifier
    SELECT  @UserId = NULL
    SELECT  @UserId = u.UserId
    FROM    dbo.aspnet_Membership m, dbo.aspnet_Users u, dbo.aspnet_Applications a
    WHERE   LoweredUserName = LOWER(@UserName) AND
            u.ApplicationId = a.ApplicationId  AND
            LOWER(@ApplicationName) = a.LoweredApplicationName AND
            u.UserId = m.UserId
    IF (@UserId IS NULL)
    BEGIN
        RETURN(1)
    END

    UPDATE dbo.aspnet_Membership
    SET    PasswordQuestion = @NewPasswordQuestion, PasswordAnswer = @NewPasswordAnswer
    WHERE  UserId=@UserId
    RETURN(0)
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_ChangePasswordQuestionAndAnswer].[@UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_ChangePasswordQuestionAndAnswer].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[PasswordQuestion]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_ChangePasswordQuestionAndAnswer].[@NewPasswordQuestion]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[PasswordAnswer]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_ChangePasswordQuestionAndAnswer].[@NewPasswordAnswer]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_ChangePasswordQuestionAndAnswer].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_ChangePasswordQuestionAndAnswer].[@UserName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_ChangePasswordQuestionAndAnswer].[@NewPasswordQuestion]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_ChangePasswordQuestionAndAnswer].[@NewPasswordAnswer]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="856" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_Membership_ChangePasswordQuestionAndAnswer]&#xA;    @ApplicationName       nvarchar(256),&#xA;    @UserName              nvarchar(256),&#xA;    @NewPasswordQuestion   nvarchar(256),&#xA;    @NewPasswordAnswer     nvarchar(128)&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Membership_CreateUser]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @ApplicationId uniqueidentifier
    SELECT  @ApplicationId = NULL

    DECLARE @NewUserId uniqueidentifier
    SELECT @NewUserId = NULL

    DECLARE @IsLockedOut bit
    SET @IsLockedOut = 0

    DECLARE @LastLockoutDate  datetime
    SET @LastLockoutDate = CONVERT( datetime, '17540101', 112 )

    DECLARE @FailedPasswordAttemptCount int
    SET @FailedPasswordAttemptCount = 0

    DECLARE @FailedPasswordAttemptWindowStart  datetime
    SET @FailedPasswordAttemptWindowStart = CONVERT( datetime, '17540101', 112 )

    DECLARE @FailedPasswordAnswerAttemptCount int
    SET @FailedPasswordAnswerAttemptCount = 0

    DECLARE @FailedPasswordAnswerAttemptWindowStart  datetime
    SET @FailedPasswordAnswerAttemptWindowStart = CONVERT( datetime, '17540101', 112 )

    DECLARE @NewUserCreated bit
    DECLARE @ReturnValue   int
    SET @ReturnValue = 0

    DECLARE @ErrorCode     int
    SET @ErrorCode = 0

    DECLARE @TranStarted   bit
    SET @TranStarted = 0

    IF( @@TRANCOUNT = 0 )
    BEGIN
	    BEGIN TRANSACTION
	    SET @TranStarted = 1
    END
    ELSE
    	SET @TranStarted = 0

    EXEC dbo.aspnet_Applications_CreateApplication @ApplicationName, @ApplicationId OUTPUT

    IF( @@ERROR <> 0 )
    BEGIN
        SET @ErrorCode = -1
        GOTO Cleanup
    END

    SET @CreateDate = @CurrentTimeUtc

    SELECT  @NewUserId = UserId FROM dbo.aspnet_Users WHERE LOWER(@UserName) = LoweredUserName AND @ApplicationId = ApplicationId
    IF ( @NewUserId IS NULL )
    BEGIN
        SET @NewUserId = @UserId
        EXEC @ReturnValue = dbo.aspnet_Users_CreateUser @ApplicationId, @UserName, 0, @CreateDate, @NewUserId OUTPUT
        SET @NewUserCreated = 1
    END
    ELSE
    BEGIN
        SET @NewUserCreated = 0
        IF( @NewUserId <> @UserId AND @UserId IS NOT NULL )
        BEGIN
            SET @ErrorCode = 6
            GOTO Cleanup
        END
    END

    IF( @@ERROR <> 0 )
    BEGIN
        SET @ErrorCode = -1
        GOTO Cleanup
    END

    IF( @ReturnValue = -1 )
    BEGIN
        SET @ErrorCode = 10
        GOTO Cleanup
    END

    IF ( EXISTS ( SELECT UserId
                  FROM   dbo.aspnet_Membership
                  WHERE  @NewUserId = UserId ) )
    BEGIN
        SET @ErrorCode = 6
        GOTO Cleanup
    END

    SET @UserId = @NewUserId

    IF (@UniqueEmail = 1)
    BEGIN
        IF (EXISTS (SELECT *
                    FROM  dbo.aspnet_Membership m WITH ( UPDLOCK, HOLDLOCK )
                    WHERE ApplicationId = @ApplicationId AND LoweredEmail = LOWER(@Email)))
        BEGIN
            SET @ErrorCode = 7
            GOTO Cleanup
        END
    END

    IF (@NewUserCreated = 0)
    BEGIN
        UPDATE dbo.aspnet_Users
        SET    LastActivityDate = @CreateDate
        WHERE  @UserId = UserId
        IF( @@ERROR <> 0 )
        BEGIN
            SET @ErrorCode = -1
            GOTO Cleanup
        END
    END

    INSERT INTO dbo.aspnet_Membership
                ( ApplicationId,
                  UserId,
                  Password,
                  PasswordSalt,
                  Email,
                  LoweredEmail,
                  PasswordQuestion,
                  PasswordAnswer,
                  PasswordFormat,
                  IsApproved,
                  IsLockedOut,
                  CreateDate,
                  LastLoginDate,
                  LastPasswordChangedDate,
                  LastLockoutDate,
                  FailedPasswordAttemptCount,
                  FailedPasswordAttemptWindowStart,
                  FailedPasswordAnswerAttemptCount,
                  FailedPasswordAnswerAttemptWindowStart )
         VALUES ( @ApplicationId,
                  @UserId,
                  @Password,
                  @PasswordSalt,
                  @Email,
                  LOWER(@Email),
                  @PasswordQuestion,
                  @PasswordAnswer,
                  @PasswordFormat,
                  @IsApproved,
                  @IsLockedOut,
                  @CreateDate,
                  @CreateDate,
                  @CreateDate,
                  @LastLockoutDate,
                  @FailedPasswordAttemptCount,
                  @FailedPasswordAttemptWindowStart,
                  @FailedPasswordAnswerAttemptCount,
                  @FailedPasswordAnswerAttemptWindowStart )

    IF( @@ERROR <> 0 )
    BEGIN
        SET @ErrorCode = -1
        GOTO Cleanup
    END

    IF( @TranStarted = 1 )
    BEGIN
	    SET @TranStarted = 0
	    COMMIT TRANSACTION
    END

    RETURN 0

Cleanup:

    IF( @TranStarted = 1 )
    BEGIN
        SET @TranStarted = 0
    	ROLLBACK TRANSACTION
    END

    RETURN @ErrorCode

END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications_CreateApplication]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_CreateUser].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_CreateUser].[@CreateDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_CreateUser].[@CurrentTimeUtc]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_CreateUser].[@UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_CreateUser].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users_CreateUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_CreateUser].[@UniqueEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LoweredEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_CreateUser].[@Email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[Password]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[PasswordSalt]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[Email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LoweredEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[PasswordQuestion]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[PasswordAnswer]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[PasswordFormat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[IsApproved]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[IsLockedOut]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[CreateDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastLoginDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastPasswordChangedDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastLockoutDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAttemptCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAttemptWindowStart]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAnswerAttemptCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAnswerAttemptWindowStart]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_CreateUser].[@Password]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_CreateUser].[@PasswordSalt]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_CreateUser].[@PasswordQuestion]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_CreateUser].[@PasswordAnswer]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_CreateUser].[@PasswordFormat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_CreateUser].[@IsApproved]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_CreateUser].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_CreateUser].[@UserName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_CreateUser].[@Password]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_CreateUser].[@PasswordSalt]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_CreateUser].[@Email]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_CreateUser].[@PasswordQuestion]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_CreateUser].[@PasswordAnswer]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_CreateUser].[@IsApproved]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_CreateUser].[@CurrentTimeUtc]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_CreateUser].[@CreateDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_CreateUser].[@UniqueEmail]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_CreateUser].[@PasswordFormat]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_CreateUser].[@UserId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="5483" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_Membership_CreateUser]&#xA;    @ApplicationName                        nvarchar(256),&#xA;    @UserName                               nvarchar(256),&#xA;    @Password                               nvarchar(128),&#xA;    @PasswordSalt                           nvarchar(128),&#xA;    @Email                                  nvarchar(256),&#xA;    @PasswordQuestion                       nvarchar(256),&#xA;    @PasswordAnswer                         nvarchar(128),&#xA;    @IsApproved                             bit,&#xA;    @CurrentTimeUtc                         datetime,&#xA;    @CreateDate                             datetime = NULL,&#xA;    @UniqueEmail                            int      = 0,&#xA;    @PasswordFormat                         int      = 0,&#xA;    @UserId                                 uniqueidentifier OUTPUT&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Membership_FindUsersByEmail]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @ApplicationId uniqueidentifier
    SELECT  @ApplicationId = NULL
    SELECT  @ApplicationId = ApplicationId FROM dbo.aspnet_Applications WHERE LOWER(@ApplicationName) = LoweredApplicationName
    IF (@ApplicationId IS NULL)
        RETURN 0

    -- Set the page bounds
    DECLARE @PageLowerBound int
    DECLARE @PageUpperBound int
    DECLARE @TotalRecords   int
    SET @PageLowerBound = @PageSize * @PageIndex
    SET @PageUpperBound = @PageSize - 1 + @PageLowerBound

    -- Create a temp table TO store the select results
    CREATE TABLE #PageIndexForUsers
    (
        IndexId int IDENTITY (0, 1) NOT NULL,
        UserId uniqueidentifier
    )

    -- Insert into our temp table
    IF( @EmailToMatch IS NULL )
        INSERT INTO #PageIndexForUsers (UserId)
            SELECT u.UserId
            FROM   dbo.aspnet_Users u, dbo.aspnet_Membership m
            WHERE  u.ApplicationId = @ApplicationId AND m.UserId = u.UserId AND m.Email IS NULL
            ORDER BY m.LoweredEmail
    ELSE
        INSERT INTO #PageIndexForUsers (UserId)
            SELECT u.UserId
            FROM   dbo.aspnet_Users u, dbo.aspnet_Membership m
            WHERE  u.ApplicationId = @ApplicationId AND m.UserId = u.UserId AND m.LoweredEmail LIKE LOWER(@EmailToMatch)
            ORDER BY m.LoweredEmail

    SELECT  u.UserName, m.Email, m.PasswordQuestion, m.Comment, m.IsApproved,
            m.CreateDate,
            m.LastLoginDate,
            u.LastActivityDate,
            m.LastPasswordChangedDate,
            u.UserId, m.IsLockedOut,
            m.LastLockoutDate
    FROM   dbo.aspnet_Membership m, dbo.aspnet_Users u, #PageIndexForUsers p
    WHERE  u.UserId = p.UserId AND u.UserId = m.UserId AND
           p.IndexId >= @PageLowerBound AND p.IndexId <= @PageUpperBound
    ORDER BY m.LoweredEmail

    SELECT  @TotalRecords = COUNT(*)
    FROM    #PageIndexForUsers
    RETURN @TotalRecords
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_FindUsersByEmail].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_FindUsersByEmail].[@PageSize]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_FindUsersByEmail].[@PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_FindUsersByEmail].[@EmailToMatch]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_FindUsersByEmail].[#PageIndexForUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_FindUsersByEmail].[#PageIndexForUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[Email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LoweredEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[Email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[PasswordQuestion]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[Comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[IsApproved]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[CreateDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastLoginDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastPasswordChangedDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[IsLockedOut]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastLockoutDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_FindUsersByEmail].[#PageIndexForUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_FindUsersByEmail].[#PageIndexForUsers].[IndexId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LoweredEmail]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[aspnet_Membership_FindUsersByEmail].[#PageIndexForUsers]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Membership_FindUsersByEmail].[#PageIndexForUsers].[IndexId]">
									<Property Name="IsNullable" Value="False" />
									<Property Name="IsIdentity" Value="True" />
									<Property Name="IdentitySeed" Value="0" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Membership_FindUsersByEmail].[#PageIndexForUsers].[UserId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_FindUsersByEmail].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_FindUsersByEmail].[@EmailToMatch]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_FindUsersByEmail].[@PageIndex]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_FindUsersByEmail].[@PageSize]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2132" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_Membership_FindUsersByEmail]&#xA;    @ApplicationName       nvarchar(256),&#xA;    @EmailToMatch          nvarchar(256),&#xA;    @PageIndex             int,&#xA;    @PageSize              int&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Membership_FindUsersByName]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @ApplicationId uniqueidentifier
    SELECT  @ApplicationId = NULL
    SELECT  @ApplicationId = ApplicationId FROM dbo.aspnet_Applications WHERE LOWER(@ApplicationName) = LoweredApplicationName
    IF (@ApplicationId IS NULL)
        RETURN 0

    -- Set the page bounds
    DECLARE @PageLowerBound int
    DECLARE @PageUpperBound int
    DECLARE @TotalRecords   int
    SET @PageLowerBound = @PageSize * @PageIndex
    SET @PageUpperBound = @PageSize - 1 + @PageLowerBound

    -- Create a temp table TO store the select results
    CREATE TABLE #PageIndexForUsers
    (
        IndexId int IDENTITY (0, 1) NOT NULL,
        UserId uniqueidentifier
    )

    -- Insert into our temp table
    INSERT INTO #PageIndexForUsers (UserId)
        SELECT u.UserId
        FROM   dbo.aspnet_Users u, dbo.aspnet_Membership m
        WHERE  u.ApplicationId = @ApplicationId AND m.UserId = u.UserId AND u.LoweredUserName LIKE LOWER(@UserNameToMatch)
        ORDER BY u.UserName


    SELECT  u.UserName, m.Email, m.PasswordQuestion, m.Comment, m.IsApproved,
            m.CreateDate,
            m.LastLoginDate,
            u.LastActivityDate,
            m.LastPasswordChangedDate,
            u.UserId, m.IsLockedOut,
            m.LastLockoutDate
    FROM   dbo.aspnet_Membership m, dbo.aspnet_Users u, #PageIndexForUsers p
    WHERE  u.UserId = p.UserId AND u.UserId = m.UserId AND
           p.IndexId >= @PageLowerBound AND p.IndexId <= @PageUpperBound
    ORDER BY u.UserName

    SELECT  @TotalRecords = COUNT(*)
    FROM    #PageIndexForUsers
    RETURN @TotalRecords
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_FindUsersByName].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_FindUsersByName].[@PageSize]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_FindUsersByName].[@PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_FindUsersByName].[#PageIndexForUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_FindUsersByName].[#PageIndexForUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_FindUsersByName].[@UserNameToMatch]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[Email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[PasswordQuestion]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[Comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[IsApproved]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[CreateDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastLoginDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastPasswordChangedDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[IsLockedOut]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastLockoutDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_FindUsersByName].[#PageIndexForUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_FindUsersByName].[#PageIndexForUsers].[IndexId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[aspnet_Membership_FindUsersByName].[#PageIndexForUsers]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Membership_FindUsersByName].[#PageIndexForUsers].[IndexId]">
									<Property Name="IsNullable" Value="False" />
									<Property Name="IsIdentity" Value="True" />
									<Property Name="IdentitySeed" Value="0" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Membership_FindUsersByName].[#PageIndexForUsers].[UserId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_FindUsersByName].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_FindUsersByName].[@UserNameToMatch]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_FindUsersByName].[@PageIndex]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_FindUsersByName].[@PageSize]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1798" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_Membership_FindUsersByName]&#xA;    @ApplicationName       nvarchar(256),&#xA;    @UserNameToMatch       nvarchar(256),&#xA;    @PageIndex             int,&#xA;    @PageSize              int&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Membership_GetAllUsers]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @ApplicationId uniqueidentifier
    SELECT  @ApplicationId = NULL
    SELECT  @ApplicationId = ApplicationId FROM dbo.aspnet_Applications WHERE LOWER(@ApplicationName) = LoweredApplicationName
    IF (@ApplicationId IS NULL)
        RETURN 0


    -- Set the page bounds
    DECLARE @PageLowerBound int
    DECLARE @PageUpperBound int
    DECLARE @TotalRecords   int
    SET @PageLowerBound = @PageSize * @PageIndex
    SET @PageUpperBound = @PageSize - 1 + @PageLowerBound

    -- Create a temp table TO store the select results
    CREATE TABLE #PageIndexForUsers
    (
        IndexId int IDENTITY (0, 1) NOT NULL,
        UserId uniqueidentifier
    )

    -- Insert into our temp table
    INSERT INTO #PageIndexForUsers (UserId)
    SELECT u.UserId
    FROM   dbo.aspnet_Membership m, dbo.aspnet_Users u
    WHERE  u.ApplicationId = @ApplicationId AND u.UserId = m.UserId
    ORDER BY u.UserName

    SELECT @TotalRecords = @@ROWCOUNT

    SELECT u.UserName, m.Email, m.PasswordQuestion, m.Comment, m.IsApproved,
            m.CreateDate,
            m.LastLoginDate,
            u.LastActivityDate,
            m.LastPasswordChangedDate,
            u.UserId, m.IsLockedOut,
            m.LastLockoutDate
    FROM   dbo.aspnet_Membership m, dbo.aspnet_Users u, #PageIndexForUsers p
    WHERE  u.UserId = p.UserId AND u.UserId = m.UserId AND
           p.IndexId >= @PageLowerBound AND p.IndexId <= @PageUpperBound
    ORDER BY u.UserName
    RETURN @TotalRecords
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetAllUsers].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetAllUsers].[@PageSize]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetAllUsers].[@PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetAllUsers].[#PageIndexForUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetAllUsers].[#PageIndexForUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[Email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[PasswordQuestion]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[Comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[IsApproved]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[CreateDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastLoginDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastPasswordChangedDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[IsLockedOut]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastLockoutDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetAllUsers].[#PageIndexForUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetAllUsers].[#PageIndexForUsers].[IndexId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[aspnet_Membership_GetAllUsers].[#PageIndexForUsers]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Membership_GetAllUsers].[#PageIndexForUsers].[IndexId]">
									<Property Name="IsNullable" Value="False" />
									<Property Name="IsIdentity" Value="True" />
									<Property Name="IdentitySeed" Value="0" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Membership_GetAllUsers].[#PageIndexForUsers].[UserId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_GetAllUsers].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_GetAllUsers].[@PageIndex]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_GetAllUsers].[@PageSize]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1654" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_Membership_GetAllUsers]&#xA;    @ApplicationName       nvarchar(256),&#xA;    @PageIndex             int,&#xA;    @PageSize              int&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Membership_GetNumberOfUsersOnline]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @DateActive datetime
    SELECT  @DateActive = DATEADD(minute,  -(@MinutesSinceLastInActive), @CurrentTimeUtc)

    DECLARE @NumOnline int
    SELECT  @NumOnline = COUNT(*)
    FROM    dbo.aspnet_Users u(NOLOCK),
            dbo.aspnet_Applications a(NOLOCK),
            dbo.aspnet_Membership m(NOLOCK)
    WHERE   u.ApplicationId = a.ApplicationId                  AND
            LastActivityDate > @DateActive                     AND
            a.LoweredApplicationName = LOWER(@ApplicationName) AND
            u.UserId = m.UserId
    RETURN(@NumOnline)
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetNumberOfUsersOnline].[@MinutesSinceLastInActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetNumberOfUsersOnline].[@CurrentTimeUtc]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetNumberOfUsersOnline].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_GetNumberOfUsersOnline].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_GetNumberOfUsersOnline].[@MinutesSinceLastInActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_GetNumberOfUsersOnline].[@CurrentTimeUtc]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="775" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_Membership_GetNumberOfUsersOnline]&#xA;    @ApplicationName            nvarchar(256),&#xA;    @MinutesSinceLastInActive   int,&#xA;    @CurrentTimeUtc             datetime&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Membership_GetPassword]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @UserId                                 uniqueidentifier
    DECLARE @PasswordFormat                         int
    DECLARE @Password                               nvarchar(128)
    DECLARE @passAns                                nvarchar(128)
    DECLARE @IsLockedOut                            bit
    DECLARE @LastLockoutDate                        datetime
    DECLARE @FailedPasswordAttemptCount             int
    DECLARE @FailedPasswordAttemptWindowStart       datetime
    DECLARE @FailedPasswordAnswerAttemptCount       int
    DECLARE @FailedPasswordAnswerAttemptWindowStart datetime

    DECLARE @ErrorCode     int
    SET @ErrorCode = 0

    DECLARE @TranStarted   bit
    SET @TranStarted = 0

    IF( @@TRANCOUNT = 0 )
    BEGIN
	    BEGIN TRANSACTION
	    SET @TranStarted = 1
    END
    ELSE
    	SET @TranStarted = 0

    SELECT  @UserId = u.UserId,
            @Password = m.Password,
            @passAns = m.PasswordAnswer,
            @PasswordFormat = m.PasswordFormat,
            @IsLockedOut = m.IsLockedOut,
            @LastLockoutDate = m.LastLockoutDate,
            @FailedPasswordAttemptCount = m.FailedPasswordAttemptCount,
            @FailedPasswordAttemptWindowStart = m.FailedPasswordAttemptWindowStart,
            @FailedPasswordAnswerAttemptCount = m.FailedPasswordAnswerAttemptCount,
            @FailedPasswordAnswerAttemptWindowStart = m.FailedPasswordAnswerAttemptWindowStart
    FROM    dbo.aspnet_Applications a, dbo.aspnet_Users u, dbo.aspnet_Membership m WITH ( UPDLOCK )
    WHERE   LOWER(@ApplicationName) = a.LoweredApplicationName AND
            u.ApplicationId = a.ApplicationId    AND
            u.UserId = m.UserId AND
            LOWER(@UserName) = u.LoweredUserName

    IF ( @@rowcount = 0 )
    BEGIN
        SET @ErrorCode = 1
        GOTO Cleanup
    END

    IF( @IsLockedOut = 1 )
    BEGIN
        SET @ErrorCode = 99
        GOTO Cleanup
    END

    IF ( NOT( @PasswordAnswer IS NULL ) )
    BEGIN
        IF( ( @passAns IS NULL ) OR ( LOWER( @passAns ) <> LOWER( @PasswordAnswer ) ) )
        BEGIN
            IF( @CurrentTimeUtc > DATEADD( minute, @PasswordAttemptWindow, @FailedPasswordAnswerAttemptWindowStart ) )
            BEGIN
                SET @FailedPasswordAnswerAttemptWindowStart = @CurrentTimeUtc
                SET @FailedPasswordAnswerAttemptCount = 1
            END
            ELSE
            BEGIN
                SET @FailedPasswordAnswerAttemptCount = @FailedPasswordAnswerAttemptCount + 1
                SET @FailedPasswordAnswerAttemptWindowStart = @CurrentTimeUtc
            END

            BEGIN
                IF( @FailedPasswordAnswerAttemptCount >= @MaxInvalidPasswordAttempts )
                BEGIN
                    SET @IsLockedOut = 1
                    SET @LastLockoutDate = @CurrentTimeUtc
                END
            END

            SET @ErrorCode = 3
        END
        ELSE
        BEGIN
            IF( @FailedPasswordAnswerAttemptCount > 0 )
            BEGIN
                SET @FailedPasswordAnswerAttemptCount = 0
                SET @FailedPasswordAnswerAttemptWindowStart = CONVERT( datetime, '17540101', 112 )
            END
        END

        UPDATE dbo.aspnet_Membership
        SET IsLockedOut = @IsLockedOut, LastLockoutDate = @LastLockoutDate,
            FailedPasswordAttemptCount = @FailedPasswordAttemptCount,
            FailedPasswordAttemptWindowStart = @FailedPasswordAttemptWindowStart,
            FailedPasswordAnswerAttemptCount = @FailedPasswordAnswerAttemptCount,
            FailedPasswordAnswerAttemptWindowStart = @FailedPasswordAnswerAttemptWindowStart
        WHERE @UserId = UserId

        IF( @@ERROR <> 0 )
        BEGIN
            SET @ErrorCode = -1
            GOTO Cleanup
        END
    END

    IF( @TranStarted = 1 )
    BEGIN
	SET @TranStarted = 0
	COMMIT TRANSACTION
    END

    IF( @ErrorCode = 0 )
        SELECT @Password, @PasswordFormat

    RETURN @ErrorCode

Cleanup:

    IF( @TranStarted = 1 )
    BEGIN
        SET @TranStarted = 0
    	ROLLBACK TRANSACTION
    END

    RETURN @ErrorCode

END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[Password]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[PasswordAnswer]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[PasswordFormat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[IsLockedOut]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastLockoutDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAttemptCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAttemptWindowStart]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAnswerAttemptCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAnswerAttemptWindowStart]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetPassword].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetPassword].[@UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetPassword].[@PasswordAnswer]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetPassword].[@CurrentTimeUtc]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetPassword].[@PasswordAttemptWindow]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetPassword].[@MaxInvalidPasswordAttempts]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[IsLockedOut]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastLockoutDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAttemptCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAttemptWindowStart]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAnswerAttemptCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAnswerAttemptWindowStart]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_GetPassword].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_GetPassword].[@UserName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_GetPassword].[@MaxInvalidPasswordAttempts]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_GetPassword].[@PasswordAttemptWindow]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_GetPassword].[@CurrentTimeUtc]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_GetPassword].[@PasswordAnswer]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="4447" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_Membership_GetPassword]&#xA;    @ApplicationName                nvarchar(256),&#xA;    @UserName                       nvarchar(256),&#xA;    @MaxInvalidPasswordAttempts     int,&#xA;    @PasswordAttemptWindow          int,&#xA;    @CurrentTimeUtc                 datetime,&#xA;    @PasswordAnswer                 nvarchar(128) = NULL&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Membership_GetPasswordWithFormat]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @IsLockedOut                        bit
    DECLARE @UserId                             uniqueidentifier
    DECLARE @Password                           nvarchar(128)
    DECLARE @PasswordSalt                       nvarchar(128)
    DECLARE @PasswordFormat                     int
    DECLARE @FailedPasswordAttemptCount         int
    DECLARE @FailedPasswordAnswerAttemptCount   int
    DECLARE @IsApproved                         bit
    DECLARE @LastActivityDate                   datetime
    DECLARE @LastLoginDate                      datetime

    SELECT  @UserId          = NULL

    SELECT  @UserId = u.UserId, @IsLockedOut = m.IsLockedOut, @Password=Password, @PasswordFormat=PasswordFormat,
            @PasswordSalt=PasswordSalt, @FailedPasswordAttemptCount=FailedPasswordAttemptCount,
		    @FailedPasswordAnswerAttemptCount=FailedPasswordAnswerAttemptCount, @IsApproved=IsApproved,
            @LastActivityDate = LastActivityDate, @LastLoginDate = LastLoginDate
    FROM    dbo.aspnet_Applications a, dbo.aspnet_Users u, dbo.aspnet_Membership m
    WHERE   LOWER(@ApplicationName) = a.LoweredApplicationName AND
            u.ApplicationId = a.ApplicationId    AND
            u.UserId = m.UserId AND
            LOWER(@UserName) = u.LoweredUserName

    IF (@UserId IS NULL)
        RETURN 1

    IF (@IsLockedOut = 1)
        RETURN 99

    SELECT   @Password, @PasswordFormat, @PasswordSalt, @FailedPasswordAttemptCount,
             @FailedPasswordAnswerAttemptCount, @IsApproved, @LastLoginDate, @LastActivityDate

    IF (@UpdateLastLoginActivityDate = 1 AND @IsApproved = 1)
    BEGIN
        UPDATE  dbo.aspnet_Membership
        SET     LastLoginDate = @CurrentTimeUtc
        WHERE   UserId = @UserId

        UPDATE  dbo.aspnet_Users
        SET     LastActivityDate = @CurrentTimeUtc
        WHERE   @UserId = UserId
    END


    RETURN 0
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[IsLockedOut]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[Password]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[PasswordFormat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[PasswordSalt]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAttemptCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAnswerAttemptCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[IsApproved]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastLoginDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetPasswordWithFormat].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetPasswordWithFormat].[@UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetPasswordWithFormat].[@UpdateLastLoginActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastLoginDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetPasswordWithFormat].[@CurrentTimeUtc]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_GetPasswordWithFormat].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_GetPasswordWithFormat].[@UserName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_GetPasswordWithFormat].[@UpdateLastLoginActivityDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_GetPasswordWithFormat].[@CurrentTimeUtc]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2145" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_Membership_GetPasswordWithFormat]&#xA;    @ApplicationName                nvarchar(256),&#xA;    @UserName                       nvarchar(256),&#xA;    @UpdateLastLoginActivityDate    bit,&#xA;    @CurrentTimeUtc                 datetime&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Membership_GetUserByEmail]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    IF( @Email IS NULL )
        SELECT  u.UserName
        FROM    dbo.aspnet_Applications a, dbo.aspnet_Users u, dbo.aspnet_Membership m
        WHERE   LOWER(@ApplicationName) = a.LoweredApplicationName AND
                u.ApplicationId = a.ApplicationId    AND
                u.UserId = m.UserId AND
                m.LoweredEmail IS NULL
    ELSE
        SELECT  u.UserName
        FROM    dbo.aspnet_Applications a, dbo.aspnet_Users u, dbo.aspnet_Membership m
        WHERE   LOWER(@ApplicationName) = a.LoweredApplicationName AND
                u.ApplicationId = a.ApplicationId    AND
                u.UserId = m.UserId AND
                LOWER(@Email) = m.LoweredEmail

    IF (@@rowcount = 0)
        RETURN(1)
    RETURN(0)
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetUserByEmail].[@Email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetUserByEmail].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LoweredEmail]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_GetUserByEmail].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_GetUserByEmail].[@Email]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="884" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_Membership_GetUserByEmail]&#xA;    @ApplicationName  nvarchar(256),&#xA;    @Email            nvarchar(256)&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Membership_GetUserByName]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @UserId uniqueidentifier

    IF (@UpdateLastActivity = 1)
    BEGIN
        SELECT TOP 1 m.Email, m.PasswordQuestion, m.Comment, m.IsApproved,
                m.CreateDate, m.LastLoginDate, @CurrentTimeUtc, m.LastPasswordChangedDate,
                u.UserId, m.IsLockedOut,m.LastLockoutDate
        FROM    dbo.aspnet_Applications a, dbo.aspnet_Users u, dbo.aspnet_Membership m
        WHERE    LOWER(@ApplicationName) = a.LoweredApplicationName AND
                u.ApplicationId = a.ApplicationId    AND
                LOWER(@UserName) = u.LoweredUserName AND u.UserId = m.UserId

        IF (@@ROWCOUNT = 0) -- Username not found
            RETURN -1

        UPDATE   dbo.aspnet_Users
        SET      LastActivityDate = @CurrentTimeUtc
        WHERE    @UserId = UserId
    END
    ELSE
    BEGIN
        SELECT TOP 1 m.Email, m.PasswordQuestion, m.Comment, m.IsApproved,
                m.CreateDate, m.LastLoginDate, u.LastActivityDate, m.LastPasswordChangedDate,
                u.UserId, m.IsLockedOut,m.LastLockoutDate
        FROM    dbo.aspnet_Applications a, dbo.aspnet_Users u, dbo.aspnet_Membership m
        WHERE    LOWER(@ApplicationName) = a.LoweredApplicationName AND
                u.ApplicationId = a.ApplicationId    AND
                LOWER(@UserName) = u.LoweredUserName AND u.UserId = m.UserId

        IF (@@ROWCOUNT = 0) -- Username not found
            RETURN -1
    END

    RETURN 0
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetUserByName].[@UpdateLastActivity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[Email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[PasswordQuestion]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[Comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[IsApproved]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[CreateDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastLoginDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetUserByName].[@CurrentTimeUtc]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastPasswordChangedDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[IsLockedOut]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastLockoutDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetUserByName].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetUserByName].[@UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_GetUserByName].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_GetUserByName].[@UserName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_GetUserByName].[@CurrentTimeUtc]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_GetUserByName].[@UpdateLastActivity]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1655" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_Membership_GetUserByName]&#xA;    @ApplicationName      nvarchar(256),&#xA;    @UserName             nvarchar(256),&#xA;    @CurrentTimeUtc       datetime,&#xA;    @UpdateLastActivity   bit = 0&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Membership_GetUserByUserId]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    IF ( @UpdateLastActivity = 1 )
    BEGIN
        UPDATE   dbo.aspnet_Users
        SET      LastActivityDate = @CurrentTimeUtc
        FROM     dbo.aspnet_Users
        WHERE    @UserId = UserId

        IF ( @@ROWCOUNT = 0 ) -- User ID not found
            RETURN -1
    END

    SELECT  m.Email, m.PasswordQuestion, m.Comment, m.IsApproved,
            m.CreateDate, m.LastLoginDate, u.LastActivityDate,
            m.LastPasswordChangedDate, u.UserName, m.IsLockedOut,
            m.LastLockoutDate
    FROM    dbo.aspnet_Users u, dbo.aspnet_Membership m
    WHERE   @UserId = u.UserId AND u.UserId = m.UserId

    IF ( @@ROWCOUNT = 0 ) -- User ID not found
       RETURN -1

    RETURN 0
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetUserByUserId].[@UpdateLastActivity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetUserByUserId].[@CurrentTimeUtc]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_GetUserByUserId].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[Email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[PasswordQuestion]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[Comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[IsApproved]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[CreateDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastLoginDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastPasswordChangedDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[IsLockedOut]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastLockoutDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_GetUserByUserId].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_GetUserByUserId].[@CurrentTimeUtc]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_GetUserByUserId].[@UpdateLastActivity]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="882" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_Membership_GetUserByUserId]&#xA;    @UserId               uniqueidentifier,&#xA;    @CurrentTimeUtc       datetime,&#xA;    @UpdateLastActivity   bit = 0&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Membership_LockUser]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
    UPDATE m
    SET IsLockedOut = 1,        
        LastLockoutDate = @LastLockoutDate
    FROM    dbo.aspnet_Users AS u, dbo.aspnet_Applications AS a, dbo.aspnet_Membership AS m
    WHERE   LoweredUserName = LOWER(@UserName) AND
            u.ApplicationId = a.ApplicationId  AND
            LOWER(@ApplicationName) = a.LoweredApplicationName AND
            u.UserId = m.UserId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[IsLockedOut]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastLockoutDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_LockUser].[@LastLockoutDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_LockUser].[@UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_LockUser].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_LockUser].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_LockUser].[@UserName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_LockUser].[@LastLockoutDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="223" />
				<Property Name="Length" Value="760" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 9-22-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date: &#xD;&#xA;-- Description:&#x9;Lock out User.&#xD;&#xA;-- =============================================&#xA;CREATE PROCEDURE [dbo].[aspnet_Membership_LockUser]&#xA;(&#xA;    @ApplicationName&#x9;nvarchar(256),&#xA;    @UserName&#x9;&#x9;&#x9;nvarchar(256),&#xA;    @LastLockoutDate&#x9;datetime&#xA;)&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Membership_ResetPassword]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @IsLockedOut                            bit
    DECLARE @LastLockoutDate                        datetime
    DECLARE @FailedPasswordAttemptCount             int
    DECLARE @FailedPasswordAttemptWindowStart       datetime
    DECLARE @FailedPasswordAnswerAttemptCount       int
    DECLARE @FailedPasswordAnswerAttemptWindowStart datetime

    DECLARE @UserId                                 uniqueidentifier
    SET     @UserId = NULL

    DECLARE @ErrorCode     int
    SET @ErrorCode = 0

    DECLARE @TranStarted   bit
    SET @TranStarted = 0

    IF( @@TRANCOUNT = 0 )
    BEGIN
	    BEGIN TRANSACTION
	    SET @TranStarted = 1
    END
    ELSE
    	SET @TranStarted = 0

    SELECT  @UserId = u.UserId
    FROM    dbo.aspnet_Users u, dbo.aspnet_Applications a, dbo.aspnet_Membership m
    WHERE   LoweredUserName = LOWER(@UserName) AND
            u.ApplicationId = a.ApplicationId  AND
            LOWER(@ApplicationName) = a.LoweredApplicationName AND
            u.UserId = m.UserId

    IF ( @UserId IS NULL )
    BEGIN
        SET @ErrorCode = 1
        GOTO Cleanup
    END

    SELECT @IsLockedOut = IsLockedOut,
           @LastLockoutDate = LastLockoutDate,
           @FailedPasswordAttemptCount = FailedPasswordAttemptCount,
           @FailedPasswordAttemptWindowStart = FailedPasswordAttemptWindowStart,
           @FailedPasswordAnswerAttemptCount = FailedPasswordAnswerAttemptCount,
           @FailedPasswordAnswerAttemptWindowStart = FailedPasswordAnswerAttemptWindowStart
    FROM dbo.aspnet_Membership WITH ( UPDLOCK )
    WHERE @UserId = UserId

    IF( @IsLockedOut = 1 )
    BEGIN
        SET @ErrorCode = 99
        GOTO Cleanup
    END

    UPDATE dbo.aspnet_Membership
    SET    Password = @NewPassword,
           LastPasswordChangedDate = @CurrentTimeUtc,
           PasswordFormat = @PasswordFormat,
           PasswordSalt = @PasswordSalt
    WHERE  @UserId = UserId AND
           ( ( @PasswordAnswer IS NULL ) OR ( LOWER( PasswordAnswer ) = LOWER( @PasswordAnswer ) ) )

    IF ( @@ROWCOUNT = 0 )
        BEGIN
            IF( @CurrentTimeUtc > DATEADD( minute, @PasswordAttemptWindow, @FailedPasswordAnswerAttemptWindowStart ) )
            BEGIN
                SET @FailedPasswordAnswerAttemptWindowStart = @CurrentTimeUtc
                SET @FailedPasswordAnswerAttemptCount = 1
            END
            ELSE
            BEGIN
                SET @FailedPasswordAnswerAttemptWindowStart = @CurrentTimeUtc
                SET @FailedPasswordAnswerAttemptCount = @FailedPasswordAnswerAttemptCount + 1
            END

            BEGIN
                IF( @FailedPasswordAnswerAttemptCount >= @MaxInvalidPasswordAttempts )
                BEGIN
                    SET @IsLockedOut = 1
                    SET @LastLockoutDate = @CurrentTimeUtc
                END
            END

            SET @ErrorCode = 3
        END
    ELSE
        BEGIN
            IF( @FailedPasswordAnswerAttemptCount > 0 )
            BEGIN
                SET @FailedPasswordAnswerAttemptCount = 0
                SET @FailedPasswordAnswerAttemptWindowStart = CONVERT( datetime, '17540101', 112 )
            END
        END

    IF( NOT ( @PasswordAnswer IS NULL ) )
    BEGIN
        UPDATE dbo.aspnet_Membership
        SET IsLockedOut = @IsLockedOut, LastLockoutDate = @LastLockoutDate,
            FailedPasswordAttemptCount = @FailedPasswordAttemptCount,
            FailedPasswordAttemptWindowStart = @FailedPasswordAttemptWindowStart,
            FailedPasswordAnswerAttemptCount = @FailedPasswordAnswerAttemptCount,
            FailedPasswordAnswerAttemptWindowStart = @FailedPasswordAnswerAttemptWindowStart
        WHERE @UserId = UserId

        IF( @@ERROR <> 0 )
        BEGIN
            SET @ErrorCode = -1
            GOTO Cleanup
        END
    END

    IF( @TranStarted = 1 )
    BEGIN
	SET @TranStarted = 0
	COMMIT TRANSACTION
    END

    RETURN @ErrorCode

Cleanup:

    IF( @TranStarted = 1 )
    BEGIN
        SET @TranStarted = 0
    	ROLLBACK TRANSACTION
    END

    RETURN @ErrorCode

END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_ResetPassword].[@UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_ResetPassword].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[IsLockedOut]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastLockoutDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAttemptCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAttemptWindowStart]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAnswerAttemptCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAnswerAttemptWindowStart]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[Password]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_ResetPassword].[@NewPassword]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastPasswordChangedDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_ResetPassword].[@CurrentTimeUtc]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[PasswordFormat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_ResetPassword].[@PasswordFormat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[PasswordSalt]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_ResetPassword].[@PasswordSalt]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_ResetPassword].[@PasswordAnswer]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[PasswordAnswer]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_ResetPassword].[@PasswordAttemptWindow]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_ResetPassword].[@MaxInvalidPasswordAttempts]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_ResetPassword].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_ResetPassword].[@UserName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_ResetPassword].[@NewPassword]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_ResetPassword].[@MaxInvalidPasswordAttempts]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_ResetPassword].[@PasswordAttemptWindow]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_ResetPassword].[@PasswordSalt]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_ResetPassword].[@CurrentTimeUtc]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_ResetPassword].[@PasswordFormat]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_ResetPassword].[@PasswordAnswer]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="4529" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_Membership_ResetPassword]&#xA;    @ApplicationName             nvarchar(256),&#xA;    @UserName                    nvarchar(256),&#xA;    @NewPassword                 nvarchar(128),&#xA;    @MaxInvalidPasswordAttempts  int,&#xA;    @PasswordAttemptWindow       int,&#xA;    @PasswordSalt                nvarchar(128),&#xA;    @CurrentTimeUtc              datetime,&#xA;    @PasswordFormat              int = 0,&#xA;    @PasswordAnswer              nvarchar(128) = NULL&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Membership_SetPassword]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @UserId uniqueidentifier
    SELECT  @UserId = NULL
    SELECT  @UserId = u.UserId
    FROM    dbo.aspnet_Users u, dbo.aspnet_Applications a, dbo.aspnet_Membership m
    WHERE   LoweredUserName = LOWER(@UserName) AND
            u.ApplicationId = a.ApplicationId  AND
            LOWER(@ApplicationName) = a.LoweredApplicationName AND
            u.UserId = m.UserId

    IF (@UserId IS NULL)
        RETURN(1)

    UPDATE dbo.aspnet_Membership
    SET Password = @NewPassword, PasswordFormat = @PasswordFormat, PasswordSalt = @PasswordSalt,
        LastPasswordChangedDate = @CurrentTimeUtc
    WHERE @UserId = UserId
    RETURN(0)
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_SetPassword].[@UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_SetPassword].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[Password]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_SetPassword].[@NewPassword]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[PasswordFormat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_SetPassword].[@PasswordFormat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[PasswordSalt]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_SetPassword].[@PasswordSalt]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastPasswordChangedDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_SetPassword].[@CurrentTimeUtc]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_SetPassword].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_SetPassword].[@UserName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_SetPassword].[@NewPassword]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_SetPassword].[@PasswordSalt]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_SetPassword].[@CurrentTimeUtc]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_SetPassword].[@PasswordFormat]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="922" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_Membership_SetPassword]&#xA;    @ApplicationName  nvarchar(256),&#xA;    @UserName         nvarchar(256),&#xA;    @NewPassword      nvarchar(128),&#xA;    @PasswordSalt     nvarchar(128),&#xA;    @CurrentTimeUtc   datetime,&#xA;    @PasswordFormat   int = 0&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Membership_UnlockUser]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @UserId uniqueidentifier
    SELECT  @UserId = NULL
    SELECT  @UserId = u.UserId
    FROM    dbo.aspnet_Users u, dbo.aspnet_Applications a, dbo.aspnet_Membership m
    WHERE   LoweredUserName = LOWER(@UserName) AND
            u.ApplicationId = a.ApplicationId  AND
            LOWER(@ApplicationName) = a.LoweredApplicationName AND
            u.UserId = m.UserId

    IF ( @UserId IS NULL )
        RETURN 1

    UPDATE dbo.aspnet_Membership
    SET IsLockedOut = 0,
        FailedPasswordAttemptCount = 0,
        FailedPasswordAttemptWindowStart = CONVERT( datetime, '17540101', 112 ),
        FailedPasswordAnswerAttemptCount = 0,
        FailedPasswordAnswerAttemptWindowStart = CONVERT( datetime, '17540101', 112 ),
        LastLockoutDate = CONVERT( datetime, '17540101', 112 )
    WHERE @UserId = UserId

    RETURN 0
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_UnlockUser].[@UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_UnlockUser].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[IsLockedOut]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAttemptCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAttemptWindowStart]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAnswerAttemptCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAnswerAttemptWindowStart]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastLockoutDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_UnlockUser].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_UnlockUser].[@UserName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1026" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_Membership_UnlockUser]&#xA;    @ApplicationName                         nvarchar(256),&#xA;    @UserName                                nvarchar(256)&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Membership_UpdateUser]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @UserId uniqueidentifier
    DECLARE @ApplicationId uniqueidentifier
    SELECT  @UserId = NULL
    SELECT  @UserId = u.UserId, @ApplicationId = a.ApplicationId
    FROM    dbo.aspnet_Users u, dbo.aspnet_Applications a, dbo.aspnet_Membership m
    WHERE   LoweredUserName = LOWER(@UserName) AND
            u.ApplicationId = a.ApplicationId  AND
            LOWER(@ApplicationName) = a.LoweredApplicationName AND
            u.UserId = m.UserId

    IF (@UserId IS NULL)
        RETURN(1)

    IF (@UniqueEmail = 1)
    BEGIN
        IF (EXISTS (SELECT *
                    FROM  dbo.aspnet_Membership WITH (UPDLOCK, HOLDLOCK)
                    WHERE ApplicationId = @ApplicationId  AND @UserId <> UserId AND LoweredEmail = LOWER(@Email)))
        BEGIN
            RETURN(7)
        END
    END

    DECLARE @TranStarted   bit
    SET @TranStarted = 0

    IF( @@TRANCOUNT = 0 )
    BEGIN
	    BEGIN TRANSACTION
	    SET @TranStarted = 1
    END
    ELSE
	SET @TranStarted = 0

    UPDATE dbo.aspnet_Users WITH (ROWLOCK)
    SET
         LastActivityDate = @LastActivityDate
    WHERE
       @UserId = UserId

    IF( @@ERROR <> 0 )
        GOTO Cleanup

    UPDATE dbo.aspnet_Membership WITH (ROWLOCK)
    SET
         Email            = @Email,
         LoweredEmail     = LOWER(@Email),
         Comment          = @Comment,
         IsApproved       = @IsApproved,
         LastLoginDate    = @LastLoginDate
    WHERE
       @UserId = UserId

    IF( @@ERROR <> 0 )
        GOTO Cleanup

    IF( @TranStarted = 1 )
    BEGIN
	SET @TranStarted = 0
	COMMIT TRANSACTION
    END

    RETURN 0

Cleanup:

    IF( @TranStarted = 1 )
    BEGIN
        SET @TranStarted = 0
    	ROLLBACK TRANSACTION
    END

    RETURN -1
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_UpdateUser].[@UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_UpdateUser].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_UpdateUser].[@UniqueEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LoweredEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_UpdateUser].[@Email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_UpdateUser].[@LastActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[Email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LoweredEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[Comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_UpdateUser].[@Comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[IsApproved]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_UpdateUser].[@IsApproved]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastLoginDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_UpdateUser].[@LastLoginDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_UpdateUser].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_UpdateUser].[@UserName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_UpdateUser].[@Email]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_UpdateUser].[@Comment]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[ntext]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_UpdateUser].[@IsApproved]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_UpdateUser].[@LastLoginDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_UpdateUser].[@LastActivityDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_UpdateUser].[@UniqueEmail]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_UpdateUser].[@CurrentTimeUtc]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2126" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_Membership_UpdateUser]&#xA;    @ApplicationName      nvarchar(256),&#xA;    @UserName             nvarchar(256),&#xA;    @Email                nvarchar(256),&#xA;    @Comment              ntext,&#xA;    @IsApproved           bit,&#xA;    @LastLoginDate        datetime,&#xA;    @LastActivityDate     datetime,&#xA;    @UniqueEmail          int,&#xA;    @CurrentTimeUtc       datetime&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Membership_UpdateUserInfo]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @UserId                                 uniqueidentifier
    DECLARE @IsApproved                             bit
    DECLARE @IsLockedOut                            bit
    DECLARE @LastLockoutDate                        datetime
    DECLARE @FailedPasswordAttemptCount             int
    DECLARE @FailedPasswordAttemptWindowStart       datetime
    DECLARE @FailedPasswordAnswerAttemptCount       int
    DECLARE @FailedPasswordAnswerAttemptWindowStart datetime

    DECLARE @ErrorCode     int
    SET @ErrorCode = 0

    DECLARE @TranStarted   bit
    SET @TranStarted = 0

    IF( @@TRANCOUNT = 0 )
    BEGIN
	    BEGIN TRANSACTION
	    SET @TranStarted = 1
    END
    ELSE
    	SET @TranStarted = 0

    SELECT  @UserId = u.UserId,
            @IsApproved = m.IsApproved,
            @IsLockedOut = m.IsLockedOut,
            @LastLockoutDate = m.LastLockoutDate,
            @FailedPasswordAttemptCount = m.FailedPasswordAttemptCount,
            @FailedPasswordAttemptWindowStart = m.FailedPasswordAttemptWindowStart,
            @FailedPasswordAnswerAttemptCount = m.FailedPasswordAnswerAttemptCount,
            @FailedPasswordAnswerAttemptWindowStart = m.FailedPasswordAnswerAttemptWindowStart
    FROM    dbo.aspnet_Applications a, dbo.aspnet_Users u, dbo.aspnet_Membership m WITH ( UPDLOCK )
    WHERE   LOWER(@ApplicationName) = a.LoweredApplicationName AND
            u.ApplicationId = a.ApplicationId    AND
            u.UserId = m.UserId AND
            LOWER(@UserName) = u.LoweredUserName

    IF ( @@rowcount = 0 )
    BEGIN
        SET @ErrorCode = 1
        GOTO Cleanup
    END

    IF( @IsLockedOut = 1 )
    BEGIN
        GOTO Cleanup
    END

    IF( @IsPasswordCorrect = 0 )
    BEGIN
        IF( @CurrentTimeUtc > DATEADD( minute, @PasswordAttemptWindow, @FailedPasswordAttemptWindowStart ) )
        BEGIN
            SET @FailedPasswordAttemptWindowStart = @CurrentTimeUtc
            SET @FailedPasswordAttemptCount = 1
        END
        ELSE
        BEGIN
            SET @FailedPasswordAttemptWindowStart = @CurrentTimeUtc
            SET @FailedPasswordAttemptCount = @FailedPasswordAttemptCount + 1
        END

        BEGIN
            IF( @FailedPasswordAttemptCount >= @MaxInvalidPasswordAttempts )
            BEGIN
                SET @IsLockedOut = 1
                SET @LastLockoutDate = @CurrentTimeUtc
            END
        END
    END
    ELSE
    BEGIN
        IF( @FailedPasswordAttemptCount > 0 OR @FailedPasswordAnswerAttemptCount > 0 )
        BEGIN
            SET @FailedPasswordAttemptCount = 0
            SET @FailedPasswordAttemptWindowStart = CONVERT( datetime, '17540101', 112 )
            SET @FailedPasswordAnswerAttemptCount = 0
            SET @FailedPasswordAnswerAttemptWindowStart = CONVERT( datetime, '17540101', 112 )
            SET @LastLockoutDate = CONVERT( datetime, '17540101', 112 )
        END
    END

    IF( @UpdateLastLoginActivityDate = 1 )
    BEGIN
        UPDATE  dbo.aspnet_Users
        SET     LastActivityDate = @LastActivityDate
        WHERE   @UserId = UserId

        IF( @@ERROR <> 0 )
        BEGIN
            SET @ErrorCode = -1
            GOTO Cleanup
        END

        UPDATE  dbo.aspnet_Membership
        SET     LastLoginDate = @LastLoginDate
        WHERE   UserId = @UserId

        IF( @@ERROR <> 0 )
        BEGIN
            SET @ErrorCode = -1
            GOTO Cleanup
        END
    END


    UPDATE dbo.aspnet_Membership
    SET IsLockedOut = @IsLockedOut, LastLockoutDate = @LastLockoutDate,
        FailedPasswordAttemptCount = @FailedPasswordAttemptCount,
        FailedPasswordAttemptWindowStart = @FailedPasswordAttemptWindowStart,
        FailedPasswordAnswerAttemptCount = @FailedPasswordAnswerAttemptCount,
        FailedPasswordAnswerAttemptWindowStart = @FailedPasswordAnswerAttemptWindowStart
    WHERE @UserId = UserId

    IF( @@ERROR <> 0 )
    BEGIN
        SET @ErrorCode = -1
        GOTO Cleanup
    END

    IF( @TranStarted = 1 )
    BEGIN
	SET @TranStarted = 0
	COMMIT TRANSACTION
    END

    RETURN @ErrorCode

Cleanup:

    IF( @TranStarted = 1 )
    BEGIN
        SET @TranStarted = 0
    	ROLLBACK TRANSACTION
    END

    RETURN @ErrorCode

END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[IsApproved]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[IsLockedOut]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastLockoutDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAttemptCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAttemptWindowStart]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAnswerAttemptCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAnswerAttemptWindowStart]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_UpdateUserInfo].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_UpdateUserInfo].[@UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_UpdateUserInfo].[@IsPasswordCorrect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_UpdateUserInfo].[@CurrentTimeUtc]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_UpdateUserInfo].[@PasswordAttemptWindow]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_UpdateUserInfo].[@MaxInvalidPasswordAttempts]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_UpdateUserInfo].[@UpdateLastLoginActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_UpdateUserInfo].[@LastActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastLoginDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership_UpdateUserInfo].[@LastLoginDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[IsLockedOut]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastLockoutDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAttemptCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAttemptWindowStart]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAnswerAttemptCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAnswerAttemptWindowStart]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_UpdateUserInfo].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_UpdateUserInfo].[@UserName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_UpdateUserInfo].[@IsPasswordCorrect]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_UpdateUserInfo].[@UpdateLastLoginActivityDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_UpdateUserInfo].[@MaxInvalidPasswordAttempts]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_UpdateUserInfo].[@PasswordAttemptWindow]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_UpdateUserInfo].[@CurrentTimeUtc]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_UpdateUserInfo].[@LastLoginDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Membership_UpdateUserInfo].[@LastActivityDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="4675" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_Membership_UpdateUserInfo]&#xA;    @ApplicationName                nvarchar(256),&#xA;    @UserName                       nvarchar(256),&#xA;    @IsPasswordCorrect              bit,&#xA;    @UpdateLastLoginActivityDate    bit,&#xA;    @MaxInvalidPasswordAttempts     int,&#xA;    @PasswordAttemptWindow          int,&#xA;    @CurrentTimeUtc                 datetime,&#xA;    @LastLoginDate                  datetime,&#xA;    @LastActivityDate               datetime&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[aspnet_Paths]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Paths].[ApplicationId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Paths].[PathId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="46" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Paths].[Path]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Paths].[LoweredPath]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="67" />
			<AttachedAnnotation Disambiguator="68" />
			<AttachedAnnotation Disambiguator="33" />
		</Element>
		<Element Type="ISql100Index" Name="[dbo].[aspnet_Paths].[aspnet_Paths_index]">
			<Property Name="IsClustered" Value="True" />
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_Paths].[ApplicationId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_Paths].[LoweredPath]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[aspnet_Paths]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Paths_CreatePath]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    BEGIN TRANSACTION
    IF (NOT EXISTS(SELECT * FROM dbo.aspnet_Paths WHERE LoweredPath = LOWER(@Path) AND ApplicationId = @ApplicationId))
    BEGIN
        INSERT dbo.aspnet_Paths (ApplicationId, Path, LoweredPath) VALUES (@ApplicationId, @Path, LOWER(@Path))
    END
    COMMIT TRANSACTION
    SELECT @PathId = PathId FROM dbo.aspnet_Paths WHERE LOWER(@Path) = LoweredPath AND ApplicationId = @ApplicationId
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[aspnet_Paths]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[LoweredPath]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths_CreatePath].[@Path]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths_CreatePath].[@ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[Path]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[LoweredPath]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths_CreatePath].[@PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[PathId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Paths_CreatePath].[@ApplicationId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Paths_CreatePath].[@Path]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Paths_CreatePath].[@PathId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="599" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.aspnet_Paths_CreatePath&#xD;&#xA;    @ApplicationId UNIQUEIDENTIFIER,&#xD;&#xA;    @Path           NVARCHAR(256),&#xD;&#xA;    @PathId         UNIQUEIDENTIFIER OUTPUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Personalization_GetApplicationId]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    SELECT @ApplicationId = ApplicationId FROM dbo.aspnet_Applications WHERE LOWER(@ApplicationName) = LoweredApplicationName
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Personalization_GetApplicationId].[@ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Personalization_GetApplicationId].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Personalization_GetApplicationId].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Personalization_GetApplicationId].[@ApplicationId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="284" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.aspnet_Personalization_GetApplicationId (&#xD;&#xA;    @ApplicationName NVARCHAR(256),&#xD;&#xA;    @ApplicationId UNIQUEIDENTIFIER OUT)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_PersonalizationAdministration_DeleteAllState]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @ApplicationId UNIQUEIDENTIFIER
    EXEC dbo.aspnet_Personalization_GetApplicationId @ApplicationName, @ApplicationId OUTPUT
    IF (@ApplicationId IS NULL)
        SELECT @Count = 0
    ELSE
    BEGIN
        IF (@AllUsersScope = 1)
            DELETE FROM aspnet_PersonalizationAllUsers
            WHERE PathId IN
               (SELECT Paths.PathId
                FROM dbo.aspnet_Paths Paths
                WHERE Paths.ApplicationId = @ApplicationId)
        ELSE
            DELETE FROM aspnet_PersonalizationPerUser
            WHERE PathId IN
               (SELECT Paths.PathId
                FROM dbo.aspnet_Paths Paths
                WHERE Paths.ApplicationId = @ApplicationId)

        SELECT @Count = @@ROWCOUNT
    END
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Personalization_GetApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_DeleteAllState].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_DeleteAllState].[@Count]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_DeleteAllState].[@AllUsersScope]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAdministration_DeleteAllState].[@AllUsersScope]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAdministration_DeleteAllState].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAdministration_DeleteAllState].[@Count]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="942" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.aspnet_PersonalizationAdministration_DeleteAllState (&#xD;&#xA;    @AllUsersScope bit,&#xD;&#xA;    @ApplicationName NVARCHAR(256),&#xD;&#xA;    @Count int OUT)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_PersonalizationAdministration_FindState]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @ApplicationId UNIQUEIDENTIFIER
    EXEC dbo.aspnet_Personalization_GetApplicationId @ApplicationName, @ApplicationId OUTPUT
    IF (@ApplicationId IS NULL)
        RETURN

    -- Set the page bounds
    DECLARE @PageLowerBound INT
    DECLARE @PageUpperBound INT
    DECLARE @TotalRecords   INT
    SET @PageLowerBound = @PageSize * @PageIndex
    SET @PageUpperBound = @PageSize - 1 + @PageLowerBound

    -- Create a temp table to store the selected results
    CREATE TABLE #PageIndex (
        IndexId int IDENTITY (0, 1) NOT NULL,
        ItemId UNIQUEIDENTIFIER
    )

    IF (@AllUsersScope = 1)
    BEGIN
        -- Insert into our temp table
        INSERT INTO #PageIndex (ItemId)
        SELECT Paths.PathId
        FROM dbo.aspnet_Paths Paths,
             ((SELECT Paths.PathId
               FROM dbo.aspnet_PersonalizationAllUsers AllUsers, dbo.aspnet_Paths Paths
               WHERE Paths.ApplicationId = @ApplicationId
                      AND AllUsers.PathId = Paths.PathId
                      AND (@Path IS NULL OR Paths.LoweredPath LIKE LOWER(@Path))
              ) AS SharedDataPerPath
              FULL OUTER JOIN
              (SELECT DISTINCT Paths.PathId
               FROM dbo.aspnet_PersonalizationPerUser PerUser, dbo.aspnet_Paths Paths
               WHERE Paths.ApplicationId = @ApplicationId
                      AND PerUser.PathId = Paths.PathId
                      AND (@Path IS NULL OR Paths.LoweredPath LIKE LOWER(@Path))
              ) AS UserDataPerPath
              ON SharedDataPerPath.PathId = UserDataPerPath.PathId
             )
        WHERE Paths.PathId = SharedDataPerPath.PathId OR Paths.PathId = UserDataPerPath.PathId
        ORDER BY Paths.Path ASC

        SELECT @TotalRecords = @@ROWCOUNT

        SELECT Paths.Path,
               SharedDataPerPath.LastUpdatedDate,
               SharedDataPerPath.SharedDataLength,
               UserDataPerPath.UserDataLength,
               UserDataPerPath.UserCount
        FROM dbo.aspnet_Paths Paths,
             ((SELECT PageIndex.ItemId AS PathId,
                      AllUsers.LastUpdatedDate AS LastUpdatedDate,
                      DATALENGTH(AllUsers.PageSettings) AS SharedDataLength
               FROM dbo.aspnet_PersonalizationAllUsers AllUsers, #PageIndex PageIndex
               WHERE AllUsers.PathId = PageIndex.ItemId
                     AND PageIndex.IndexId >= @PageLowerBound AND PageIndex.IndexId <= @PageUpperBound
              ) AS SharedDataPerPath
              FULL OUTER JOIN
              (SELECT PageIndex.ItemId AS PathId,
                      SUM(DATALENGTH(PerUser.PageSettings)) AS UserDataLength,
                      COUNT(*) AS UserCount
               FROM aspnet_PersonalizationPerUser PerUser, #PageIndex PageIndex
               WHERE PerUser.PathId = PageIndex.ItemId
                     AND PageIndex.IndexId >= @PageLowerBound AND PageIndex.IndexId <= @PageUpperBound
               GROUP BY PageIndex.ItemId
              ) AS UserDataPerPath
              ON SharedDataPerPath.PathId = UserDataPerPath.PathId
             )
        WHERE Paths.PathId = SharedDataPerPath.PathId OR Paths.PathId = UserDataPerPath.PathId
        ORDER BY Paths.Path ASC
    END
    ELSE
    BEGIN
        -- Insert into our temp table
        INSERT INTO #PageIndex (ItemId)
        SELECT PerUser.Id
        FROM dbo.aspnet_PersonalizationPerUser PerUser, dbo.aspnet_Users Users, dbo.aspnet_Paths Paths
        WHERE Paths.ApplicationId = @ApplicationId
              AND PerUser.UserId = Users.UserId
              AND PerUser.PathId = Paths.PathId
              AND (@Path IS NULL OR Paths.LoweredPath LIKE LOWER(@Path))
              AND (@UserName IS NULL OR Users.LoweredUserName LIKE LOWER(@UserName))
              AND (@InactiveSinceDate IS NULL OR Users.LastActivityDate <= @InactiveSinceDate)
        ORDER BY Paths.Path ASC, Users.UserName ASC

        SELECT @TotalRecords = @@ROWCOUNT

        SELECT Paths.Path, PerUser.LastUpdatedDate, DATALENGTH(PerUser.PageSettings), Users.UserName, Users.LastActivityDate
        FROM dbo.aspnet_PersonalizationPerUser PerUser, dbo.aspnet_Users Users, dbo.aspnet_Paths Paths, #PageIndex PageIndex
        WHERE PerUser.Id = PageIndex.ItemId
              AND PerUser.UserId = Users.UserId
              AND PerUser.PathId = Paths.PathId
              AND PageIndex.IndexId >= @PageLowerBound AND PageIndex.IndexId <= @PageUpperBound
        ORDER BY Paths.Path ASC, Users.UserName ASC
    END

    RETURN @TotalRecords
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Personalization_GetApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[@PageSize]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[@PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[@AllUsersScope]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[#PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[#PageIndex].[ItemId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[@Path]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[LoweredPath]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[LoweredPath]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[Path]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[#PageIndex].[ItemId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers].[LastUpdatedDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers].[PageSettings]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[#PageIndex].[ItemId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[#PageIndex].[IndexId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[#PageIndex].[ItemId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[PageSettings]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[#PageIndex].[ItemId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[#PageIndex].[IndexId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[#PageIndex].[ItemId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[#PageIndex].[ItemId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers].[LastUpdatedDate]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[#PageIndex].[ItemId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[#PageIndex].[ItemId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[LoweredPath]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[@UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[@InactiveSinceDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[Path]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[Path]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[LastUpdatedDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[PageSettings]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[#PageIndex].[ItemId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[#PageIndex].[IndexId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[#PageIndex]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[#PageIndex].[IndexId]">
									<Property Name="IsNullable" Value="False" />
									<Property Name="IsIdentity" Value="True" />
									<Property Name="IdentitySeed" Value="0" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[#PageIndex].[ItemId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[@AllUsersScope]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[@PageIndex]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[@PageSize]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[@Path]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[@UserName]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAdministration_FindState].[@InactiveSinceDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="4947" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.aspnet_PersonalizationAdministration_FindState (&#xD;&#xA;    @AllUsersScope bit,&#xD;&#xA;    @ApplicationName NVARCHAR(256),&#xD;&#xA;    @PageIndex              INT,&#xD;&#xA;    @PageSize               INT,&#xD;&#xA;    @Path NVARCHAR(256) = NULL,&#xD;&#xA;    @UserName NVARCHAR(256) = NULL,&#xD;&#xA;    @InactiveSinceDate DATETIME = NULL)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_PersonalizationAdministration_GetCountOfState]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN

    DECLARE @ApplicationId UNIQUEIDENTIFIER
    EXEC dbo.aspnet_Personalization_GetApplicationId @ApplicationName, @ApplicationId OUTPUT
    IF (@ApplicationId IS NULL)
        SELECT @Count = 0
    ELSE
        IF (@AllUsersScope = 1)
            SELECT @Count = COUNT(*)
            FROM dbo.aspnet_PersonalizationAllUsers AllUsers, dbo.aspnet_Paths Paths
            WHERE Paths.ApplicationId = @ApplicationId
                  AND AllUsers.PathId = Paths.PathId
                  AND (@Path IS NULL OR Paths.LoweredPath LIKE LOWER(@Path))
        ELSE
            SELECT @Count = COUNT(*)
            FROM dbo.aspnet_PersonalizationPerUser PerUser, dbo.aspnet_Users Users, dbo.aspnet_Paths Paths
            WHERE Paths.ApplicationId = @ApplicationId
                  AND PerUser.UserId = Users.UserId
                  AND PerUser.PathId = Paths.PathId
                  AND (@Path IS NULL OR Paths.LoweredPath LIKE LOWER(@Path))
                  AND (@UserName IS NULL OR Users.LoweredUserName LIKE LOWER(@UserName))
                  AND (@InactiveSinceDate IS NULL OR Users.LastActivityDate <= @InactiveSinceDate)
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Personalization_GetApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_GetCountOfState].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_GetCountOfState].[@Count]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_GetCountOfState].[@AllUsersScope]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_GetCountOfState].[@Path]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[LoweredPath]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[LoweredPath]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_GetCountOfState].[@UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_GetCountOfState].[@InactiveSinceDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAdministration_GetCountOfState].[@Count]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAdministration_GetCountOfState].[@AllUsersScope]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAdministration_GetCountOfState].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAdministration_GetCountOfState].[@Path]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAdministration_GetCountOfState].[@UserName]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAdministration_GetCountOfState].[@InactiveSinceDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1431" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.aspnet_PersonalizationAdministration_GetCountOfState (&#xD;&#xA;    @Count int OUT,&#xD;&#xA;    @AllUsersScope bit,&#xD;&#xA;    @ApplicationName NVARCHAR(256),&#xD;&#xA;    @Path NVARCHAR(256) = NULL,&#xD;&#xA;    @UserName NVARCHAR(256) = NULL,&#xD;&#xA;    @InactiveSinceDate DATETIME = NULL)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_PersonalizationAdministration_ResetSharedState]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @ApplicationId UNIQUEIDENTIFIER
    EXEC dbo.aspnet_Personalization_GetApplicationId @ApplicationName, @ApplicationId OUTPUT
    IF (@ApplicationId IS NULL)
        SELECT @Count = 0
    ELSE
    BEGIN
        DELETE FROM dbo.aspnet_PersonalizationAllUsers
        WHERE PathId IN
            (SELECT AllUsers.PathId
             FROM dbo.aspnet_PersonalizationAllUsers AllUsers, dbo.aspnet_Paths Paths
             WHERE Paths.ApplicationId = @ApplicationId
                   AND AllUsers.PathId = Paths.PathId
                   AND Paths.LoweredPath = LOWER(@Path))

        SELECT @Count = @@ROWCOUNT
    END
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Personalization_GetApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_ResetSharedState].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_ResetSharedState].[@Count]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[LoweredPath]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_ResetSharedState].[@Path]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAdministration_ResetSharedState].[@Count]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAdministration_ResetSharedState].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAdministration_ResetSharedState].[@Path]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="818" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.aspnet_PersonalizationAdministration_ResetSharedState (&#xD;&#xA;    @Count int OUT,&#xD;&#xA;    @ApplicationName NVARCHAR(256),&#xD;&#xA;    @Path NVARCHAR(256))&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_PersonalizationAdministration_ResetUserState]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @ApplicationId UNIQUEIDENTIFIER
    EXEC dbo.aspnet_Personalization_GetApplicationId @ApplicationName, @ApplicationId OUTPUT
    IF (@ApplicationId IS NULL)
        SELECT @Count = 0
    ELSE
    BEGIN
        DELETE FROM dbo.aspnet_PersonalizationPerUser
        WHERE Id IN (SELECT PerUser.Id
                     FROM dbo.aspnet_PersonalizationPerUser PerUser, dbo.aspnet_Users Users, dbo.aspnet_Paths Paths
                     WHERE Paths.ApplicationId = @ApplicationId
                           AND PerUser.UserId = Users.UserId
                           AND PerUser.PathId = Paths.PathId
                           AND (@InactiveSinceDate IS NULL OR Users.LastActivityDate <= @InactiveSinceDate)
                           AND (@UserName IS NULL OR Users.LoweredUserName = LOWER(@UserName))
                           AND (@Path IS NULL OR Paths.LoweredPath = LOWER(@Path)))

        SELECT @Count = @@ROWCOUNT
    END
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Personalization_GetApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_ResetUserState].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_ResetUserState].[@Count]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_ResetUserState].[@InactiveSinceDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_ResetUserState].[@UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAdministration_ResetUserState].[@Path]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[LoweredPath]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAdministration_ResetUserState].[@Count]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAdministration_ResetUserState].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAdministration_ResetUserState].[@InactiveSinceDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAdministration_ResetUserState].[@UserName]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAdministration_ResetUserState].[@Path]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1317" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.aspnet_PersonalizationAdministration_ResetUserState (&#xD;&#xA;    @Count                  int                 OUT,&#xD;&#xA;    @ApplicationName        NVARCHAR(256),&#xD;&#xA;    @InactiveSinceDate      DATETIME            = NULL,&#xD;&#xA;    @UserName               NVARCHAR(256)       = NULL,&#xD;&#xA;    @Path                   NVARCHAR(256)       = NULL)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[aspnet_PersonalizationAllUsers]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="TextInRowSize" Value="6000" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_PersonalizationAllUsers].[PathId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_PersonalizationAllUsers].[PageSettings]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[image]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_PersonalizationAllUsers].[LastUpdatedDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="69" />
			<AttachedAnnotation Disambiguator="70" />
			<AttachedAnnotation Disambiguator="34" />
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_PersonalizationAllUsers_GetPageSettings]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @ApplicationId UNIQUEIDENTIFIER
    DECLARE @PathId UNIQUEIDENTIFIER

    SELECT @ApplicationId = NULL
    SELECT @PathId = NULL

    EXEC dbo.aspnet_Personalization_GetApplicationId @ApplicationName, @ApplicationId OUTPUT
    IF (@ApplicationId IS NULL)
    BEGIN
        RETURN
    END

    SELECT @PathId = u.PathId FROM dbo.aspnet_Paths u WHERE u.ApplicationId = @ApplicationId AND u.LoweredPath = LOWER(@Path)
    IF (@PathId IS NULL)
    BEGIN
        RETURN
    END

    SELECT p.PageSettings FROM dbo.aspnet_PersonalizationAllUsers p WHERE p.PathId = @PathId
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Personalization_GetApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers_GetPageSettings].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[LoweredPath]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers_GetPageSettings].[@Path]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers].[PageSettings]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers].[PathId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAllUsers_GetPageSettings].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAllUsers_GetPageSettings].[@Path]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="760" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.aspnet_PersonalizationAllUsers_GetPageSettings (&#xD;&#xA;    @ApplicationName  NVARCHAR(256),&#xD;&#xA;    @Path              NVARCHAR(256))&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_PersonalizationAllUsers_ResetPageSettings]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @ApplicationId UNIQUEIDENTIFIER
    DECLARE @PathId UNIQUEIDENTIFIER

    SELECT @ApplicationId = NULL
    SELECT @PathId = NULL

    EXEC dbo.aspnet_Personalization_GetApplicationId @ApplicationName, @ApplicationId OUTPUT
    IF (@ApplicationId IS NULL)
    BEGIN
        RETURN
    END

    SELECT @PathId = u.PathId FROM dbo.aspnet_Paths u WHERE u.ApplicationId = @ApplicationId AND u.LoweredPath = LOWER(@Path)
    IF (@PathId IS NULL)
    BEGIN
        RETURN
    END

    DELETE FROM dbo.aspnet_PersonalizationAllUsers WHERE PathId = @PathId
    RETURN 0
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Personalization_GetApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers_ResetPageSettings].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[LoweredPath]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers_ResetPageSettings].[@Path]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers].[PathId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAllUsers_ResetPageSettings].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAllUsers_ResetPageSettings].[@Path]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="757" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.aspnet_PersonalizationAllUsers_ResetPageSettings (&#xD;&#xA;    @ApplicationName  NVARCHAR(256),&#xD;&#xA;    @Path              NVARCHAR(256))&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_PersonalizationAllUsers_SetPageSettings]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @ApplicationId UNIQUEIDENTIFIER
    DECLARE @PathId UNIQUEIDENTIFIER

    SELECT @ApplicationId = NULL
    SELECT @PathId = NULL

    EXEC dbo.aspnet_Applications_CreateApplication @ApplicationName, @ApplicationId OUTPUT

    SELECT @PathId = u.PathId FROM dbo.aspnet_Paths u WHERE u.ApplicationId = @ApplicationId AND u.LoweredPath = LOWER(@Path)
    IF (@PathId IS NULL)
    BEGIN
        EXEC dbo.aspnet_Paths_CreatePath @ApplicationId, @Path, @PathId OUTPUT
    END

    IF (EXISTS(SELECT PathId FROM dbo.aspnet_PersonalizationAllUsers WHERE PathId = @PathId))
        UPDATE dbo.aspnet_PersonalizationAllUsers SET PageSettings = @PageSettings, LastUpdatedDate = @CurrentTimeUtc WHERE PathId = @PathId
    ELSE
        INSERT INTO dbo.aspnet_PersonalizationAllUsers(PathId, PageSettings, LastUpdatedDate) VALUES (@PathId, @PageSettings, @CurrentTimeUtc)
    RETURN 0
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications_CreateApplication]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers_SetPageSettings].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[LoweredPath]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers_SetPageSettings].[@Path]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths_CreatePath]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers].[PageSettings]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers_SetPageSettings].[@PageSettings]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers].[LastUpdatedDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers_SetPageSettings].[@CurrentTimeUtc]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers].[PathId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAllUsers_SetPageSettings].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAllUsers_SetPageSettings].[@Path]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAllUsers_SetPageSettings].[@PageSettings]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[image]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationAllUsers_SetPageSettings].[@CurrentTimeUtc]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1126" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.aspnet_PersonalizationAllUsers_SetPageSettings (&#xD;&#xA;    @ApplicationName  NVARCHAR(256),&#xD;&#xA;    @Path             NVARCHAR(256),&#xD;&#xA;    @PageSettings     IMAGE,&#xD;&#xA;    @CurrentTimeUtc   DATETIME)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[aspnet_PersonalizationPerUser]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="TextInRowSize" Value="6000" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_PersonalizationPerUser].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="47" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_PersonalizationPerUser].[PathId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_PersonalizationPerUser].[UserId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_PersonalizationPerUser].[PageSettings]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[image]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_PersonalizationPerUser].[LastUpdatedDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="71" />
			<AttachedAnnotation Disambiguator="73" />
			<AttachedAnnotation Disambiguator="72" />
			<AttachedAnnotation Disambiguator="74" />
			<AttachedAnnotation Disambiguator="35" />
		</Element>
		<Element Type="ISql100Index" Name="[dbo].[aspnet_PersonalizationPerUser].[aspnet_PersonalizationPerUser_index1]">
			<Property Name="IsClustered" Value="True" />
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_PersonalizationPerUser].[PathId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_PersonalizationPerUser].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Index" Name="[dbo].[aspnet_PersonalizationPerUser].[aspnet_PersonalizationPerUser_ncindex2]">
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_PersonalizationPerUser].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_PersonalizationPerUser].[PathId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_PersonalizationPerUser_GetPageSettings]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @ApplicationId UNIQUEIDENTIFIER
    DECLARE @PathId UNIQUEIDENTIFIER
    DECLARE @UserId UNIQUEIDENTIFIER

    SELECT @ApplicationId = NULL
    SELECT @PathId = NULL
    SELECT @UserId = NULL

    EXEC dbo.aspnet_Personalization_GetApplicationId @ApplicationName, @ApplicationId OUTPUT
    IF (@ApplicationId IS NULL)
    BEGIN
        RETURN
    END

    SELECT @PathId = u.PathId FROM dbo.aspnet_Paths u WHERE u.ApplicationId = @ApplicationId AND u.LoweredPath = LOWER(@Path)
    IF (@PathId IS NULL)
    BEGIN
        RETURN
    END

    SELECT @UserId = u.UserId FROM dbo.aspnet_Users u WHERE u.ApplicationId = @ApplicationId AND u.LoweredUserName = LOWER(@UserName)
    IF (@UserId IS NULL)
    BEGIN
        RETURN
    END

    UPDATE   dbo.aspnet_Users WITH (ROWLOCK)
    SET      LastActivityDate = @CurrentTimeUtc
    WHERE    UserId = @UserId
    IF (@@ROWCOUNT = 0) -- Username not found
        RETURN

    SELECT p.PageSettings FROM dbo.aspnet_PersonalizationPerUser p WHERE p.PathId = @PathId AND p.UserId = @UserId
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Personalization_GetApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser_GetPageSettings].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[LoweredPath]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser_GetPageSettings].[@Path]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser_GetPageSettings].[@UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser_GetPageSettings].[@CurrentTimeUtc]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[PageSettings]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationPerUser_GetPageSettings].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationPerUser_GetPageSettings].[@UserName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationPerUser_GetPageSettings].[@Path]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationPerUser_GetPageSettings].[@CurrentTimeUtc]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1306" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.aspnet_PersonalizationPerUser_GetPageSettings (&#xD;&#xA;    @ApplicationName  NVARCHAR(256),&#xD;&#xA;    @UserName         NVARCHAR(256),&#xD;&#xA;    @Path             NVARCHAR(256),&#xD;&#xA;    @CurrentTimeUtc   DATETIME)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_PersonalizationPerUser_ResetPageSettings]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @ApplicationId UNIQUEIDENTIFIER
    DECLARE @PathId UNIQUEIDENTIFIER
    DECLARE @UserId UNIQUEIDENTIFIER

    SELECT @ApplicationId = NULL
    SELECT @PathId = NULL
    SELECT @UserId = NULL

    EXEC dbo.aspnet_Personalization_GetApplicationId @ApplicationName, @ApplicationId OUTPUT
    IF (@ApplicationId IS NULL)
    BEGIN
        RETURN
    END

    SELECT @PathId = u.PathId FROM dbo.aspnet_Paths u WHERE u.ApplicationId = @ApplicationId AND u.LoweredPath = LOWER(@Path)
    IF (@PathId IS NULL)
    BEGIN
        RETURN
    END

    SELECT @UserId = u.UserId FROM dbo.aspnet_Users u WHERE u.ApplicationId = @ApplicationId AND u.LoweredUserName = LOWER(@UserName)
    IF (@UserId IS NULL)
    BEGIN
        RETURN
    END

    UPDATE   dbo.aspnet_Users WITH (ROWLOCK)
    SET      LastActivityDate = @CurrentTimeUtc
    WHERE    UserId = @UserId
    IF (@@ROWCOUNT = 0) -- Username not found
        RETURN

    DELETE FROM dbo.aspnet_PersonalizationPerUser WHERE PathId = @PathId AND UserId = @UserId
    RETURN 0
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Personalization_GetApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser_ResetPageSettings].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[LoweredPath]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser_ResetPageSettings].[@Path]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser_ResetPageSettings].[@UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser_ResetPageSettings].[@CurrentTimeUtc]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationPerUser_ResetPageSettings].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationPerUser_ResetPageSettings].[@UserName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationPerUser_ResetPageSettings].[@Path]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationPerUser_ResetPageSettings].[@CurrentTimeUtc]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1301" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.aspnet_PersonalizationPerUser_ResetPageSettings (&#xD;&#xA;    @ApplicationName  NVARCHAR(256),&#xD;&#xA;    @UserName         NVARCHAR(256),&#xD;&#xA;    @Path             NVARCHAR(256),&#xD;&#xA;    @CurrentTimeUtc   DATETIME)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_PersonalizationPerUser_SetPageSettings]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @ApplicationId UNIQUEIDENTIFIER
    DECLARE @PathId UNIQUEIDENTIFIER
    DECLARE @UserId UNIQUEIDENTIFIER

    SELECT @ApplicationId = NULL
    SELECT @PathId = NULL
    SELECT @UserId = NULL

    EXEC dbo.aspnet_Applications_CreateApplication @ApplicationName, @ApplicationId OUTPUT

    SELECT @PathId = u.PathId FROM dbo.aspnet_Paths u WHERE u.ApplicationId = @ApplicationId AND u.LoweredPath = LOWER(@Path)
    IF (@PathId IS NULL)
    BEGIN
        EXEC dbo.aspnet_Paths_CreatePath @ApplicationId, @Path, @PathId OUTPUT
    END

    SELECT @UserId = u.UserId FROM dbo.aspnet_Users u WHERE u.ApplicationId = @ApplicationId AND u.LoweredUserName = LOWER(@UserName)
    IF (@UserId IS NULL)
    BEGIN
        EXEC dbo.aspnet_Users_CreateUser @ApplicationId, @UserName, 0, @CurrentTimeUtc, @UserId OUTPUT
    END

    UPDATE   dbo.aspnet_Users WITH (ROWLOCK)
    SET      LastActivityDate = @CurrentTimeUtc
    WHERE    UserId = @UserId
    IF (@@ROWCOUNT = 0) -- Username not found
        RETURN

    IF (EXISTS(SELECT PathId FROM dbo.aspnet_PersonalizationPerUser WHERE UserId = @UserId AND PathId = @PathId))
        UPDATE dbo.aspnet_PersonalizationPerUser SET PageSettings = @PageSettings, LastUpdatedDate = @CurrentTimeUtc WHERE UserId = @UserId AND PathId = @PathId
    ELSE
        INSERT INTO dbo.aspnet_PersonalizationPerUser(UserId, PathId, PageSettings, LastUpdatedDate) VALUES (@UserId, @PathId, @PageSettings, @CurrentTimeUtc)
    RETURN 0
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications_CreateApplication]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser_SetPageSettings].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[LoweredPath]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser_SetPageSettings].[@Path]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths_CreatePath]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser_SetPageSettings].[@UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users_CreateUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser_SetPageSettings].[@CurrentTimeUtc]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[PageSettings]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser_SetPageSettings].[@PageSettings]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[LastUpdatedDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[PathId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationPerUser_SetPageSettings].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationPerUser_SetPageSettings].[@UserName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationPerUser_SetPageSettings].[@Path]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationPerUser_SetPageSettings].[@PageSettings]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[image]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_PersonalizationPerUser_SetPageSettings].[@CurrentTimeUtc]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1762" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.aspnet_PersonalizationPerUser_SetPageSettings (&#xD;&#xA;    @ApplicationName  NVARCHAR(256),&#xD;&#xA;    @UserName         NVARCHAR(256),&#xD;&#xA;    @Path             NVARCHAR(256),&#xD;&#xA;    @PageSettings     IMAGE,&#xD;&#xA;    @CurrentTimeUtc   DATETIME)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[aspnet_Profile]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="TextInRowSize" Value="6000" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Profile].[UserId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Profile].[PropertyNames]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[ntext]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Profile].[PropertyValuesString]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[ntext]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Profile].[PropertyValuesBinary]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[image]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Profile].[LastUpdatedDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="55" />
			<AttachedAnnotation Disambiguator="56" />
			<AttachedAnnotation Disambiguator="30" />
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Profile_DeleteInactiveProfiles]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @ApplicationId uniqueidentifier
    SELECT  @ApplicationId = NULL
    SELECT  @ApplicationId = ApplicationId FROM aspnet_Applications WHERE LOWER(@ApplicationName) = LoweredApplicationName
    IF (@ApplicationId IS NULL)
    BEGIN
        SELECT  0
        RETURN
    END

    DELETE
    FROM    dbo.aspnet_Profile
    WHERE   UserId IN
            (   SELECT  UserId
                FROM    dbo.aspnet_Users u
                WHERE   ApplicationId = @ApplicationId
                        AND (LastActivityDate <= @InactiveSinceDate)
                        AND (
                                (@ProfileAuthOptions = 2)
                             OR (@ProfileAuthOptions = 0 AND IsAnonymous = 1)
                             OR (@ProfileAuthOptions = 1 AND IsAnonymous = 0)
                            )
            )

    SELECT  @@ROWCOUNT
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile_DeleteInactiveProfiles].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile_DeleteInactiveProfiles].[@InactiveSinceDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile_DeleteInactiveProfiles].[@ProfileAuthOptions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[IsAnonymous]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Profile_DeleteInactiveProfiles].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Profile_DeleteInactiveProfiles].[@ProfileAuthOptions]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Profile_DeleteInactiveProfiles].[@InactiveSinceDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="1075" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE PROCEDURE dbo.aspnet_Profile_DeleteInactiveProfiles&#xD;&#xA;    @ApplicationName        nvarchar(256),&#xD;&#xA;    @ProfileAuthOptions     int,&#xD;&#xA;    @InactiveSinceDate      datetime&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Profile_DeleteProfiles]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @UserName     nvarchar(256)
    DECLARE @CurrentPos   int
    DECLARE @NextPos      int
    DECLARE @NumDeleted   int
    DECLARE @DeletedUser  int
    DECLARE @TranStarted  bit
    DECLARE @ErrorCode    int

    SET @ErrorCode = 0
    SET @CurrentPos = 1
    SET @NumDeleted = 0
    SET @TranStarted = 0

    IF( @@TRANCOUNT = 0 )
    BEGIN
        BEGIN TRANSACTION
        SET @TranStarted = 1
    END
    ELSE
    	SET @TranStarted = 0

    WHILE (@CurrentPos <= LEN(@UserNames))
    BEGIN
        SELECT @NextPos = CHARINDEX(N',', @UserNames,  @CurrentPos)
        IF (@NextPos = 0 OR @NextPos IS NULL)
            SELECT @NextPos = LEN(@UserNames) + 1

        SELECT @UserName = SUBSTRING(@UserNames, @CurrentPos, @NextPos - @CurrentPos)
        SELECT @CurrentPos = @NextPos+1

        IF (LEN(@UserName) > 0)
        BEGIN
            SELECT @DeletedUser = 0
            EXEC dbo.aspnet_Users_DeleteUser @ApplicationName, @UserName, 4, @DeletedUser OUTPUT
            IF( @@ERROR <> 0 )
            BEGIN
                SET @ErrorCode = -1
                GOTO Cleanup
            END
            IF (@DeletedUser <> 0)
                SELECT @NumDeleted = @NumDeleted + 1
        END
    END
    SELECT @NumDeleted
    IF (@TranStarted = 1)
    BEGIN
    	SET @TranStarted = 0
    	COMMIT TRANSACTION
    END
    SET @TranStarted = 0

    RETURN 0

Cleanup:
    IF (@TranStarted = 1 )
    BEGIN
        SET @TranStarted = 0
    	ROLLBACK TRANSACTION
    END
    RETURN @ErrorCode
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile_DeleteProfiles].[@UserNames]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users_DeleteUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile_DeleteProfiles].[@ApplicationName]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Profile_DeleteProfiles].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Profile_DeleteProfiles].[@UserNames]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="4000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="1719" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE PROCEDURE dbo.aspnet_Profile_DeleteProfiles&#xD;&#xA;    @ApplicationName        nvarchar(256),&#xD;&#xA;    @UserNames              nvarchar(4000)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Profile_GetNumberOfInactiveProfiles]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @ApplicationId uniqueidentifier
    SELECT  @ApplicationId = NULL
    SELECT  @ApplicationId = ApplicationId FROM aspnet_Applications WHERE LOWER(@ApplicationName) = LoweredApplicationName
    IF (@ApplicationId IS NULL)
    BEGIN
        SELECT 0
        RETURN
    END

    SELECT  COUNT(*)
    FROM    dbo.aspnet_Users u, dbo.aspnet_Profile p
    WHERE   ApplicationId = @ApplicationId
        AND u.UserId = p.UserId
        AND (LastActivityDate <= @InactiveSinceDate)
        AND (
                (@ProfileAuthOptions = 2)
                OR (@ProfileAuthOptions = 0 AND IsAnonymous = 1)
                OR (@ProfileAuthOptions = 1 AND IsAnonymous = 0)
            )
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile_GetNumberOfInactiveProfiles].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile_GetNumberOfInactiveProfiles].[@InactiveSinceDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile_GetNumberOfInactiveProfiles].[@ProfileAuthOptions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[IsAnonymous]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Profile_GetNumberOfInactiveProfiles].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Profile_GetNumberOfInactiveProfiles].[@ProfileAuthOptions]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Profile_GetNumberOfInactiveProfiles].[@InactiveSinceDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="902" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE PROCEDURE dbo.aspnet_Profile_GetNumberOfInactiveProfiles&#xD;&#xA;    @ApplicationName        nvarchar(256),&#xD;&#xA;    @ProfileAuthOptions     int,&#xD;&#xA;    @InactiveSinceDate      datetime&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Profile_GetProfiles]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @ApplicationId uniqueidentifier
    SELECT  @ApplicationId = NULL
    SELECT  @ApplicationId = ApplicationId FROM aspnet_Applications WHERE LOWER(@ApplicationName) = LoweredApplicationName
    IF (@ApplicationId IS NULL)
        RETURN

    -- Set the page bounds
    DECLARE @PageLowerBound int
    DECLARE @PageUpperBound int
    DECLARE @TotalRecords   int
    SET @PageLowerBound = @PageSize * @PageIndex
    SET @PageUpperBound = @PageSize - 1 + @PageLowerBound

    -- Create a temp table TO store the select results
    CREATE TABLE #PageIndexForUsers
    (
        IndexId int IDENTITY (0, 1) NOT NULL,
        UserId uniqueidentifier
    )

    -- Insert into our temp table
    INSERT INTO #PageIndexForUsers (UserId)
        SELECT  u.UserId
        FROM    dbo.aspnet_Users u, dbo.aspnet_Profile p
        WHERE   ApplicationId = @ApplicationId
            AND u.UserId = p.UserId
            AND (@InactiveSinceDate IS NULL OR LastActivityDate <= @InactiveSinceDate)
            AND (     (@ProfileAuthOptions = 2)
                   OR (@ProfileAuthOptions = 0 AND IsAnonymous = 1)
                   OR (@ProfileAuthOptions = 1 AND IsAnonymous = 0)
                 )
            AND (@UserNameToMatch IS NULL OR LoweredUserName LIKE LOWER(@UserNameToMatch))
        ORDER BY UserName

    SELECT  u.UserName, u.IsAnonymous, u.LastActivityDate, p.LastUpdatedDate,
            DATALENGTH(p.PropertyNames) + DATALENGTH(p.PropertyValuesString) + DATALENGTH(p.PropertyValuesBinary)
    FROM    dbo.aspnet_Users u, dbo.aspnet_Profile p, #PageIndexForUsers i
    WHERE   u.UserId = p.UserId AND p.UserId = i.UserId AND i.IndexId >= @PageLowerBound AND i.IndexId <= @PageUpperBound

    SELECT COUNT(*)
    FROM   #PageIndexForUsers

    DROP TABLE #PageIndexForUsers
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile_GetProfiles].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile_GetProfiles].[@PageSize]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile_GetProfiles].[@PageIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile_GetProfiles].[#PageIndexForUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile_GetProfiles].[#PageIndexForUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile_GetProfiles].[@InactiveSinceDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile_GetProfiles].[@ProfileAuthOptions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[IsAnonymous]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile_GetProfiles].[@UserNameToMatch]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[IsAnonymous]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile].[LastUpdatedDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile].[PropertyNames]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile].[PropertyValuesString]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile].[PropertyValuesBinary]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile_GetProfiles].[#PageIndexForUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile_GetProfiles].[#PageIndexForUsers].[IndexId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[aspnet_Profile_GetProfiles].[#PageIndexForUsers]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Profile_GetProfiles].[#PageIndexForUsers].[IndexId]">
									<Property Name="IsNullable" Value="False" />
									<Property Name="IsIdentity" Value="True" />
									<Property Name="IdentitySeed" Value="0" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Profile_GetProfiles].[#PageIndexForUsers].[UserId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Profile_GetProfiles].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Profile_GetProfiles].[@ProfileAuthOptions]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Profile_GetProfiles].[@PageIndex]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Profile_GetProfiles].[@PageSize]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Profile_GetProfiles].[@UserNameToMatch]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Profile_GetProfiles].[@InactiveSinceDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="2143" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE PROCEDURE dbo.aspnet_Profile_GetProfiles&#xD;&#xA;    @ApplicationName        nvarchar(256),&#xD;&#xA;    @ProfileAuthOptions     int,&#xD;&#xA;    @PageIndex              int,&#xD;&#xA;    @PageSize               int,&#xD;&#xA;    @UserNameToMatch        nvarchar(256) = NULL,&#xD;&#xA;    @InactiveSinceDate      datetime      = NULL&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Profile_GetProperties]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @ApplicationId uniqueidentifier
    SELECT  @ApplicationId = NULL
    SELECT  @ApplicationId = ApplicationId FROM dbo.aspnet_Applications WHERE LOWER(@ApplicationName) = LoweredApplicationName
    IF (@ApplicationId IS NULL)
        RETURN

    DECLARE @UserId uniqueidentifier
    SELECT  @UserId = NULL

    SELECT @UserId = UserId
    FROM   dbo.aspnet_Users
    WHERE  ApplicationId = @ApplicationId AND LoweredUserName = LOWER(@UserName)

    IF (@UserId IS NULL)
        RETURN
    SELECT TOP 1 PropertyNames, PropertyValuesString, PropertyValuesBinary
    FROM         dbo.aspnet_Profile
    WHERE        UserId = @UserId

    IF (@@ROWCOUNT > 0)
    BEGIN
        UPDATE dbo.aspnet_Users
        SET    LastActivityDate=@CurrentTimeUtc
        WHERE  UserId = @UserId
    END
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile_GetProperties].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile_GetProperties].[@UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile].[PropertyNames]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile].[PropertyValuesString]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile].[PropertyValuesBinary]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile_GetProperties].[@CurrentTimeUtc]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Profile_GetProperties].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Profile_GetProperties].[@UserName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Profile_GetProperties].[@CurrentTimeUtc]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="1008" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE PROCEDURE dbo.aspnet_Profile_GetProperties&#xD;&#xA;    @ApplicationName      nvarchar(256),&#xD;&#xA;    @UserName             nvarchar(256),&#xD;&#xA;    @CurrentTimeUtc       datetime&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Profile_SetProperties]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @ApplicationId uniqueidentifier
    SELECT  @ApplicationId = NULL

    DECLARE @ErrorCode     int
    SET @ErrorCode = 0

    DECLARE @TranStarted   bit
    SET @TranStarted = 0

    IF( @@TRANCOUNT = 0 )
    BEGIN
       BEGIN TRANSACTION
       SET @TranStarted = 1
    END
    ELSE
    	SET @TranStarted = 0

    EXEC dbo.aspnet_Applications_CreateApplication @ApplicationName, @ApplicationId OUTPUT

    IF( @@ERROR <> 0 )
    BEGIN
        SET @ErrorCode = -1
        GOTO Cleanup
    END

    DECLARE @UserId uniqueidentifier
    DECLARE @LastActivityDate datetime
    SELECT  @UserId = NULL
    SELECT  @LastActivityDate = @CurrentTimeUtc

    SELECT @UserId = UserId
    FROM   dbo.aspnet_Users
    WHERE  ApplicationId = @ApplicationId AND LoweredUserName = LOWER(@UserName)
    IF (@UserId IS NULL)
        EXEC dbo.aspnet_Users_CreateUser @ApplicationId, @UserName, @IsUserAnonymous, @LastActivityDate, @UserId OUTPUT

    IF( @@ERROR <> 0 )
    BEGIN
        SET @ErrorCode = -1
        GOTO Cleanup
    END

    UPDATE dbo.aspnet_Users
    SET    LastActivityDate=@CurrentTimeUtc
    WHERE  UserId = @UserId

    IF( @@ERROR <> 0 )
    BEGIN
        SET @ErrorCode = -1
        GOTO Cleanup
    END

    IF (EXISTS( SELECT *
               FROM   dbo.aspnet_Profile
               WHERE  UserId = @UserId))
        UPDATE dbo.aspnet_Profile
        SET    PropertyNames=@PropertyNames, PropertyValuesString = @PropertyValuesString,
               PropertyValuesBinary = @PropertyValuesBinary, LastUpdatedDate=@CurrentTimeUtc
        WHERE  UserId = @UserId
    ELSE
        INSERT INTO dbo.aspnet_Profile(UserId, PropertyNames, PropertyValuesString, PropertyValuesBinary, LastUpdatedDate)
             VALUES (@UserId, @PropertyNames, @PropertyValuesString, @PropertyValuesBinary, @CurrentTimeUtc)

    IF( @@ERROR <> 0 )
    BEGIN
        SET @ErrorCode = -1
        GOTO Cleanup
    END

    IF( @TranStarted = 1 )
    BEGIN
    	SET @TranStarted = 0
    	COMMIT TRANSACTION
    END

    RETURN 0

Cleanup:

    IF( @TranStarted = 1 )
    BEGIN
        SET @TranStarted = 0
    	ROLLBACK TRANSACTION
    END

    RETURN @ErrorCode

END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications_CreateApplication]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile_SetProperties].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile_SetProperties].[@CurrentTimeUtc]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile_SetProperties].[@UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users_CreateUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile_SetProperties].[@IsUserAnonymous]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile].[PropertyNames]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile_SetProperties].[@PropertyNames]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile].[PropertyValuesString]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile_SetProperties].[@PropertyValuesString]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile].[PropertyValuesBinary]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile_SetProperties].[@PropertyValuesBinary]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile].[LastUpdatedDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Profile_SetProperties].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Profile_SetProperties].[@PropertyNames]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[ntext]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Profile_SetProperties].[@PropertyValuesString]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[ntext]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Profile_SetProperties].[@PropertyValuesBinary]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[image]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Profile_SetProperties].[@UserName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Profile_SetProperties].[@IsUserAnonymous]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Profile_SetProperties].[@CurrentTimeUtc]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="2581" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE PROCEDURE dbo.aspnet_Profile_SetProperties&#xD;&#xA;    @ApplicationName        nvarchar(256),&#xD;&#xA;    @PropertyNames          ntext,&#xD;&#xA;    @PropertyValuesString   ntext,&#xD;&#xA;    @PropertyValuesBinary   image,&#xD;&#xA;    @UserName               nvarchar(256),&#xD;&#xA;    @IsUserAnonymous        bit,&#xD;&#xA;    @CurrentTimeUtc         datetime&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_RegisterSchemaVersion]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    IF( @RemoveIncompatibleSchema = 1 )
    BEGIN
        DELETE FROM dbo.aspnet_SchemaVersions WHERE Feature = LOWER( @Feature )
    END
    ELSE
    BEGIN
        IF( @IsCurrentVersion = 1 )
        BEGIN
            UPDATE dbo.aspnet_SchemaVersions
            SET IsCurrentVersion = 0
            WHERE Feature = LOWER( @Feature )
        END
    END

    INSERT  dbo.aspnet_SchemaVersions( Feature, CompatibleSchemaVersion, IsCurrentVersion )
    VALUES( LOWER( @Feature ), @CompatibleSchemaVersion, @IsCurrentVersion )
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[aspnet_RegisterSchemaVersion].[@RemoveIncompatibleSchema]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_SchemaVersions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_SchemaVersions].[Feature]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_RegisterSchemaVersion].[@Feature]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_RegisterSchemaVersion].[@IsCurrentVersion]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_SchemaVersions].[IsCurrentVersion]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_SchemaVersions].[CompatibleSchemaVersion]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_RegisterSchemaVersion].[@CompatibleSchemaVersion]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_RegisterSchemaVersion].[@Feature]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_RegisterSchemaVersion].[@CompatibleSchemaVersion]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_RegisterSchemaVersion].[@IsCurrentVersion]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_RegisterSchemaVersion].[@RemoveIncompatibleSchema]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="754" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_RegisterSchemaVersion]&#xA;    @Feature                   nvarchar(128),&#xA;    @CompatibleSchemaVersion   nvarchar(128),&#xA;    @IsCurrentVersion          bit,&#xA;    @RemoveIncompatibleSchema  bit&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[aspnet_Roles]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Roles].[ApplicationId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Roles].[RoleId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="45" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Roles].[RoleName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Roles].[LoweredRoleName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Roles].[Description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="57" />
			<AttachedAnnotation Disambiguator="58" />
			<AttachedAnnotation Disambiguator="31" />
		</Element>
		<Element Type="ISql100Index" Name="[dbo].[aspnet_Roles].[aspnet_Roles_index1]">
			<Property Name="IsClustered" Value="True" />
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_Roles].[ApplicationId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_Roles].[LoweredRoleName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[aspnet_Roles]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Roles_CreateRole]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @ApplicationId uniqueidentifier
    SELECT  @ApplicationId = NULL

    DECLARE @ErrorCode     int
    SET @ErrorCode = 0

    DECLARE @TranStarted   bit
    SET @TranStarted = 0

    IF( @@TRANCOUNT = 0 )
    BEGIN
        BEGIN TRANSACTION
        SET @TranStarted = 1
    END
    ELSE
        SET @TranStarted = 0

    EXEC dbo.aspnet_Applications_CreateApplication @ApplicationName, @ApplicationId OUTPUT

    IF( @@ERROR <> 0 )
    BEGIN
        SET @ErrorCode = -1
        GOTO Cleanup
    END

    IF (EXISTS(SELECT RoleId FROM dbo.aspnet_Roles WHERE LoweredRoleName = LOWER(@RoleName) AND ApplicationId = @ApplicationId))
    BEGIN
        SET @ErrorCode = 1
        GOTO Cleanup
    END

    INSERT INTO dbo.aspnet_Roles
                (ApplicationId, RoleName, LoweredRoleName)
         VALUES (@ApplicationId, @RoleName, LOWER(@RoleName))

    IF( @@ERROR <> 0 )
    BEGIN
        SET @ErrorCode = -1
        GOTO Cleanup
    END

    IF( @TranStarted = 1 )
    BEGIN
        SET @TranStarted = 0
        COMMIT TRANSACTION
    END

    RETURN(0)

Cleanup:

    IF( @TranStarted = 1 )
    BEGIN
        SET @TranStarted = 0
        ROLLBACK TRANSACTION
    END

    RETURN @ErrorCode

END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications_CreateApplication]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles_CreateRole].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[LoweredRoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles_CreateRole].[@RoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[LoweredRoleName]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Roles_CreateRole].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Roles_CreateRole].[@RoleName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1342" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_Roles_CreateRole]&#xA;    @ApplicationName  nvarchar(256),&#xA;    @RoleName         nvarchar(256)&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Roles_DeleteRole]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @ApplicationId uniqueidentifier
    SELECT  @ApplicationId = NULL
    SELECT  @ApplicationId = ApplicationId FROM aspnet_Applications WHERE LOWER(@ApplicationName) = LoweredApplicationName
    IF (@ApplicationId IS NULL)
        RETURN(1)

    DECLARE @ErrorCode     int
    SET @ErrorCode = 0

    DECLARE @TranStarted   bit
    SET @TranStarted = 0

    IF( @@TRANCOUNT = 0 )
    BEGIN
        BEGIN TRANSACTION
        SET @TranStarted = 1
    END
    ELSE
        SET @TranStarted = 0

    DECLARE @RoleId   uniqueidentifier
    SELECT  @RoleId = NULL
    SELECT  @RoleId = RoleId FROM dbo.aspnet_Roles WHERE LoweredRoleName = LOWER(@RoleName) AND ApplicationId = @ApplicationId

    IF (@RoleId IS NULL)
    BEGIN
        SELECT @ErrorCode = 1
        GOTO Cleanup
    END
    IF (@DeleteOnlyIfRoleIsEmpty <> 0)
    BEGIN
        IF (EXISTS (SELECT RoleId FROM dbo.aspnet_UsersInRoles  WHERE @RoleId = RoleId))
        BEGIN
            SELECT @ErrorCode = 2
            GOTO Cleanup
        END
    END


    DELETE FROM dbo.aspnet_UsersInRoles  WHERE @RoleId = RoleId

    IF( @@ERROR <> 0 )
    BEGIN
        SET @ErrorCode = -1
        GOTO Cleanup
    END

    DELETE FROM dbo.aspnet_Roles WHERE @RoleId = RoleId  AND ApplicationId = @ApplicationId

    IF( @@ERROR <> 0 )
    BEGIN
        SET @ErrorCode = -1
        GOTO Cleanup
    END

    IF( @TranStarted = 1 )
    BEGIN
        SET @TranStarted = 0
        COMMIT TRANSACTION
    END

    RETURN(0)

Cleanup:

    IF( @TranStarted = 1 )
    BEGIN
        SET @TranStarted = 0
        ROLLBACK TRANSACTION
    END

    RETURN @ErrorCode
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles_DeleteRole].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[LoweredRoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles_DeleteRole].[@RoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles_DeleteRole].[@DeleteOnlyIfRoleIsEmpty]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[RoleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Roles_DeleteRole].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Roles_DeleteRole].[@RoleName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Roles_DeleteRole].[@DeleteOnlyIfRoleIsEmpty]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1807" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_Roles_DeleteRole]&#xA;    @ApplicationName            nvarchar(256),&#xA;    @RoleName                   nvarchar(256),&#xA;    @DeleteOnlyIfRoleIsEmpty    bit&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Roles_GetAllRoles]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @ApplicationId uniqueidentifier
    SELECT  @ApplicationId = NULL
    SELECT  @ApplicationId = ApplicationId FROM aspnet_Applications WHERE LOWER(@ApplicationName) = LoweredApplicationName
    IF (@ApplicationId IS NULL)
        RETURN
    SELECT RoleName
    FROM   dbo.aspnet_Roles WHERE ApplicationId = @ApplicationId
    ORDER BY RoleName
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles_GetAllRoles].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Roles_GetAllRoles].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="465" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_Roles_GetAllRoles] (&#xA;    @ApplicationName           nvarchar(256))&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Roles_RoleExists]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @ApplicationId uniqueidentifier
    SELECT  @ApplicationId = NULL
    SELECT  @ApplicationId = ApplicationId FROM aspnet_Applications WHERE LOWER(@ApplicationName) = LoweredApplicationName
    IF (@ApplicationId IS NULL)
        RETURN(0)
    IF (EXISTS (SELECT RoleName FROM dbo.aspnet_Roles WHERE LOWER(@RoleName) = LoweredRoleName AND ApplicationId = @ApplicationId ))
        RETURN(1)
    ELSE
        RETURN(0)
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles_RoleExists].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles_RoleExists].[@RoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[LoweredRoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Roles_RoleExists].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Roles_RoleExists].[@RoleName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="563" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_Roles_RoleExists]&#xA;    @ApplicationName  nvarchar(256),&#xA;    @RoleName         nvarchar(256)&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[aspnet_SchemaVersions]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_SchemaVersions].[Feature]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_SchemaVersions].[CompatibleSchemaVersion]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_SchemaVersions].[IsCurrentVersion]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="28" />
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Setup_RemoveAllRoleMembers]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    CREATE TABLE #aspnet_RoleMembers
    (
        Group_name      sysname,
        Group_id        smallint,
        Users_in_group  sysname,
        User_id         smallint
    )

    INSERT INTO #aspnet_RoleMembers
    EXEC sp_helpuser @name

    DECLARE @user_id smallint
    DECLARE @cmd nvarchar(500)
    DECLARE c1 cursor FORWARD_ONLY FOR
        SELECT User_id FROM #aspnet_RoleMembers

    OPEN c1

    FETCH c1 INTO @user_id
    WHILE (@@fetch_status = 0)
    BEGIN
        SET @cmd = 'EXEC sp_droprolemember ' + '''' + @name + ''', ''' + USER_NAME(@user_id) + ''''
        EXEC (@cmd)
        FETCH c1 INTO @user_id
    END

    CLOSE c1
    DEALLOCATE c1
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[smallint]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Setup_RemoveAllRoleMembers].[#aspnet_RoleMembers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Setup_RemoveAllRoleMembers].[@name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Setup_RemoveAllRoleMembers].[#aspnet_RoleMembers].[User_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[aspnet_Setup_RemoveAllRoleMembers].[#aspnet_RoleMembers]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Setup_RemoveAllRoleMembers].[#aspnet_RoleMembers].[Group_name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Setup_RemoveAllRoleMembers].[#aspnet_RoleMembers].[Group_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[smallint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Setup_RemoveAllRoleMembers].[#aspnet_RoleMembers].[Users_in_group]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Setup_RemoveAllRoleMembers].[#aspnet_RoleMembers].[User_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[smallint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Setup_RemoveAllRoleMembers].[@name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="759" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_Setup_RemoveAllRoleMembers]&#xA;    @name   sysname&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Setup_RestorePermissions]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @object sysname
    DECLARE @protectType char(10)
    DECLARE @action varchar(60)
    DECLARE @grantee sysname
    DECLARE @cmd nvarchar(500)
    DECLARE c1 cursor FORWARD_ONLY FOR
        SELECT Object, ProtectType, [Action], Grantee FROM #aspnet_Permissions where Object = @name

    OPEN c1

    FETCH c1 INTO @object, @protectType, @action, @grantee
    WHILE (@@fetch_status = 0)
    BEGIN
        SET @cmd = @protectType + ' ' + @action + ' on ' + @object + ' TO [' + @grantee + ']'
        EXEC (@cmd)
        FETCH c1 INTO @object, @protectType, @action, @grantee
    END

    CLOSE c1
    DEALLOCATE c1
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[char]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[aspnet_Setup_RestorePermissions].[@name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Setup_RestorePermissions].[@name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="713" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_Setup_RestorePermissions]&#xA;    @name   sysname&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_UnRegisterSchemaVersion]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DELETE FROM dbo.aspnet_SchemaVersions
        WHERE   Feature = LOWER(@Feature) AND @CompatibleSchemaVersion = CompatibleSchemaVersion
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[aspnet_SchemaVersions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_SchemaVersions].[Feature]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UnRegisterSchemaVersion].[@Feature]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UnRegisterSchemaVersion].[@CompatibleSchemaVersion]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_SchemaVersions].[CompatibleSchemaVersion]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_UnRegisterSchemaVersion].[@Feature]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_UnRegisterSchemaVersion].[@CompatibleSchemaVersion]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="298" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_UnRegisterSchemaVersion]&#xA;    @Feature                   nvarchar(128),&#xA;    @CompatibleSchemaVersion   nvarchar(128)&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[aspnet_Users]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Users].[ApplicationId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Users].[UserId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="41" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Users].[UserName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Users].[LoweredUserName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Users].[MobileAlias]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="16" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="42" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Users].[IsAnonymous]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="43" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_Users].[LastActivityDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="49" />
			<AttachedAnnotation Disambiguator="50" />
			<AttachedAnnotation Disambiguator="27" />
		</Element>
		<Element Type="ISql100Statistic" Name="[dbo].[aspnet_Users].[_dta_stat_1038626743_1_4_2]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Subject">
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Statistic" Name="[dbo].[aspnet_Users].[_dta_stat_1038626743_2_1]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Subject">
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Statistic" Name="[dbo].[aspnet_Users].[_dta_stat_1038626743_2_4]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
			</Relationship>
			<Relationship Name="Subject">
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Statistic" Name="[dbo].[aspnet_Users].[_dta_stat_1038626743_3_2]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Subject">
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Statistic" Name="[dbo].[aspnet_Users].[_dta_stat_1038626743_6_2]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[aspnet_Users].[IsAnonymous]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Subject">
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Index" Name="[dbo].[aspnet_Users].[aspnet_Users_Index]">
			<Property Name="IsClustered" Value="True" />
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Index" Name="[dbo].[aspnet_Users].[aspnet_Users_Index2]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Users_CreateUser]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    IF( @UserId IS NULL )
        SELECT @UserId = NEWID()
    ELSE
    BEGIN
        IF( EXISTS( SELECT UserId FROM dbo.aspnet_Users
                    WHERE @UserId = UserId ) )
            RETURN -1
    END

    INSERT dbo.aspnet_Users (ApplicationId, UserId, UserName, LoweredUserName, IsAnonymous, LastActivityDate)
    VALUES (@ApplicationId, @UserId, @UserName, LOWER(@UserName), @IsUserAnonymous, @LastActivityDate)

    RETURN 0
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[aspnet_Users_CreateUser].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[IsAnonymous]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users_CreateUser].[@ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users_CreateUser].[@UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users_CreateUser].[@IsUserAnonymous]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users_CreateUser].[@LastActivityDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Users_CreateUser].[@ApplicationId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Users_CreateUser].[@UserName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Users_CreateUser].[@IsUserAnonymous]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Users_CreateUser].[@LastActivityDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Users_CreateUser].[@UserId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="682" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_Users_CreateUser]&#xA;    @ApplicationId    uniqueidentifier,&#xA;    @UserName         nvarchar(256),&#xA;    @IsUserAnonymous  bit,&#xA;    @LastActivityDate DATETIME,&#xA;    @UserId           uniqueidentifier OUTPUT&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_Users_DeleteUser]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @UserId               uniqueidentifier
    SELECT  @UserId               = NULL
    SELECT  @NumTablesDeletedFrom = 0

    DECLARE @TranStarted   bit
    SET @TranStarted = 0

    IF( @@TRANCOUNT = 0 )
    BEGIN
	    BEGIN TRANSACTION
	    SET @TranStarted = 1
    END
    ELSE
	SET @TranStarted = 0

    DECLARE @ErrorCode   int
    DECLARE @RowCount    int

    SET @ErrorCode = 0
    SET @RowCount  = 0

    SELECT  @UserId = u.UserId
    FROM    dbo.aspnet_Users u, dbo.aspnet_Applications a
    WHERE   u.LoweredUserName       = LOWER(@UserName)
        AND u.ApplicationId         = a.ApplicationId
        AND LOWER(@ApplicationName) = a.LoweredApplicationName

    IF (@UserId IS NULL)
    BEGIN
        GOTO Cleanup
    END

    -- Delete from Membership table if (@TablesToDeleteFrom & 1) is set
    IF ((@TablesToDeleteFrom & 1) <> 0 AND
        (EXISTS (SELECT name FROM sysobjects WHERE (name = N'vw_aspnet_MembershipUsers') AND (type = 'V'))))
    BEGIN
        DELETE FROM dbo.aspnet_Membership WHERE @UserId = UserId

        SELECT @ErrorCode = @@ERROR,
               @RowCount = @@ROWCOUNT

        IF( @ErrorCode <> 0 )
            GOTO Cleanup

        IF (@RowCount <> 0)
            SELECT  @NumTablesDeletedFrom = @NumTablesDeletedFrom + 1
    END

    -- Delete from aspnet_UsersInRoles table if (@TablesToDeleteFrom & 2) is set
    IF ((@TablesToDeleteFrom & 2) <> 0  AND
        (EXISTS (SELECT name FROM sysobjects WHERE (name = N'vw_aspnet_UsersInRoles') AND (type = 'V'))) )
    BEGIN
        DELETE FROM dbo.aspnet_UsersInRoles WHERE @UserId = UserId

        SELECT @ErrorCode = @@ERROR,
                @RowCount = @@ROWCOUNT

        IF( @ErrorCode <> 0 )
            GOTO Cleanup

        IF (@RowCount <> 0)
            SELECT  @NumTablesDeletedFrom = @NumTablesDeletedFrom + 1
    END

    -- Delete from aspnet_Profile table if (@TablesToDeleteFrom & 4) is set
    IF ((@TablesToDeleteFrom & 4) <> 0  AND
        (EXISTS (SELECT name FROM sysobjects WHERE (name = N'vw_aspnet_Profiles') AND (type = 'V'))) )
    BEGIN
        DELETE FROM dbo.aspnet_Profile WHERE @UserId = UserId

        SELECT @ErrorCode = @@ERROR,
                @RowCount = @@ROWCOUNT

        IF( @ErrorCode <> 0 )
            GOTO Cleanup

        IF (@RowCount <> 0)
            SELECT  @NumTablesDeletedFrom = @NumTablesDeletedFrom + 1
    END

    -- Delete from aspnet_PersonalizationPerUser table if (@TablesToDeleteFrom & 8) is set
    IF ((@TablesToDeleteFrom & 8) <> 0  AND
        (EXISTS (SELECT name FROM sysobjects WHERE (name = N'vw_aspnet_WebPartState_User') AND (type = 'V'))) )
    BEGIN
        DELETE FROM dbo.aspnet_PersonalizationPerUser WHERE @UserId = UserId

        SELECT @ErrorCode = @@ERROR,
                @RowCount = @@ROWCOUNT

        IF( @ErrorCode <> 0 )
            GOTO Cleanup

        IF (@RowCount <> 0)
            SELECT  @NumTablesDeletedFrom = @NumTablesDeletedFrom + 1
    END

    -- Delete from aspnet_Users table if (@TablesToDeleteFrom & 1,2,4 & 8) are all set
    IF ((@TablesToDeleteFrom & 1) <> 0 AND
        (@TablesToDeleteFrom & 2) <> 0 AND
        (@TablesToDeleteFrom & 4) <> 0 AND
        (@TablesToDeleteFrom & 8) <> 0 AND
        (EXISTS (SELECT UserId FROM dbo.aspnet_Users WHERE @UserId = UserId)))
    BEGIN
        DELETE FROM dbo.aspnet_Users WHERE @UserId = UserId

        SELECT @ErrorCode = @@ERROR,
                @RowCount = @@ROWCOUNT

        IF( @ErrorCode <> 0 )
            GOTO Cleanup

        IF (@RowCount <> 0)
            SELECT  @NumTablesDeletedFrom = @NumTablesDeletedFrom + 1
    END

    IF( @TranStarted = 1 )
    BEGIN
	    SET @TranStarted = 0
	    COMMIT TRANSACTION
    END

    RETURN 0

Cleanup:
    SET @NumTablesDeletedFrom = 0

    IF( @TranStarted = 1 )
    BEGIN
        SET @TranStarted = 0
	    ROLLBACK TRANSACTION
    END

    RETURN @ErrorCode

END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users_DeleteUser].[@NumTablesDeletedFrom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users_DeleteUser].[@UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users_DeleteUser].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users_DeleteUser].[@TablesToDeleteFrom]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Users_DeleteUser].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Users_DeleteUser].[@UserName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Users_DeleteUser].[@TablesToDeleteFrom]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_Users_DeleteUser].[@NumTablesDeletedFrom]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="4074" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_Users_DeleteUser]&#xA;    @ApplicationName  nvarchar(256),&#xA;    @UserName         nvarchar(256),&#xA;    @TablesToDeleteFrom int,&#xA;    @NumTablesDeletedFrom int OUTPUT&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[aspnet_UsersInRoles]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_UsersInRoles].[UserId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_UsersInRoles].[RoleId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="59" />
			<AttachedAnnotation Disambiguator="62" />
			<AttachedAnnotation Disambiguator="63" />
			<AttachedAnnotation Disambiguator="64" />
			<AttachedAnnotation Disambiguator="60" />
			<AttachedAnnotation Disambiguator="61" />
			<AttachedAnnotation Disambiguator="65" />
			<AttachedAnnotation Disambiguator="66" />
			<AttachedAnnotation Disambiguator="32" />
		</Element>
		<Element Type="ISql100Index" Name="[dbo].[aspnet_UsersInRoles].[aspnet_UsersInRoles_index]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[aspnet_UsersInRoles].[RoleId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_UsersInRoles_AddUsersToRoles]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	DECLARE @AppId uniqueidentifier
	SELECT  @AppId = NULL
	SELECT  @AppId = ApplicationId FROM aspnet_Applications WHERE LOWER(@ApplicationName) = LoweredApplicationName
	IF (@AppId IS NULL)
		RETURN(2)
	DECLARE @TranStarted   bit
	SET @TranStarted = 0

	IF( @@TRANCOUNT = 0 )
	BEGIN
		BEGIN TRANSACTION
		SET @TranStarted = 1
	END

	DECLARE @tbNames	table(Name nvarchar(256) NOT NULL PRIMARY KEY)
	DECLARE @tbRoles	table(RoleId uniqueidentifier NOT NULL PRIMARY KEY)
	DECLARE @tbUsers	table(UserId uniqueidentifier NOT NULL PRIMARY KEY)
	DECLARE @Num		int
	DECLARE @Pos		int
	DECLARE @NextPos	int
	DECLARE @Name		nvarchar(256)

	SET @Num = 0
	SET @Pos = 1
	WHILE(@Pos <= LEN(@RoleNames))
	BEGIN
		SELECT @NextPos = CHARINDEX(N',', @RoleNames,  @Pos)
		IF (@NextPos = 0 OR @NextPos IS NULL)
			SELECT @NextPos = LEN(@RoleNames) + 1
		SELECT @Name = RTRIM(LTRIM(SUBSTRING(@RoleNames, @Pos, @NextPos - @Pos)))
		SELECT @Pos = @NextPos+1

		INSERT INTO @tbNames VALUES (@Name)
		SET @Num = @Num + 1
	END

	INSERT INTO @tbRoles
	  SELECT RoleId
	  FROM   dbo.aspnet_Roles ar, @tbNames t
	  WHERE  LOWER(t.Name) = ar.LoweredRoleName AND ar.ApplicationId = @AppId

	IF (@@ROWCOUNT <> @Num)
	BEGIN
		SELECT TOP 1 Name
		FROM   @tbNames
		WHERE  LOWER(Name) NOT IN (SELECT ar.LoweredRoleName FROM dbo.aspnet_Roles ar,  @tbRoles r WHERE r.RoleId = ar.RoleId)
		IF( @TranStarted = 1 )
			ROLLBACK TRANSACTION
		RETURN(2)
	END

	DELETE FROM @tbNames WHERE 1=1
	SET @Num = 0
	SET @Pos = 1

	WHILE(@Pos <= LEN(@UserNames))
	BEGIN
		SELECT @NextPos = CHARINDEX(N',', @UserNames,  @Pos)
		IF (@NextPos = 0 OR @NextPos IS NULL)
			SELECT @NextPos = LEN(@UserNames) + 1
		SELECT @Name = RTRIM(LTRIM(SUBSTRING(@UserNames, @Pos, @NextPos - @Pos)))
		SELECT @Pos = @NextPos+1

		INSERT INTO @tbNames VALUES (@Name)
		SET @Num = @Num + 1
	END

	INSERT INTO @tbUsers
	  SELECT UserId
	  FROM   dbo.aspnet_Users ar, @tbNames t
	  WHERE  LOWER(t.Name) = ar.LoweredUserName AND ar.ApplicationId = @AppId

	IF (@@ROWCOUNT <> @Num)
	BEGIN
		DELETE FROM @tbNames
		WHERE LOWER(Name) IN (SELECT LoweredUserName FROM dbo.aspnet_Users au,  @tbUsers u WHERE au.UserId = u.UserId)

		INSERT dbo.aspnet_Users (ApplicationId, UserId, UserName, LoweredUserName, IsAnonymous, LastActivityDate)
		  SELECT @AppId, NEWID(), Name, LOWER(Name), 0, @CurrentTimeUtc
		  FROM   @tbNames

		INSERT INTO @tbUsers
		  SELECT  UserId
		  FROM	dbo.aspnet_Users au, @tbNames t
		  WHERE   LOWER(t.Name) = au.LoweredUserName AND au.ApplicationId = @AppId
	END

	IF (EXISTS (SELECT * FROM dbo.aspnet_UsersInRoles ur, @tbUsers tu, @tbRoles tr WHERE tu.UserId = ur.UserId AND tr.RoleId = ur.RoleId))
	BEGIN
		SELECT TOP 1 UserName, RoleName
		FROM		 dbo.aspnet_UsersInRoles ur, @tbUsers tu, @tbRoles tr, aspnet_Users u, aspnet_Roles r
		WHERE		u.UserId = tu.UserId AND r.RoleId = tr.RoleId AND tu.UserId = ur.UserId AND tr.RoleId = ur.RoleId

		IF( @TranStarted = 1 )
			ROLLBACK TRANSACTION
		RETURN(3)
	END

	INSERT INTO dbo.aspnet_UsersInRoles (UserId, RoleId)
	SELECT UserId, RoleId
	FROM @tbUsers, @tbRoles

	IF( @TranStarted = 1 )
		COMMIT TRANSACTION
	RETURN(0)
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_AddUsersToRoles].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_AddUsersToRoles].[@RoleNames]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_AddUsersToRoles].[@tbNames].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[LoweredRoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_AddUsersToRoles].[@tbNames].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[LoweredRoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_AddUsersToRoles].[@tbRoles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_AddUsersToRoles].[@UserNames]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_AddUsersToRoles].[@tbNames].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_AddUsersToRoles].[@tbUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[IsAnonymous]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_AddUsersToRoles].[@CurrentTimeUtc]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_AddUsersToRoles].[@tbUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_AddUsersToRoles].[@tbRoles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_AddUsersToRoles].[@tbUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_AddUsersToRoles].[@tbRoles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_AddUsersToRoles].[@tbUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_AddUsersToRoles].[@tbRoles].[RoleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[aspnet_UsersInRoles_AddUsersToRoles].[@tbNames]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_UsersInRoles_AddUsersToRoles].[@tbNames].[Name]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="256" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[aspnet_UsersInRoles_AddUsersToRoles].[@tbRoles]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_UsersInRoles_AddUsersToRoles].[@tbRoles].[RoleId]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[aspnet_UsersInRoles_AddUsersToRoles].[@tbUsers]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_UsersInRoles_AddUsersToRoles].[@tbUsers].[UserId]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_UsersInRoles_AddUsersToRoles].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_UsersInRoles_AddUsersToRoles].[@UserNames]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="4000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_UsersInRoles_AddUsersToRoles].[@RoleNames]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="4000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_UsersInRoles_AddUsersToRoles].[@CurrentTimeUtc]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="3310" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_UsersInRoles_AddUsersToRoles]&#xA;&#x9;@ApplicationName  nvarchar(256),&#xA;&#x9;@UserNames&#x9;&#x9;  nvarchar(4000),&#xA;&#x9;@RoleNames&#x9;&#x9;  nvarchar(4000),&#xA;&#x9;@CurrentTimeUtc   datetime&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_UsersInRoles_FindUsersInRole]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @ApplicationId uniqueidentifier
    SELECT  @ApplicationId = NULL
    SELECT  @ApplicationId = ApplicationId FROM aspnet_Applications WHERE LOWER(@ApplicationName) = LoweredApplicationName
    IF (@ApplicationId IS NULL)
        RETURN(1)
     DECLARE @RoleId uniqueidentifier
     SELECT  @RoleId = NULL

     SELECT  @RoleId = RoleId
     FROM    dbo.aspnet_Roles
     WHERE   LOWER(@RoleName) = LoweredRoleName AND ApplicationId = @ApplicationId

     IF (@RoleId IS NULL)
         RETURN(1)

    SELECT u.UserName
    FROM   dbo.aspnet_Users u, dbo.aspnet_UsersInRoles ur
    WHERE  u.UserId = ur.UserId AND @RoleId = ur.RoleId AND u.ApplicationId = @ApplicationId AND LoweredUserName LIKE LOWER(@UserNameToMatch)
    ORDER BY u.UserName
    RETURN(0)
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_FindUsersInRole].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_FindUsersInRole].[@RoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[LoweredRoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_FindUsersInRole].[@UserNameToMatch]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_UsersInRoles_FindUsersInRole].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_UsersInRoles_FindUsersInRole].[@RoleName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_UsersInRoles_FindUsersInRole].[@UserNameToMatch]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="951" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_UsersInRoles_FindUsersInRole]&#xA;    @ApplicationName  nvarchar(256),&#xA;    @RoleName         nvarchar(256),&#xA;    @UserNameToMatch  nvarchar(256)&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_UsersInRoles_GetRolesForUser]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @ApplicationId uniqueidentifier
    SELECT  @ApplicationId = NULL
    SELECT  @ApplicationId = ApplicationId FROM aspnet_Applications WHERE LOWER(@ApplicationName) = LoweredApplicationName
    IF (@ApplicationId IS NULL)
        RETURN(1)
    DECLARE @UserId uniqueidentifier
    SELECT  @UserId = NULL

    SELECT  @UserId = UserId
    FROM    dbo.aspnet_Users
    WHERE   LoweredUserName = LOWER(@UserName) AND ApplicationId = @ApplicationId

    IF (@UserId IS NULL)
        RETURN(1)

    SELECT r.RoleName
    FROM   dbo.aspnet_Roles r, dbo.aspnet_UsersInRoles ur
    WHERE  r.RoleId = ur.RoleId AND r.ApplicationId = @ApplicationId AND ur.UserId = @UserId
    ORDER BY r.RoleName
    RETURN (0)
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_GetRolesForUser].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_GetRolesForUser].[@UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_UsersInRoles_GetRolesForUser].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_UsersInRoles_GetRolesForUser].[@UserName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="859" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_UsersInRoles_GetRolesForUser]&#xA;    @ApplicationName  nvarchar(256),&#xA;    @UserName         nvarchar(256)&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_UsersInRoles_GetUsersInRoles]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @ApplicationId uniqueidentifier
    SELECT  @ApplicationId = NULL
    SELECT  @ApplicationId = ApplicationId FROM aspnet_Applications WHERE LOWER(@ApplicationName) = LoweredApplicationName
    IF (@ApplicationId IS NULL)
        RETURN(1)
     DECLARE @RoleId uniqueidentifier
     SELECT  @RoleId = NULL

     SELECT  @RoleId = RoleId
     FROM    dbo.aspnet_Roles
     WHERE   LOWER(@RoleName) = LoweredRoleName AND ApplicationId = @ApplicationId

     IF (@RoleId IS NULL)
         RETURN(1)

    SELECT u.UserName
    FROM   dbo.aspnet_Users u, dbo.aspnet_UsersInRoles ur
    WHERE  u.UserId = ur.UserId AND @RoleId = ur.RoleId AND u.ApplicationId = @ApplicationId
    ORDER BY u.UserName
    RETURN(0)
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_GetUsersInRoles].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_GetUsersInRoles].[@RoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[LoweredRoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_UsersInRoles_GetUsersInRoles].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_UsersInRoles_GetUsersInRoles].[@RoleName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="865" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_UsersInRoles_GetUsersInRoles]&#xA;    @ApplicationName  nvarchar(256),&#xA;    @RoleName         nvarchar(256)&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_UsersInRoles_IsUserInRole]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @ApplicationId uniqueidentifier
    SELECT  @ApplicationId = NULL
    SELECT  @ApplicationId = ApplicationId FROM aspnet_Applications WHERE LOWER(@ApplicationName) = LoweredApplicationName
    IF (@ApplicationId IS NULL)
        RETURN(2)
    DECLARE @UserId uniqueidentifier
    SELECT  @UserId = NULL
    DECLARE @RoleId uniqueidentifier
    SELECT  @RoleId = NULL

    SELECT  @UserId = UserId
    FROM    dbo.aspnet_Users
    WHERE   LoweredUserName = LOWER(@UserName) AND ApplicationId = @ApplicationId

    IF (@UserId IS NULL)
        RETURN(2)

    SELECT  @RoleId = RoleId
    FROM    dbo.aspnet_Roles
    WHERE   LoweredRoleName = LOWER(@RoleName) AND ApplicationId = @ApplicationId

    IF (@RoleId IS NULL)
        RETURN(3)

    IF (EXISTS( SELECT * FROM dbo.aspnet_UsersInRoles WHERE  UserId = @UserId AND RoleId = @RoleId))
        RETURN(1)
    ELSE
        RETURN(0)
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_IsUserInRole].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_IsUserInRole].[@UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[LoweredRoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_IsUserInRole].[@RoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[RoleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_UsersInRoles_IsUserInRole].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_UsersInRoles_IsUserInRole].[@UserName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_UsersInRoles_IsUserInRole].[@RoleName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1076" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_UsersInRoles_IsUserInRole]&#xA;    @ApplicationName  nvarchar(256),&#xA;    @UserName         nvarchar(256),&#xA;    @RoleName         nvarchar(256)&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_UsersInRoles_RemoveUsersFromRoles]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	DECLARE @AppId uniqueidentifier
	SELECT  @AppId = NULL
	SELECT  @AppId = ApplicationId FROM aspnet_Applications WHERE LOWER(@ApplicationName) = LoweredApplicationName
	IF (@AppId IS NULL)
		RETURN(2)


	DECLARE @TranStarted   bit
	SET @TranStarted = 0

	IF( @@TRANCOUNT = 0 )
	BEGIN
		BEGIN TRANSACTION
		SET @TranStarted = 1
	END

	DECLARE @tbNames  table(Name nvarchar(256) NOT NULL PRIMARY KEY)
	DECLARE @tbRoles  table(RoleId uniqueidentifier NOT NULL PRIMARY KEY)
	DECLARE @tbUsers  table(UserId uniqueidentifier NOT NULL PRIMARY KEY)
	DECLARE @Num	  int
	DECLARE @Pos	  int
	DECLARE @NextPos  int
	DECLARE @Name	  nvarchar(256)
	DECLARE @CountAll int
	DECLARE @CountU	  int
	DECLARE @CountR	  int


	SET @Num = 0
	SET @Pos = 1
	WHILE(@Pos <= LEN(@RoleNames))
	BEGIN
		SELECT @NextPos = CHARINDEX(N',', @RoleNames,  @Pos)
		IF (@NextPos = 0 OR @NextPos IS NULL)
			SELECT @NextPos = LEN(@RoleNames) + 1
		SELECT @Name = RTRIM(LTRIM(SUBSTRING(@RoleNames, @Pos, @NextPos - @Pos)))
		SELECT @Pos = @NextPos+1

		INSERT INTO @tbNames VALUES (@Name)
		SET @Num = @Num + 1
	END

	INSERT INTO @tbRoles
	  SELECT RoleId
	  FROM   dbo.aspnet_Roles ar, @tbNames t
	  WHERE  LOWER(t.Name) = ar.LoweredRoleName AND ar.ApplicationId = @AppId
	SELECT @CountR = @@ROWCOUNT

	IF (@CountR <> @Num)
	BEGIN
		SELECT TOP 1 N'', Name
		FROM   @tbNames
		WHERE  LOWER(Name) NOT IN (SELECT ar.LoweredRoleName FROM dbo.aspnet_Roles ar,  @tbRoles r WHERE r.RoleId = ar.RoleId)
		IF( @TranStarted = 1 )
			ROLLBACK TRANSACTION
		RETURN(2)
	END


	DELETE FROM @tbNames WHERE 1=1
	SET @Num = 0
	SET @Pos = 1


	WHILE(@Pos <= LEN(@UserNames))
	BEGIN
		SELECT @NextPos = CHARINDEX(N',', @UserNames,  @Pos)
		IF (@NextPos = 0 OR @NextPos IS NULL)
			SELECT @NextPos = LEN(@UserNames) + 1
		SELECT @Name = RTRIM(LTRIM(SUBSTRING(@UserNames, @Pos, @NextPos - @Pos)))
		SELECT @Pos = @NextPos+1

		INSERT INTO @tbNames VALUES (@Name)
		SET @Num = @Num + 1
	END

	INSERT INTO @tbUsers
	  SELECT UserId
	  FROM   dbo.aspnet_Users ar, @tbNames t
	  WHERE  LOWER(t.Name) = ar.LoweredUserName AND ar.ApplicationId = @AppId

	SELECT @CountU = @@ROWCOUNT
	IF (@CountU <> @Num)
	BEGIN
		SELECT TOP 1 Name, N''
		FROM   @tbNames
		WHERE  LOWER(Name) NOT IN (SELECT au.LoweredUserName FROM dbo.aspnet_Users au,  @tbUsers u WHERE u.UserId = au.UserId)

		IF( @TranStarted = 1 )
			ROLLBACK TRANSACTION
		RETURN(1)
	END

	SELECT  @CountAll = COUNT(*)
	FROM	dbo.aspnet_UsersInRoles ur, @tbUsers u, @tbRoles r
	WHERE   ur.UserId = u.UserId AND ur.RoleId = r.RoleId

	IF (@CountAll <> @CountU * @CountR)
	BEGIN
		SELECT TOP 1 UserName, RoleName
		FROM		 @tbUsers tu, @tbRoles tr, dbo.aspnet_Users u, dbo.aspnet_Roles r
		WHERE		 u.UserId = tu.UserId AND r.RoleId = tr.RoleId AND
					 tu.UserId NOT IN (SELECT ur.UserId FROM dbo.aspnet_UsersInRoles ur WHERE ur.RoleId = tr.RoleId) AND
					 tr.RoleId NOT IN (SELECT ur.RoleId FROM dbo.aspnet_UsersInRoles ur WHERE ur.UserId = tu.UserId)
		IF( @TranStarted = 1 )
			ROLLBACK TRANSACTION
		RETURN(3)
	END

	DELETE FROM dbo.aspnet_UsersInRoles
	WHERE UserId IN (SELECT UserId FROM @tbUsers)
	  AND RoleId IN (SELECT RoleId FROM @tbRoles)
	IF( @TranStarted = 1 )
		COMMIT TRANSACTION
	RETURN(0)
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_RemoveUsersFromRoles].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_RemoveUsersFromRoles].[@RoleNames]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_RemoveUsersFromRoles].[@tbNames].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[LoweredRoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_RemoveUsersFromRoles].[@tbNames].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[LoweredRoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_RemoveUsersFromRoles].[@tbRoles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_RemoveUsersFromRoles].[@UserNames]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_RemoveUsersFromRoles].[@tbNames].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_RemoveUsersFromRoles].[@tbUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_RemoveUsersFromRoles].[@tbUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_RemoveUsersFromRoles].[@tbRoles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_RemoveUsersFromRoles].[@tbUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_RemoveUsersFromRoles].[@tbRoles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_RemoveUsersFromRoles].[@tbRoles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_RemoveUsersFromRoles].[@tbUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_RemoveUsersFromRoles].[@tbUsers].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles_RemoveUsersFromRoles].[@tbRoles].[RoleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[aspnet_UsersInRoles_RemoveUsersFromRoles].[@tbNames]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_UsersInRoles_RemoveUsersFromRoles].[@tbNames].[Name]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="256" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[aspnet_UsersInRoles_RemoveUsersFromRoles].[@tbRoles]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_UsersInRoles_RemoveUsersFromRoles].[@tbRoles].[RoleId]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[aspnet_UsersInRoles_RemoveUsersFromRoles].[@tbUsers]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_UsersInRoles_RemoveUsersFromRoles].[@tbUsers].[UserId]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_UsersInRoles_RemoveUsersFromRoles].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_UsersInRoles_RemoveUsersFromRoles].[@UserNames]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="4000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_UsersInRoles_RemoveUsersFromRoles].[@RoleNames]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="4000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="3370" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[aspnet_UsersInRoles_RemoveUsersFromRoles]&#xA;&#x9;@ApplicationName  nvarchar(256),&#xA;&#x9;@UserNames&#x9;&#x9;  nvarchar(4000),&#xA;&#x9;@RoleNames&#x9;&#x9;  nvarchar(4000)&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[aspnet_WebEvent_Events]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_WebEvent_Events].[EventId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="32" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[char]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_WebEvent_Events].[EventTimeUtc]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_WebEvent_Events].[EventTime]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_WebEvent_Events].[EventType]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_WebEvent_Events].[EventSequence]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Precision" Value="19" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_WebEvent_Events].[EventOccurrence]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Precision" Value="19" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_WebEvent_Events].[EventCode]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_WebEvent_Events].[EventDetailCode]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_WebEvent_Events].[Message]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="1024" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_WebEvent_Events].[ApplicationPath]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_WebEvent_Events].[ApplicationVirtualPath]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_WebEvent_Events].[MachineName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_WebEvent_Events].[RequestUrl]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="1024" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_WebEvent_Events].[ExceptionType]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[aspnet_WebEvent_Events].[Details]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[ntext]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="37" />
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[aspnet_WebEvent_LogEvent]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    INSERT
        dbo.aspnet_WebEvent_Events
        (
            EventId,
            EventTimeUtc,
            EventTime,
            EventType,
            EventSequence,
            EventOccurrence,
            EventCode,
            EventDetailCode,
            Message,
            ApplicationPath,
            ApplicationVirtualPath,
            MachineName,
            RequestUrl,
            ExceptionType,
            Details
        )
    VALUES
    (
        @EventId,
        @EventTimeUtc,
        @EventTime,
        @EventType,
        @EventSequence,
        @EventOccurrence,
        @EventCode,
        @EventDetailCode,
        @Message,
        @ApplicationPath,
        @ApplicationVirtualPath,
        @MachineName,
        @RequestUrl,
        @ExceptionType,
        @Details
    )
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_Events]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_Events].[EventId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_Events].[EventTimeUtc]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_Events].[EventTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_Events].[EventType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_Events].[EventSequence]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_Events].[EventOccurrence]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_Events].[EventCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_Events].[EventDetailCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_Events].[Message]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_Events].[ApplicationPath]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_Events].[ApplicationVirtualPath]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_Events].[MachineName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_Events].[RequestUrl]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_Events].[ExceptionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_Events].[Details]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_LogEvent].[@EventId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_LogEvent].[@EventTimeUtc]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_LogEvent].[@EventTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_LogEvent].[@EventType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_LogEvent].[@EventSequence]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_LogEvent].[@EventOccurrence]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_LogEvent].[@EventCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_LogEvent].[@EventDetailCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_LogEvent].[@Message]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_LogEvent].[@ApplicationPath]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_LogEvent].[@ApplicationVirtualPath]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_LogEvent].[@MachineName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_LogEvent].[@RequestUrl]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_LogEvent].[@ExceptionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_WebEvent_LogEvent].[@Details]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_WebEvent_LogEvent].[@EventId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="32" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[char]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_WebEvent_LogEvent].[@EventTimeUtc]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_WebEvent_LogEvent].[@EventTime]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_WebEvent_LogEvent].[@EventType]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_WebEvent_LogEvent].[@EventSequence]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Precision" Value="19" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_WebEvent_LogEvent].[@EventOccurrence]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Precision" Value="19" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_WebEvent_LogEvent].[@EventCode]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_WebEvent_LogEvent].[@EventDetailCode]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_WebEvent_LogEvent].[@Message]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="1024" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_WebEvent_LogEvent].[@ApplicationPath]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_WebEvent_LogEvent].[@ApplicationVirtualPath]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_WebEvent_LogEvent].[@MachineName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_WebEvent_LogEvent].[@RequestUrl]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="1024" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_WebEvent_LogEvent].[@ExceptionType]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[aspnet_WebEvent_LogEvent].[@Details]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[ntext]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1487" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.aspnet_WebEvent_LogEvent&#xD;&#xA;        @EventId         char(32),&#xD;&#xA;        @EventTimeUtc    datetime,&#xD;&#xA;        @EventTime       datetime,&#xD;&#xA;        @EventType       nvarchar(256),&#xD;&#xA;        @EventSequence   decimal(19,0),&#xD;&#xA;        @EventOccurrence decimal(19,0),&#xD;&#xA;        @EventCode       int,&#xD;&#xA;        @EventDetailCode int,&#xD;&#xA;        @Message         nvarchar(1024),&#xD;&#xA;        @ApplicationPath nvarchar(256),&#xD;&#xA;        @ApplicationVirtualPath nvarchar(256),&#xD;&#xA;        @MachineName    nvarchar(256),&#xD;&#xA;        @RequestUrl      nvarchar(1024),&#xD;&#xA;        @ExceptionType   nvarchar(256),&#xD;&#xA;        @Details         ntext&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[BilledTime]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[BilledTime].[PersonId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[BilledTime].[MilestoneId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[BilledTime].[BilledTimeId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[BilledTime].[BilledDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[BilledTime].[Hours]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[CalculateMilestonePersonFinancials]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
	SET NOCOUNT ON;
	
	declare @milestoneId int
	declare @projectDiscount decimal(18, 2)
	declare @personId int
	declare @grossHourlyBillRate  decimal(18, 2)
	declare @loadedHourlyPayRate  decimal(18, 2)

	select top 1 @milestoneId = mp.MilestoneId, @projectDiscount = mp.Discount, @personId = mp.PersonId
	from v_MilestonePerson as mp
	where mp.MilestonePersonId = @MilestonePersonId


	;WITH MilestonePersonBasicFinancials AS (
	SELECT f.EntryStartDate,
		   SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) AS RevenueNet,
		   ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0) AS Cogs,
		   ISNULL(SUM(f.PersonHoursPerDay), 0) AS BilledHours       
	  FROM dbo.v_FinancialsRetrospective AS f
	  LEFT JOIN dbo.v_MilestonePersonVacations AS vac ON f.MilestoneId = vac.MilestoneId AND f.PersonId = vac.PersonId AND vac.StartDate = f.EntryStartDate
	 WHERE f.MilestoneId = @MilestoneId AND f.PersonId = @PersonId
	GROUP BY f.EntryStartDate
	)
	select
		@grossHourlyBillRate = 
			SUM(
				case 
				when BilledHours > 0 
					then RevenueNet / BilledHours
					else 0
				end
			),
		@loadedHourlyPayRate = 
			SUM(
				case 
				when BilledHours > 0 
					then Cogs / BilledHours
					else 0
				end
			)
	from MilestonePersonBasicFinancials
	
    -- Insert statements for procedure here
	SELECT 
		dbo.GetMilestonePersonHoursInPeriod(@MilestonePersonId) as HoursInPeriod, 
		@projectDiscount as ProjectDiscount,
		@grossHourlyBillRate as GrossHourlyBillRate,
		@loadedHourlyPayRate LoadedHourlyPayRate
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[decimal]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[decimal]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[decimal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CalculateMilestonePersonFinancials].[@MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonVacations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonVacations].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonVacations].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonVacations].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[EntryStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonMilestoneDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonDiscountDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PayRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[OverheadRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonHoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetMilestonePersonHoursInPeriod]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[CalculateMilestonePersonFinancials].[CTE1].[MilestonePersonBasicFinancials]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[CalculateMilestonePersonFinancials].[CTE1].[MilestonePersonBasicFinancials].[EntryStartDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_FinancialsRetrospective].[EntryStartDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[CalculateMilestonePersonFinancials].[CTE1].[MilestonePersonBasicFinancials].[RevenueNet]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[CalculateMilestonePersonFinancials].[CTE1].[MilestonePersonBasicFinancials].[Cogs]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[CalculateMilestonePersonFinancials].[CTE1].[MilestonePersonBasicFinancials].[BilledHours]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CalculateMilestonePersonFinancials].[@MilestonePersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="178" />
				<Property Name="Length" Value="2028" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-08-04&#xD;&#xA;-- Description:&#x9;&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE CalculateMilestonePersonFinancials &#xD;&#xA;&#x9;-- Add the parameters for the stored procedure here&#xD;&#xA;&#x9;@MilestonePersonId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[Calendar]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Calendar].[Date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Calendar].[DayOff]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[CalendarGet]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	
	SELECT cal.Date, cal.DayOff, CAST(NULL AS INT) AS PersonId,
	       cal.DayOff AS CompanyDayOff,
	       CAST(0 AS BIT) AS [ReadOnly]
	  FROM dbo.Calendar AS cal
	 WHERE cal.Date BETWEEN @StartDate AND @EndDate
	   AND @PersonId IS NULL
	   AND @PracticeManagerId IS NULL
	UNION ALL
	SELECT cal.Date, ISNULL(pcal.DayOff, cal.DayOff) AS DayOff, @PersonId AS PersonId,
	       ISNULL(pcal.CompanyDayOff, cal.DayOff) AS CompanyDayOff,
	       CAST(CASE WHEN pcal.Date IS NULL THEN 1 ELSE 0 END AS BIT) AS [ReadOnly]
	  FROM dbo.Calendar AS cal
	       LEFT JOIN dbo.v_PersonCalendar AS pcal ON cal.Date = pcal.Date AND pcal.PersonId = @PersonId
	 WHERE cal.Date BETWEEN @StartDate AND @EndDate
	   AND @PersonId IS NOT NULL
	   AND @PracticeManagerId IS NULL
	UNION ALL
	SELECT cal.Date, ISNULL(pcal.DayOff, cal.DayOff) AS DayOff, @PersonId AS PersonId,
	       ISNULL(pcal.CompanyDayOff, cal.DayOff) AS CompanyDayOff,
	       CAST(CASE WHEN pcal.Date IS NULL OR pcal.Date < GETDATE() THEN 1 ELSE 0 END AS BIT) AS [ReadOnly]
	  FROM dbo.Calendar AS cal
	       LEFT JOIN dbo.v_PersonCalendar AS pcal ON cal.Date = pcal.Date AND pcal.PersonId = @PersonId
	       INNER JOIN dbo.Person AS p ON p.PersonId = @PersonId
	 WHERE cal.Date BETWEEN @StartDate AND @EndDate
	   AND @PersonId IS NOT NULL /*AND @PracticeManagerId IS NOT NULL*/
	   AND p.DefaultPractice <> 4 /* Administration */
	   AND @PracticeManagerId IS NOT NULL
	ORDER BY cal.Date]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Calendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[DayOff]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[DayOff]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CalendarGet].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CalendarGet].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CalendarGet].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CalendarGet].[@PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[DayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[DayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[CompanyDayOff]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[DayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[DayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[CompanyDayOff]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[DefaultPractice]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CalendarGet].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CalendarGet].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CalendarGet].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CalendarGet].[@PracticeManagerId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="277" />
				<Property Name="Length" Value="1933" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 6-5-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update Date:&#x9;11-20-2008&#xD;&#xA;-- Description:&#x9;Lists the days within the specified period&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[CalendarGet]&#xD;&#xA;(&#xD;&#xA;&#x9;@StartDate           DATETIME,&#xD;&#xA;&#x9;@EndDate             DATETIME,&#xD;&#xA;&#x9;@PersonId            INT,&#xD;&#xA;&#x9;@PracticeManagerId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[CalendarUpdate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	
	IF @PersonId IS NULL
	BEGIN
		-- Update the company calendar
		UPDATE dbo.Calendar
		   SET DayOff = @DayOff
		 WHERE Date = @Date
	END
	ELSE IF EXISTS (SELECT 1
	                  FROM dbo.Calendar AS cal
	                 WHERE cal.Date = @Date AND cal.DayOff = @DayOff)
	BEGIN
		-- Clear the person record
		DELETE
		  FROM dbo.PersonCalendar
		 WHERE Date = @Date AND PersonId = @PersonId
	END
	ELSE IF EXISTS (SELECT 1
	                  FROM dbo.PersonCalendar AS pcal
	                 WHERE pcal.Date = @Date AND pcal.PersonId = @PersonId)
	BEGIN
		-- Update an existing person record
		UPDATE dbo.PersonCalendar
		   SET DayOff = @DayOff
		 WHERE Date = @Date AND PersonId = @PersonId
	END
	ELSE
	BEGIN
		-- A person record does not exist - create it
		INSERT INTO dbo.PersonCalendar
		            (Date, PersonId, DayOff)
		     VALUES (@Date, @PersonId, @DayOff)
	END

	UPDATE ca
	   SET DayOff = pc.DayOff
	  FROM dbo.PersonCalendarAuto AS ca
	       INNER JOIN dbo.v_PersonCalendar AS pc ON ca.date = pc.Date AND ca.PersonId = pc.PersonId
	 WHERE ca.Date = @Date
	   AND (@PersonId IS NULL OR ca.PersonId = @PersonId)]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[CalendarUpdate].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[DayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CalendarUpdate].[@DayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CalendarUpdate].[@Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[DayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendar].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendar].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendar].[DayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[DayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[DayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[Date]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CalendarUpdate].[@Date]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CalendarUpdate].[@DayOff]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CalendarUpdate].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="257" />
				<Property Name="Length" Value="1558" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 6-5-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;8-12-2008&#xD;&#xA;-- Description:&#x9;Updates a calendar item&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[CalendarUpdate]&#xD;&#xA;(&#xD;&#xA;&#x9;@Date       DATETIME,&#xD;&#xA;&#x9;@DayOff     BIT,&#xD;&#xA;&#x9;@PersonId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90CheckConstraint" Name="[dbo].[CK_DefaultRecruiterCommissionHeader_Period]">
			<Property Name="CheckExpressionScript">
				<Value><![CDATA[[EndDate]>[StartDate]]]></Value>
			</Property>
			<Relationship Name="CheckExpressionDependencies">
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[StartDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90CheckConstraint" Name="[dbo].[CK_MilestonePersonEntry_HoursPerDay]">
			<Property Name="CheckExpressionScript">
				<Value><![CDATA[[HoursPerDay]>=(0)]]></Value>
			</Property>
			<Relationship Name="CheckExpressionDependencies">
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[HoursPerDay]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90CheckConstraint" Name="[dbo].[CK_Opportunity_ProjectedEndDate]">
			<Property Name="CheckExpressionScript">
				<Value><![CDATA[[ProjectedEndDate]>=[ProjectedStartDate] OR [ProjectedEndDate] IS NULL]]></Value>
			</Property>
			<Relationship Name="CheckExpressionDependencies">
				<Entry>
					<References Name="[dbo].[Opportunity].[ProjectedEndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[ProjectedStartDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Opportunity]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90CheckConstraint" Name="[dbo].[CK_Pay_DateRange]">
			<Property Name="CheckExpressionScript">
				<Value><![CDATA[[StartDate]<[EndDate]]]></Value>
			</Property>
			<Relationship Name="CheckExpressionDependencies">
				<Entry>
					<References Name="[dbo].[Pay].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[EndDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Pay]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90CheckConstraint" Name="[dbo].[CK_Project_StartEndDate]">
			<Property Name="CheckExpressionScript">
				<Value><![CDATA[[EndDate]>=[StartDate]]]></Value>
			</Property>
			<Relationship Name="CheckExpressionDependencies">
				<Entry>
					<References Name="[dbo].[Project].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[StartDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[Client]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Client].[ClientId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Client].[DefaultDiscount]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Client].[DefaultTerms]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Client].[DefaultSalespersonID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Client].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Client].[Inactive]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Client].[IsChargeable]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ClientGetById]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT c.ClientId,
	       c.DefaultDiscount,
	       c.DefaultTerms,
	       c.DefaultSalespersonID,
	       c.Name,
	       c.Inactive,
	       c.IsChargeable
	  FROM dbo.Client AS c
	 WHERE c.ClientId = @ClientId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[DefaultDiscount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[DefaultTerms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[DefaultSalespersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[Inactive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ClientGetById].[@ClientId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ClientGetById].[@ClientId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="206" />
				<Property Name="Length" Value="511" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--The source is &#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-21-2008&#xD;&#xA;-- Description:&#x9;Gets a person&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.ClientGetById&#xD;&#xA;(&#xD;&#xA;&#x9;@ClientId&#x9;INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ClientInactivate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;

	Update Client
		Set Inactive = 1
		Where ClientId = @ClientID
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[Inactive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ClientInactivate].[@ClientID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ClientInactivate].[@ClientID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="193" />
				<Property Name="Length" Value="407" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Skip Sailors&#xD;&#xA;-- Create date: 4-22-1008&#xD;&#xA;-- Description:&#x9;Mark a client inactive&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[ClientInactivate] &#xD;&#xA;&#x9;-- Add the parameters for the stored procedure here&#xD;&#xA;&#x9;@ClientID int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ClientInsert]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	IF EXISTS (SELECT 1 FROM dbo.Client AS c WHERE c.Name = @Name)
	BEGIN
		RAISERROR (70004, 16, 1)
	END
	ELSE
	BEGIN
		INSERT INTO Client
					(DefaultDiscount, DefaultTerms, DefaultSalespersonId, Name, Inactive, IsChargeable)
			 VALUES (@DefaultDiscount, @DefaultTerms, @DefaultSalespersonId, @Name, @Inactive, @IsChargeable)

		SELECT @clientId = SCOPE_IDENTITY()

		SELECT @clientId
	END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ClientInsert].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[DefaultDiscount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[DefaultTerms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[DefaultSalespersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[Inactive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ClientInsert].[@DefaultDiscount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ClientInsert].[@DefaultTerms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ClientInsert].[@DefaultSalespersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ClientInsert].[@Inactive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ClientInsert].[@IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ClientInsert].[@ClientId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ClientInsert].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ClientInsert].[@DefaultDiscount]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ClientInsert].[@DefaultSalespersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ClientInsert].[@Inactive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ClientInsert].[@IsChargeable]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ClientInsert].[@DefaultTerms]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ClientInsert].[@ClientId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="294" />
				<Property Name="Length" Value="990" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Skip Sailors&#xD;&#xA;-- Create date: 4-22-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date: 8-22-2008&#xD;&#xA;-- Description:&#x9;Insert a new Client, output and select ID of new client record.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.ClientInsert&#xD;&#xA;(&#xD;&#xA;&#x9;@Name                 NVARCHAR(50),&#xD;&#xA;&#x9;@DefaultDiscount      DECIMAL(18,2),&#xD;&#xA;&#x9;@DefaultSalespersonId INT, &#xD;&#xA;&#x9;@Inactive             BIT,&#xD;&#xA;&#x9;@IsChargeable         BIT,&#xD;&#xA;&#x9;@DefaultTerms         INT,&#xD;&#xA;&#x9;@ClientId             INT OUTPUT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ClientListAll]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;
	
	DECLARE @SalespersonPermissions TABLE(
		PersonId INT NULL
	)
	-- Populate is with the data from the permissions table
	--		TargetType = 1 means that we are looking for the clients in the permissions table
	INSERT INTO @SalespersonPermissions (
		PersonId
	) SELECT prm.TargetId FROM dbo.Permission AS prm WHERE prm.PersonId = @PersonId AND prm.TargetType = 1
	
	-- If there are nulls in permission table, it means that eveything is allowed to be seen,
	--		so set @PersonId to NULL which will extract all records from the table
	DECLARE @NullsNumber INT
	SELECT @NullsNumber = COUNT(*) FROM @SalespersonPermissions AS sp WHERE sp.PersonId IS NULL 	
	IF @NullsNumber > 0 SET @PersonId = NULL

	If @ShowAll = 0
	begin
		Select 
				c.ClientId
				, c.DefaultDiscount
				, c.DefaultTerms
				, c.DefaultSalespersonId
				, c.[Name]
				, c.Inactive
				, c.IsChargeable
			from Client AS c
			where Inactive = 0
				AND (
					@PersonId IS NULL 
					OR  
					ClientId IN (SELECT TargetId FROM dbo.Permission AS p WHERE p.PersonId = @PersonId AND p.TargetType = 1)
				)
			ORDER BY c.[Name]
	end
	else
	begin
		Select 
				ClientId
				, DefaultDiscount
				, DefaultTerms
				, DefaultSalespersonId
				, [Name]
				, Inactive
				, IsChargeable
			from Client
			WHERE (
				@PersonId IS NULL 
				OR  
				ClientId IN (SELECT TargetId FROM dbo.Permission AS p WHERE p.PersonId = @PersonId AND p.TargetType = 1)
			)
			ORDER BY [Name]
	end
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ClientListAll].[@SalespersonPermissions].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ClientListAll].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ClientListAll].[@SalespersonPermissions].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ClientListAll].[@ShowAll]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[DefaultDiscount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[DefaultTerms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[DefaultSalespersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[Inactive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[Inactive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[DefaultDiscount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[DefaultTerms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[DefaultSalespersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[IsChargeable]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[ClientListAll].[@SalespersonPermissions]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[ClientListAll].[@SalespersonPermissions].[PersonId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ClientListAll].[@ShowAll]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ClientListAll].[@PersonId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1611" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.ClientListAll&#xD;&#xA;&#x9;@ShowAll BIT = 0,&#xD;&#xA;&#x9;@PersonId INT = NULL&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ClientListAllForProject]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT c.ClientId, c.DefaultDiscount, c.DefaultTerms, c.DefaultSalespersonId, c.[Name], c.Inactive, c.IsChargeable
	FROM dbo.Client AS c
	WHERE c.Inactive = 0 
	    OR EXISTS (SELECT 1 FROM dbo.Project AS p WHERE (p.ClientId = c.ClientId AND p.ProjectId = @ProjectId) 
														OR @ProjectId IS NULL)
	ORDER BY c.[Name]]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[DefaultDiscount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[DefaultTerms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[DefaultSalespersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[Inactive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ClientListAllForProject].[@ProjectId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ClientListAllForProject].[@ProjectId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="258" />
				<Property Name="Length" Value="680" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 10-21-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;List clients available for the specific project&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.ClientListAllForProject&#xD;&#xA;(&#xD;&#xA;&#x9;@ProjectId INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ClientReactivate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;

	Update Client
		Set Inactive = 0
		Where ClientId = @ClientID
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[Inactive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ClientReactivate].[@ClientID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ClientReactivate].[@ClientID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="191" />
				<Property Name="Length" Value="351" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Skip Sailors&#xD;&#xA;-- Create date: 4-22-2008&#xD;&#xA;-- Description:&#x9;Mark a client active&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[ClientReactivate] &#xD;&#xA;&#x9;@ClientID int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ClientUpdate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON;

	IF EXISTS (SELECT 1 FROM dbo.Client AS c WHERE c.Name = @Name AND c.ClientId <> @ClientId)
	BEGIN
		RAISERROR (70004, 16, 1)
	END
	ELSE
	BEGIN
		UPDATE dbo.Client
		   SET DefaultDiscount = @DefaultDiscount,
			   DefaultTerms = @DefaultTerms,
			   DefaultSalespersonID = @DefaultSalespersonID,
			   Name = @Name,
			   Inactive = @Inactive,
			   IsChargeable = @IsChargeable
		 WHERE ClientId = @ClientId
	END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ClientUpdate].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ClientUpdate].[@ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[DefaultDiscount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ClientUpdate].[@DefaultDiscount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[DefaultTerms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ClientUpdate].[@DefaultTerms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[DefaultSalespersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ClientUpdate].[@DefaultSalespersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[Inactive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ClientUpdate].[@Inactive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ClientUpdate].[@IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ClientUpdate].[@ClientId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ClientUpdate].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ClientUpdate].[@DefaultDiscount]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ClientUpdate].[@DefaultSalespersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ClientUpdate].[@IsChargeable]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ClientUpdate].[@Inactive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ClientUpdate].[@DefaultTerms]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="714" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.ClientUpdate&#xD;&#xA;(&#xD;&#xA;&#x9;@ClientId             INT,&#xD;&#xA;&#x9;@Name                 NVARCHAR(50),&#xD;&#xA;&#x9;@DefaultDiscount      DECIMAL(18,2),&#xD;&#xA;&#x9;@DefaultSalespersonId INT,&#xD;&#xA;&#x9;@IsChargeable         BIT,&#xD;&#xA;&#x9;@Inactive             BIT,&#xD;&#xA;&#x9;@DefaultTerms         INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[CloneProject]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
    BEGIN
        SET NOCOUNT ON ;

        BEGIN TRANSACTION

		-- Generating Project Number
        DECLARE @ProjectNumber NVARCHAR(12)
        EXEC dbo.GenerateNewProjectNumber @ProjectNumber OUTPUT ;

        INSERT  INTO dbo.Project
                (
                  ClientId,
                  Discount,
                  Terms,
                  [Name],
                  PracticeId,
                  StartDate,
                  EndDate,
                  ProjectStatusId,
                  ProjectNumber,
                  BuyerName,
                  OpportunityId,
                  GroupId,
                  IsChargeable,
                  ProjectManagerId
                )
                SELECT  ClientId,
                        Discount,
                        Terms,
                        SUBSTRING([Name] + ' (cloned)', 0, 100),
                        PracticeId,
                        NULL, --StartDate ,
                        NULL, --EndDate ,
                        @ProjectStatusId,
                        @ProjectNumber,
                        BuyerName,
                        OpportunityId,
                        GroupId,
                        IsChargeable,
                        ProjectManagerId
                FROM    dbo.Project AS p
                WHERE   p.ProjectId = @projectId
                
        SET @ClonedProjectId = SCOPE_IDENTITY()
          
        IF @CloneNotes = 1
        BEGIN
			exec dbo.NotesClone @OldTargetId = @ProjectId, @NewTargetId = @ClonedProjectId
        END
                
        IF @CloneBillingInfo = 1
            AND EXISTS ( SELECT 1
                         FROM   dbo.ProjectBillingInfo
                         WHERE  ProjectId = @ProjectId ) 
            BEGIN
                DECLARE @BillingContact NVARCHAR(100)
                DECLARE @BillingPhone NVARCHAR(25)
                DECLARE @BillingEmail NVARCHAR(100)
                DECLARE @BillingType NVARCHAR(25)
                DECLARE @BillingAddress1 NVARCHAR(100)
                DECLARE @BillingAddress2 NVARCHAR(100)
                DECLARE @BillingCity NVARCHAR(50)
                DECLARE @BillingState NVARCHAR(50)
                DECLARE @BillingZip NVARCHAR(10)
                DECLARE @PurchaseOrder NVARCHAR(25)
	
                SELECT  @BillingContact = BillingContact,
                        @BillingPhone = BillingPhone,
                        @BillingEmail = BillingEmail,
                        @BillingType = BillingType,
                        @BillingAddress1 = BillingAddress1,
                        @BillingAddress2 = BillingAddress2,
                        @BillingCity = BillingCity,
                        @BillingState = BillingState,
                        @BillingZip = BillingZip,
                        @PurchaseOrder = PurchaseOrder
                FROM    dbo.ProjectBillingInfo
                WHERE   ProjectId = @ProjectId
                
                EXEC dbo.ProjectBillingInfoSave @ProjectId = @ClonedProjectId, -- int
                    @BillingContact = @BillingContact, -- nvarchar(100)
                    @BillingPhone = @BillingPhone, -- nvarchar(25)
                    @BillingEmail = @BillingEmail, -- nvarchar(100)
                    @BillingType = @BillingType, -- nvarchar(25)
                    @BillingAddress1 = @BillingAddress1, -- nvarchar(100)
                    @BillingAddress2 = @BillingAddress2, -- nvarchar(100)
                    @BillingCity = @BillingCity, -- nvarchar(50)
                    @BillingState = @BillingState, -- nvarchar(50)
                    @BillingZip = @BillingZip, -- nvarchar(10)
                    @PurchaseOrder = @PurchaseOrder -- nvarchar(25)
                
            END            
               
        IF @CloneMilestones = 1 
            BEGIN

                DECLARE projectMilestone CURSOR
                    FOR SELECT  MilestoneId
                        FROM    dbo.Milestone
                        WHERE   ProjectId = @projectId

                DECLARE @origMilestoneId INT 

                OPEN projectMilestone  
                FETCH NEXT FROM projectMilestone INTO @origMilestoneId  

                WHILE @@FETCH_STATUS = 0 
                    BEGIN  
                        PRINT @origMilestoneId
                        PRINT @ClonedProjectId
    
                        EXECUTE dbo.MilestoneClone @MilestoneId = @origMilestoneId,
                            @CloneDuration = 0, @MilestoneCloneId = 0,
                            @ProjectId = @ClonedProjectId

                        FETCH NEXT FROM projectMilestone INTO @origMilestoneId  
                    END  

                CLOSE projectMilestone  
                DEALLOCATE projectMilestone
            END 
            
        IF @CloneCommissions = 1
            AND EXISTS ( SELECT 1
                         FROM   dbo.Commission
                         WHERE  ProjectId = @ProjectId ) 
            BEGIN
         	
                INSERT  INTO dbo.Commission
                        (
                          ProjectId,
                          PersonId,
                          FractionOfMargin,
                          CommissionType,
                          ExpectedDatePaid,
                          ActualDatePaid,
                          MarginTypeId
         		        
                        )
                        SELECT  @ClonedProjectId,
                                PersonId,
                                FractionOfMargin,
                                CommissionType,
                                ExpectedDatePaid,
                                ActualDatePaid,
                                MarginTypeId
                        FROM    dbo.Commission
                        WHERE   ProjectId = @ProjectId
         	
            END

        COMMIT

    END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GenerateNewProjectNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CloneProject].[@ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CloneProject].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CloneProject].[@ClonedProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CloneProject].[@CloneNotes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NotesClone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NotesClone].[@OldTargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CloneProject].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NotesClone].[@NewTargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CloneProject].[@CloneBillingInfo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[BillingContact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[BillingPhone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[BillingEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[BillingType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[BillingAddress1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[BillingAddress2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[BillingCity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[BillingState]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[BillingZip]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[PurchaseOrder]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfoSave]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfoSave].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfoSave].[@BillingContact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfoSave].[@BillingPhone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfoSave].[@BillingEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfoSave].[@BillingType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfoSave].[@BillingAddress1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfoSave].[@BillingAddress2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfoSave].[@BillingCity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfoSave].[@BillingState]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfoSave].[@BillingZip]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfoSave].[@PurchaseOrder]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CloneProject].[@CloneMilestones]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneClone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneClone].[@MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneClone].[@CloneDuration]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneClone].[@MilestoneCloneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneClone].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CloneProject].[@CloneCommissions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[FractionOfMargin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[CommissionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[ExpectedDatePaid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[ActualDatePaid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[MarginTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CloneProject].[@ProjectId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CloneProject].[@ProjectStatusId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CloneProject].[@CloneMilestones]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CloneProject].[@CloneBillingInfo]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CloneProject].[@CloneNotes]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CloneProject].[@CloneCommissions]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CloneProject].[@ClonedProjectId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="202" />
				<Property Name="Length" Value="6467" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-03-27&#xD;&#xA;-- Description:&#x9;Clones project specified&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[CloneProject]&#xD;&#xA;    @ProjectId INT,&#xD;&#xA;&#x9;@ProjectStatusId INT,&#xD;&#xA;    @CloneMilestones BIT = 1,&#xD;&#xA;    @CloneBillingInfo BIT = 1,&#xD;&#xA;    @CloneNotes BIT = 1,&#xD;&#xA;    @CloneCommissions BIT = 1,&#xD;&#xA;    @ClonedProjectId INT OUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[Commission]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Commission].[ProjectId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Commission].[PersonId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Commission].[CommissionId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Commission].[FractionOfMargin]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Commission].[CommissionType]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Commission].[ExpectedDatePaid]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Commission].[ActualDatePaid]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Commission].[MarginTypeId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[CommissionGetByProjectType]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT c.ProjectId,
	       c.PersonId,
	       c.CommissionId,
	       c.FractionOfMargin,
	       c.CommissionType,
	       c.ExpectedDatePaid,
	       c.ActualDatePaid,
	       c.MarginTypeId
	  FROM dbo.Commission AS c
	 WHERE c.ProjectId = @ProjectId
	   AND c.CommissionType = @CommissionType]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[CommissionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[FractionOfMargin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[CommissionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[ExpectedDatePaid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[ActualDatePaid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[MarginTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommissionGetByProjectType].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommissionGetByProjectType].[@CommissionType]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CommissionGetByProjectType].[@ProjectId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CommissionGetByProjectType].[@CommissionType]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="242" />
				<Property Name="Length" Value="682" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--The source is &#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 6-2-2008&#xD;&#xA;-- Description:&#x9;Gets a person's commision for the specific project&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[CommissionGetByProjectType]&#xD;&#xA;(&#xD;&#xA;&#x9;@ProjectId        INT,&#xD;&#xA;&#x9;@CommissionType   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[CommissionSet]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	
	if @CommissionId IS NULL AND @PersonId IS NOT NULL
	BEGIN
		-- Add a new record
		INSERT INTO dbo.Commission
		            (ProjectId, PersonId, FractionOfMargin, CommissionType,
		             ExpectedDatePaid, ActualDatePaid, MarginTypeId)
		     VALUES (@ProjectId, @PersonId, @FractionOfMargin, @CommissionType,
		             @ExpectedDatePaid, @ActualDatePaid, @MarginTypeId)
	END
	ELSE IF @PersonId IS NOT NULL
	BEGIN
		-- Change an existing record
		UPDATE dbo.Commission
		   SET PersonId = @PersonId,
			   FractionOfMargin = @FractionOfMargin,
			   ExpectedDatePaid = @ExpectedDatePaid,
			   ActualDatePaid = @ActualDatePaid,
			   MarginTypeId = @MarginTypeId
		 WHERE CommissionId = @CommissionId
	END
	ELSE
	BEGIN
		-- @PersonId IS NULL
		-- Delete an existing record
		DELETE
		  FROM dbo.Commission
		 WHERE CommissionId = @CommissionId
	END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[CommissionSet].[@CommissionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommissionSet].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[FractionOfMargin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[CommissionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[ExpectedDatePaid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[ActualDatePaid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[MarginTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommissionSet].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommissionSet].[@FractionOfMargin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommissionSet].[@CommissionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommissionSet].[@ExpectedDatePaid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommissionSet].[@ActualDatePaid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommissionSet].[@MarginTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[CommissionId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CommissionSet].[@CommissionId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CommissionSet].[@ProjectId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CommissionSet].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CommissionSet].[@FractionOfMargin]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CommissionSet].[@CommissionType]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CommissionSet].[@ExpectedDatePaid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CommissionSet].[@ActualDatePaid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CommissionSet].[@MarginTypeId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="284" />
				<Property Name="Length" Value="1476" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 6-2-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;9-01-2008&#xD;&#xA;-- Description:&#x9;Sets a person's commision for the specific project&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[CommissionSet]&#xD;&#xA;(&#xD;&#xA;&#x9;@CommissionId       INT,&#xD;&#xA;&#x9;@ProjectId          INT,&#xD;&#xA;&#x9;@PersonId           INT,&#xD;&#xA;&#x9;@FractionOfMargin   DECIMAL(18,2),&#xD;&#xA;&#x9;@CommissionType     INT,&#xD;&#xA;&#x9;@ExpectedDatePaid   DATETIME,&#xD;&#xA;&#x9;@ActualDatePaid     DATETIME,&#xD;&#xA;&#x9;@MarginTypeId       INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[CommissionType]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[CommissionType].[CommissionTypeId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[CommissionType].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[CompensationCoversMilestone]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CompensationCoversMilestone].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CompensationCoversMilestone].[@mile_start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CompensationCoversMilestone].[@mile_end]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[CompensationCoversMilestone].[CTE1].[LastPay]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[CompensationCoversMilestone].[CTE1].[LastPay].[StartDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Pay].[StartDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[CompensationCoversMilestone].[CTE1].[LastPay].[EndDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Pay].[EndDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[ BEGIN
    IF @PersonId IS NULL 
        RETURN 1
    
    --needed for debugging purposes
    --DECLARE @PersonId INT
    --SET @PersonId = 3587
        
    DECLARE @isActive BIT 
    SELECT TOP 1 @isActive = CASE WHEN PersonStatusId = 1 THEN 1 ELSE 0 END 
    FROM dbo.Person WHERE PersonId = @PersonId
    
    --needed for debugging purposes
    --SELECT * FROM dbo.Person WHERE PersonId = @PersonId
    --PRINT @isActive
    
    IF @isActive = 0 
    RETURN 1
		
    DECLARE @Result BIT
	
    DECLARE @pay_start DATETIME
    DECLARE @pay_end DATETIME

	-- finding the last copmpensation record
    DECLARE @Now DATETIME
    SET @Now = GETDATE() ;
	
    WITH    LastPay
              AS ( SELECT p.StartDate, p.EndDate 
                   FROM dbo.v_Pay AS p
                   WHERE p.PersonId = @PersonId
                 )
        SELECT  @pay_start = MIN(StartDate),
                @pay_end = MAX(ISNULL(EndDate, dbo.GetFutureDate()))
        FROM    LastPay
        
    -- @pay_end = NULL means no end date, so set it to max datettime
    IF @pay_end IS NULL
		SET @pay_end = CAST('9999-01-01' AS DATETIME)
	        
	-- Finding the last milestone record if no dates were specified
    IF @mile_start IS NULL AND @mile_end IS NULL
    BEGIN 
		SELECT TOP 1
				@mile_start = mp.StartDate,
				@mile_end = mp.EndDate
		FROM    dbo.v_MilestonePerson AS mp
		WHERE   mp.PersonId = @PersonId
		ORDER BY mp.StartDate DESC
    END 
	
    --	If there's compensation, but no projects, return true
    IF @pay_start IS NOT NULL AND @pay_end IS NOT NULL 
		AND @mile_end IS NULL AND @mile_start IS NULL
	RETURN 1
		   
	-- check if pay milestone dates are inside milestone dates
    IF /* DATEDIFF(day, @mile_start, @pay_end) >= 0 AND */
		DATEDIFF(day, @mile_end, @pay_end) >= 0
        SET @Result = 1
    ELSE 
        SET @Result = 0
	
	-- needed for debugging purposes
    /*PRINT @pay_start
    PRINT @pay_end
    PRINT @mile_start
    PRINT @mile_end
    PRINT @Result
    PRINT DATEDIFF(day, @pay_start, @mile_start)
    PRINT DATEDIFF(day, @mile_end, @pay_start)*/
	
    RETURN @Result
   END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="226" />
							<Property Name="Length" Value="2551" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2009-10-21&#xD;&#xA;-- Description:&#x9;Checks if there's compensation record as in #886&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION dbo.CompensationCoversMilestone&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId INT,&#xD;&#xA;&#x9;@mile_start DATETIME = NULL,&#xD;&#xA;&#x9;@mile_end DATETIME = NULL &#xD;&#xA;)&#xD;&#xA;RETURNS BIT&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CompensationCoversMilestone].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CompensationCoversMilestone].[@mile_start]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CompensationCoversMilestone].[@mile_end]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[bit]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[CompensationCoversMilestone_test]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CompensationCoversMilestone_test].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[EndDateOrig]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[EndDateOrig]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[EndDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CompensationCoversMilestone_test].[@mile_start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CompensationCoversMilestone_test].[@mile_end]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[CompensationCoversMilestone_test].[CTE1].[LastPay]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[CompensationCoversMilestone_test].[CTE1].[LastPay].[StartDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Pay].[StartDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[CompensationCoversMilestone_test].[CTE1].[LastPay].[EndDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Pay].[EndDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[ BEGIN
    IF @PersonId IS NULL 
        RETURN 1
    
    --needed for debugging purposes
    --DECLARE @PersonId INT
    --SET @PersonId = 3587
        
    DECLARE @isActive BIT 
    SELECT TOP 1 @isActive = CASE WHEN PersonStatusId = 1 THEN 1 ELSE 0 END 
    FROM dbo.Person WHERE PersonId = @PersonId
    
    --needed for debugging purposes
    --SELECT * FROM dbo.Person WHERE PersonId = @PersonId
    --PRINT @isActive
    
    IF @isActive = 0 
    RETURN 1
		
    DECLARE @Result BIT
	
    DECLARE @pay_start DATETIME
    DECLARE @pay_end DATETIME

	-- finding the last copmpensation record
    DECLARE @Now DATETIME
    SET @Now = GETDATE() ;
	
    WITH    LastPay
              AS ( SELECT   p.StartDate,
                            p.EndDate
                   FROM     dbo.v_Pay AS p
                   WHERE    p.PersonId = @PersonId
                            AND @Now >= p.StartDate
                            AND @Now < p.EndDateOrig
                   UNION ALL
                   SELECT TOP 1
                            p.StartDate,
                            p.EndDate
                   FROM     dbo.v_Pay AS p
                   WHERE    p.PersonId = @PersonId
                            AND NOT EXISTS ( SELECT 1
                                             FROM   dbo.v_Pay AS p
                                             WHERE  p.PersonId = @PersonId
                                                    AND @Now >= p.StartDate
                                                    AND @Now < p.EndDateOrig )
                            AND @Now < p.StartDate
                   ORDER BY p.StartDate
                 )
        SELECT  @pay_start = StartDate,
                @pay_end = EndDate
        FROM    LastPay
        
    -- @pay_end = NULL means no end date, so set it to max datettime
    IF @pay_end IS NULL
		SET @pay_end = CAST('9999-01-01' AS DATETIME)
	        
	-- Finding the last milestone record if no dates were specified
    IF @mile_start IS NULL AND @mile_end IS NULL
    BEGIN 
		SELECT TOP 1
				@mile_start = mp.StartDate,
				@mile_end = mp.EndDate
		FROM    dbo.v_MilestonePerson AS mp
		WHERE   mp.PersonId = @PersonId
		ORDER BY mp.StartDate DESC
    END 
	
    --	If there's compensation, but no projects, return true
    IF @pay_start IS NOT NULL AND @pay_end IS NOT NULL 
		AND @mile_end IS NULL AND @mile_start IS NULL
	RETURN 1
		   
	-- check if pay milestone dates are inside milestone dates
    IF /* DATEDIFF(day, @mile_start, @pay_end) >= 0 AND */
		DATEDIFF(day, @mile_end, @pay_end) >= 0
        SET @Result = 1
    ELSE 
        SET @Result = 0
	
	-- needed for debugging purposes
    /*PRINT @pay_start
    PRINT @pay_end
    PRINT @mile_start
    PRINT @mile_end
    PRINT @Result
    PRINT DATEDIFF(day, @pay_start, @mile_start)
    PRINT DATEDIFF(day, @mile_end, @pay_start)*/
	
    RETURN @Result
   END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="226" />
							<Property Name="Length" Value="3350" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2009-10-21&#xD;&#xA;-- Description:&#x9;Checks if there's compensation record as in #886&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION dbo.CompensationCoversMilestone_test&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId INT,&#xD;&#xA;&#x9;@mile_start DATETIME = NULL,&#xD;&#xA;&#x9;@mile_end DATETIME = NULL &#xD;&#xA;)&#xD;&#xA;RETURNS BIT&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CompensationCoversMilestone_test].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CompensationCoversMilestone_test].[@mile_start]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CompensationCoversMilestone_test].[@mile_end]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[bit]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[ComputeMonthSalary]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[decimal]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ComputeMonthSalary].[@YearAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ComputeMonthSalary].[@Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDaysInMonth]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ComputeMonthSalary].[@HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ComputeMonthSalary].[@TerminationDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	DECLARE @MonthAmount DECIMAL
	DECLARE @Year INT
	DECLARE @Month INT
	DECLARE @DaysInMonth INT
	DECLARE @ActualDays INT

	SET @MonthAmount = @YearAmount / 12
	SET @Year = YEAR(@Date)
	SET @Month = MONTH(@Date)
	SET @DaysInMonth = dbo.GetDaysInMonth(@Date)
	SET @ActualDays = @DaysInMonth
	
	IF @Month = MONTH(@HireDate) AND @Year = YEAR(@HireDate)
	BEGIN
		SET @ActualDays = @ActualDays - DAY(@HireDate) + 1
	END

	IF @Month = MONTH(@TerminationDate) AND @Year = YEAR(@TerminationDate)
	BEGIN
		SET @ActualDays = @ActualDays - (@DaysInMonth - DAY(@TerminationDate))
	END

	RETURN @MonthAmount * @ActualDays / @DaysInMonth
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="250" />
							<Property Name="Length" Value="1098" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 7-28-2008&#xD;&#xA;-- Updated by:  &#xD;&#xA;-- Update date: &#xD;&#xA;-- Description:&#x9;Computes an actual salary for the month&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION [dbo].[ComputeMonthSalary]&#xD;&#xA;(&#xD;&#xA;&#x9;@YearAmount        DECIMAL,&#xD;&#xA;&#x9;@HireDate          DATETIME,&#xD;&#xA;&#x9;@TerminationDate   DATETIME,&#xD;&#xA;&#x9;@Date              DATETIME&#xD;&#xA;)&#xD;&#xA;RETURNS DECIMAL&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ComputeMonthSalary].[@YearAmount]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ComputeMonthSalary].[@HireDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ComputeMonthSalary].[@TerminationDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ComputeMonthSalary].[@Date]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Property Name="Precision" Value="18" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[decimal]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ConsultantMilestones]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;

	WITH ConsMiles AS (
	SELECT 
		cl.[Name] AS 'ClientName',
		cl.ClientId,
		pr.[Name] AS 'ProjectName',
		pr.ProjectId,
		pr.ProjectStatusId,
		pr.ProjectNumber,
		m.Description AS 'MilestoneName',
		m.MilestoneId,
		m.ConsultantsCanAdjust AS 'ConsultantsCanAdjust',
		m.IsChargeable,
		CASE 
			WHEN DATEDIFF(DAY, @StartDate, mpe.StartDate) >= 0 THEN mpe.StartDate
			ELSE @StartDate
		END AS 'PersonStartDate',
		mpe.MilestonePersonId,
		mpe.StartDate,
		CASE
			WHEN DATEDIFF(DAY, mpe.EndDate, @EndDate) >= 0 THEN mpe.EndDate
			ELSE @EndDate
		END AS 'PersonEndDate',
		mpe.EndDate,
		mpe.HoursPerDay,
		mpe.Amount		
	FROM dbo.Milestone AS m
	INNER JOIN dbo.MilestonePerson AS mp ON m.MilestoneId = mp.MilestoneId
	INNER JOIN dbo.MilestonePersonEntry AS mpe ON mp.MilestonePersonId = mpe.MilestonePersonId
	INNER JOIN dbo.Project AS pr ON m.ProjectId = pr.ProjectId
	INNER JOIN dbo.Client AS cl ON pr.ClientId = cl.ClientId
	WHERE mp.PersonId = @PersonId AND 
	      (mpe.StartDate BETWEEN @StartDate AND @EndDate 
			OR 
			mpe.EndDate BETWEEN @StartDate AND @EndDate
			OR 
			(DATEDIFF(DAY, mpe.StartDate, @StartDate) >= 0 AND DATEDIFF(DAY, @EndDate, mpe.EndDate) >= 0)
			OR
			(DATEDIFF(DAY, @StartDate, mpe.StartDate) >= 0 AND DATEDIFF(DAY, mpe.EndDate, @EndDate) >= 0)
		   )
		   AND
			(@IncludeActive = 1 OR (@includeInactive = 0 AND pr.ProjectStatusId <> 3))
		   AND
			(@includeInactive = 1 OR (@includeInactive = 0 AND pr.ProjectStatusId <> 1))
		   AND
			(@includeExperimental = 1 OR (@includeExperimental = 0 AND pr.ProjectStatusId <> 5))
		   AND
			(@includeCompleted = 1 OR (@includeCompleted = 0 AND pr.ProjectStatusId <> 4))
		   AND
			(@includeProjected = 1 OR (@includeProjected = 0 AND pr.ProjectStatusId <> 2))
		   
	)
	SELECT *
	FROM ConsMiles AS cm
	ORDER BY cm.StartDate DESC 
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ConsultantsCanAdjust]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantMilestones].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantMilestones].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantMilestones].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantMilestones].[@IncludeActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantMilestones].[@includeInactive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantMilestones].[@includeExperimental]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantMilestones].[@includeCompleted]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantMilestones].[@includeProjected]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[ConsultantMilestones].[CTE1].[ConsMiles]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ConsultantMilestones].[CTE1].[ConsMiles].[ClientName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Client].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ConsultantMilestones].[CTE1].[ConsMiles].[ClientId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Client].[ClientId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ConsultantMilestones].[CTE1].[ConsMiles].[ProjectName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Project].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ConsultantMilestones].[CTE1].[ConsMiles].[ProjectId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Project].[ProjectId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ConsultantMilestones].[CTE1].[ConsMiles].[ProjectStatusId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Project].[ProjectStatusId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ConsultantMilestones].[CTE1].[ConsMiles].[ProjectNumber]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Project].[ProjectNumber]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ConsultantMilestones].[CTE1].[ConsMiles].[MilestoneName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[Description]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ConsultantMilestones].[CTE1].[ConsMiles].[MilestoneId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[MilestoneId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ConsultantMilestones].[CTE1].[ConsMiles].[ConsultantsCanAdjust]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[ConsultantsCanAdjust]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ConsultantMilestones].[CTE1].[ConsMiles].[IsChargeable]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[IsChargeable]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ConsultantMilestones].[CTE1].[ConsMiles].[PersonStartDate]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ConsultantMilestones].[CTE1].[ConsMiles].[MilestonePersonId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ConsultantMilestones].[CTE1].[ConsMiles].[StartDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ConsultantMilestones].[CTE1].[ConsMiles].[PersonEndDate]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ConsultantMilestones].[CTE1].[ConsMiles].[EndDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[MilestonePersonEntry].[EndDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ConsultantMilestones].[CTE1].[ConsMiles].[HoursPerDay]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[MilestonePersonEntry].[HoursPerDay]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ConsultantMilestones].[CTE1].[ConsMiles].[Amount]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[MilestonePersonEntry].[Amount]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ConsultantMilestones].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ConsultantMilestones].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ConsultantMilestones].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ConsultantMilestones].[@IncludeActive]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ConsultantMilestones].[@includeInactive]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ConsultantMilestones].[@includeExperimental]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ConsultantMilestones].[@includeProjected]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ConsultantMilestones].[@includeCompleted]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="205" />
				<Property Name="Length" Value="2353" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2009-11-23&#xD;&#xA;-- Description:&#x9;Shows report on milestones &#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.ConsultantMilestones &#xD;&#xA;&#x9;@PersonId INT,&#xD;&#xA;&#x9;@StartDate DATETIME,&#xD;&#xA;&#x9;@EndDate DATETIME,&#xD;&#xA;&#x9;@IncludeActive BIT = 1,&#xD;&#xA;&#x9;@includeInactive BIT = 1,&#xD;&#xA;&#x9;@includeExperimental BIT = 1,&#xD;&#xA;&#x9;@includeProjected BIT = 1,&#xD;&#xA;&#x9;@includeCompleted BIT = 1&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ConsultantUtilizationReport]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
    BEGIN
        SET NOCOUNT ON ;
        
        -- Sunday is day one
        SET DATEFIRST 7;
        
        -- Set constant for consultant role id
        DECLARE @ConsRoleId  INT 
        SET @ConsRoleId = 1
        
        ---------------------------------------------------------
        -- Calculate number of company holidays for given period
        DECLARE @CompHolidays INT;
        
        SELECT @CompHolidays = COUNT(*) 
        FROM dbo.v_PersonCalendar
        WHERE CompanyDayOff = 1 AND 
			  DATEPART(dw, Date) != 7 AND 
			  DATEPART(dw, Date) != 1 AND 
			  Date BETWEEN @startDate AND @endDate
			  
		-- @CompHolidays calculation finished
		----------------------------------------------------------
		
		
        ---------------------------------------------------------
        -- Retrieve all consultants working at current month
		DECLARE @CurrentConsultants TABLE(ConsId INT);
		INSERT INTO @CurrentConsultants (ConsId) 
			SELECT p.PersonId
			FROM dbo.Person AS p
			LEFT JOIN dbo.Practice AS pr ON p.DefaultPractice = pr.PracticeId
			WHERE ISNULL(pr.IsCompanyInternal, 0) = 0 AND 
			(
				p.PersonStatusId = CASE WHEN @ProjectedPersons = 1 THEN 3 ELSE 0 END
				OR 
				p.PersonStatusId = CASE WHEN @ActivePersons = 1 THEN 1 ELSE 0 END
			)
			
		-- @CurrentConsultants now contains ids of consultants
        ---------------------------------------------------------
           
	;with PersonLoad as (
		SELECT
		   pers.PersonId,
		   pers.EmployeeNumber,
           pers.LastName + ', ' + pers.FirstName AS 'Name', 
           sen.[Name] AS SeniorityName,
           tsc.[Name] AS PayType,
           tsc.TimescaleId,
           dbo.GetNumberWorkingDays(cons.ConsId, @startDate, @endDate) AS WorkingDays,
           dbo.GetNumberAvaliableHours(cons.ConsId, @startDate, @endDate, @ActiveProjects, @ProjectedProjects, @ExperimentalProjects) AS AvailableHours,
           dbo.GetNumberHolidayDays(cons.ConsId, @startDate, @endDate)*8  AS HolidayHours,
		   dbo.GetNumberProjectedHours(cons.ConsId, @startDate, @endDate, @ActiveProjects, @ProjectedProjects, @ExperimentalProjects) AS RawProjectedHours,
           ISNULL(dbo.GetNumberProjectedHours(cons.ConsId, @startDate, @endDate, @ActiveProjects, @ProjectedProjects, @ExperimentalProjects), 0) AS ProjectedHours
		FROM dbo.Person AS pers
		INNER JOIN dbo.Seniority AS sen ON pers.SeniorityId = sen.SeniorityId
		INNER JOIN @CurrentConsultants AS cons ON cons.ConsId = pers.PersonId
		INNER JOIN dbo.Timescale AS tsc ON tsc.TimescaleId = dbo.GetCurrentPayType(pers.PersonId)
		WHERE dbo.GetNumberAvaliableHours(cons.ConsId, @startDate, @endDate, @ActiveProjects, @ProjectedProjects, @ExperimentalProjects) > 0
	) 
	SELECT 
		   pl.PersonId,
		   pl.EmployeeNumber AS 'Consultant #',
           pl.Name, 
           pl.SeniorityName,
           pl.PayType AS 'Pay Type',
           pl.TimescaleId,
           pl.WorkingDays AS 'Working days',
           pl.AvailableHours AS 'Available Hours',
           pl.HolidayHours  AS 'Holiday Hours',
           pl.ProjectedHours AS 'Projected Hours',
           CASE 
			WHEN 
				pl.RawProjectedHours IS NULL OR (pl.AvailableHours <= pl.RawProjectedHours + pl.HolidayHours) THEN 0
			ELSE 
				(pl.AvailableHours - pl.HolidayHours - pl.RawProjectedHours)
           END AS 'Bench Hours',
           CEILING(100*pl.ProjectedHours / pl.AvailableHours) AS 'Utilization %'
	FROM PersonLoad as pl
	ORDER BY 
		pl.[PayType] DESC,
		CASE 
			WHEN pl.TimescaleId = 1 OR pl.TimescaleId = 2 
				THEN CEILING(100*pl.ProjectedHours / pl.AvailableHours)
			ELSE pl.ProjectedHours
		END DESC
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[CompanyDayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantUtilizationReport].[@startDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantUtilizationReport].[@endDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantUtilizationReport].[@CurrentConsultants].[ConsId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[IsCompanyInternal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantUtilizationReport].[@ProjectedPersons]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantUtilizationReport].[@ActivePersons]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Seniority]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Seniority].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantUtilizationReport].[@CurrentConsultants].[ConsId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Timescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Timescale].[TimescaleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetCurrentPayType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[EmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Seniority].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Timescale].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantUtilizationReport].[@CurrentConsultants].[ConsId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberWorkingDays]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantUtilizationReport].[@ActiveProjects]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantUtilizationReport].[@ProjectedProjects]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantUtilizationReport].[@ExperimentalProjects]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberAvaliableHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberHolidayDays]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberProjectedHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberProjectedHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberAvaliableHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[EmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Seniority].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Timescale].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Timescale].[TimescaleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberWorkingDays]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberAvaliableHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberProjectedHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberAvaliableHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Timescale].[Name]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[ConsultantUtilizationReport].[@CurrentConsultants]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[ConsultantUtilizationReport].[@CurrentConsultants].[ConsId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[ConsultantUtilizationReport].[CTE1].[PersonLoad]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ConsultantUtilizationReport].[CTE1].[PersonLoad].[PersonId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[PersonId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ConsultantUtilizationReport].[CTE1].[PersonLoad].[EmployeeNumber]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[EmployeeNumber]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ConsultantUtilizationReport].[CTE1].[PersonLoad].[Name]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ConsultantUtilizationReport].[CTE1].[PersonLoad].[SeniorityName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Seniority].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ConsultantUtilizationReport].[CTE1].[PersonLoad].[PayType]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Timescale].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ConsultantUtilizationReport].[CTE1].[PersonLoad].[TimescaleId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Timescale].[TimescaleId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ConsultantUtilizationReport].[CTE1].[PersonLoad].[WorkingDays]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[GetNumberWorkingDays]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ConsultantUtilizationReport].[CTE1].[PersonLoad].[AvailableHours]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[GetNumberAvaliableHours]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ConsultantUtilizationReport].[CTE1].[PersonLoad].[HolidayHours]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ConsultantUtilizationReport].[CTE1].[PersonLoad].[RawProjectedHours]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[GetNumberProjectedHours]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ConsultantUtilizationReport].[CTE1].[PersonLoad].[ProjectedHours]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ConsultantUtilizationReport].[@startDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ConsultantUtilizationReport].[@endDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ConsultantUtilizationReport].[@ActivePersons]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ConsultantUtilizationReport].[@ActiveProjects]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ConsultantUtilizationReport].[@ProjectedPersons]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ConsultantUtilizationReport].[@ProjectedProjects]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ConsultantUtilizationReport].[@ExperimentalProjects]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="206" />
				<Property Name="Length" Value="4226" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2009-10-27&#xD;&#xA;-- Description:&#x9;Generates consultants report&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.ConsultantUtilizationReport&#xD;&#xA;&#x9;-- Add the parameters for the stored procedure here&#xD;&#xA;    @startDate DATETIME,&#xD;&#xA;    @endDate DATETIME,&#xD;&#xA;    @ActivePersons BIT = 1,&#xD;&#xA;    @ActiveProjects BIT = 1,&#xD;&#xA;    @ProjectedPersons BIT = 1,&#xD;&#xA;    @ProjectedProjects BIT = 1,&#xD;&#xA;    @ExperimentalProjects BIT = 1&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ConsultantUtilizationWeekly]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
    BEGIN
        SET NOCOUNT ON ;
        
        DECLARE @EndDate DATETIME
        SET @EndDate = DATEADD(DAY, @DaysForward, @StartDate)

/*
----- Person Status ------
1	Active
2	Terminated
3	Projected
4	Inactive
*/

    ---------------------------------------------------------
    -- Retrieve all consultants working at current month
        DECLARE @CurrentConsultants TABLE ( ConsId INT ) ;
        INSERT  INTO @CurrentConsultants ( ConsId )
                SELECT  p.PersonId
                FROM    dbo.Person AS p
                LEFT JOIN dbo.Practice AS pr ON p.DefaultPractice = pr.PracticeId
                WHERE   ISNULL(pr.IsCompanyInternal, 0) = 0
                        AND ( @ActivePersons = 1 AND p.PersonStatusId = 1 OR
                              @ProjectedPersons = 1 AND p.PersonStatusId = 3)
						AND (@PracticeID IS NULL OR @PracticeID = p.DefaultPractice)
						AND (@TimescaleId IS NULL OR dbo.GetCurrentPayType(p.PersonId) = @TimescaleId)
			
				
	-- @CurrentConsultants now contains ids of consultants
    ---------------------------------------------------------
    
        SELECT  p.PersonId,
                p.EmployeeNumber,
                p.FirstName,
                p.LastName,
                p.HireDate,
                paytp.TimescaleId,
                paytp.[Name] AS 'Timescale',
                st.[Name],
                dbo.GetWeeklyUtilization(c.ConsId, @StartDate, @Step, @DaysForward, @ActiveProjects, @ProjectedProjects, @ExperimentalProjects) AS 'wutil'
        FROM    dbo.Person AS p
                INNER JOIN @CurrentConsultants AS c ON c.ConsId = p.PersonId
                INNER JOIN dbo.PersonStatus AS st ON p.PersonStatusId = st.PersonStatusId
                INNER JOIN dbo.Timescale AS paytp ON paytp.TimescaleId = dbo.GetCurrentPayType(c.ConsId)
        WHERE dbo.GetNumberAvaliableHours(c.ConsId, @StartDate, @EndDate, @ActiveProjects, @ProjectedProjects, @ExperimentalProjects) > 0
    END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantUtilizationWeekly].[@DaysForward]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantUtilizationWeekly].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantUtilizationWeekly].[@CurrentConsultants].[ConsId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[IsCompanyInternal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantUtilizationWeekly].[@ActivePersons]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantUtilizationWeekly].[@ProjectedPersons]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantUtilizationWeekly].[@PracticeID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantUtilizationWeekly].[@TimescaleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetCurrentPayType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantUtilizationWeekly].[@CurrentConsultants].[ConsId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Timescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Timescale].[TimescaleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetCurrentPayType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantUtilizationWeekly].[@CurrentConsultants].[ConsId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[EmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Timescale].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantUtilizationWeekly].[@Step]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantUtilizationWeekly].[@ActiveProjects]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantUtilizationWeekly].[@ProjectedProjects]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConsultantUtilizationWeekly].[@ExperimentalProjects]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetWeeklyUtilization]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberAvaliableHours]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[ConsultantUtilizationWeekly].[@CurrentConsultants]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[ConsultantUtilizationWeekly].[@CurrentConsultants].[ConsId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ConsultantUtilizationWeekly].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ConsultantUtilizationWeekly].[@Step]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[7]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ConsultantUtilizationWeekly].[@DaysForward]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[184]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ConsultantUtilizationWeekly].[@ActivePersons]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ConsultantUtilizationWeekly].[@ActiveProjects]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ConsultantUtilizationWeekly].[@ProjectedPersons]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ConsultantUtilizationWeekly].[@ProjectedProjects]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ConsultantUtilizationWeekly].[@ExperimentalProjects]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ConsultantUtilizationWeekly].[@TimescaleId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ConsultantUtilizationWeekly].[@PracticeID]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="209" />
				<Property Name="Length" Value="2560" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2009-11-20&#xD;&#xA;-- Description:&#x9;Get utilization report by weeks&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.ConsultantUtilizationWeekly&#xD;&#xA;    @StartDate DATETIME,&#xD;&#xA;    @Step INT = 7,&#xD;&#xA;    @DaysForward INT = 184,&#xD;&#xA;    @ActivePersons BIT = 1,&#xD;&#xA;    @ActiveProjects BIT = 1,&#xD;&#xA;    @ProjectedPersons BIT = 1,&#xD;&#xA;    @ProjectedProjects BIT = 1,&#xD;&#xA;    @ExperimentalProjects BIT = 1,&#xD;&#xA;&#x9;@TimescaleId INT = NULL,&#xD;&#xA;&#x9;@PracticeID INT = NULL&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100MultiStatementTableValuedFunction" Name="[dbo].[ConvertStringListIntoTable]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="ReturnTableVariable" Value="@ParsedList" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConvertStringListIntoTable].[@OrderList]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConvertStringListIntoTable].[ResultId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ConvertStringListIntoTable].[ResultId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	DECLARE @ResultId varchar(10), @Pos int

	SET @OrderList = LTRIM(RTRIM(@OrderList))+ ','
	SET @Pos = CHARINDEX(',', @OrderList, 1)

	IF REPLACE(@OrderList, ',', '') <> ''
	BEGIN
		WHILE @Pos > 0
		BEGIN
			SET @ResultId = LTRIM(RTRIM(LEFT(@OrderList, @Pos - 1)))
			IF @ResultId <> ''
			BEGIN
				INSERT INTO @ParsedList (ResultId) 
				VALUES (CAST(@ResultId AS int)) --Use Appropriate conversion
			END
			SET @OrderList = RIGHT(@OrderList, LEN(@OrderList) - @Pos)
			SET @Pos = CHARINDEX(',', @OrderList, 1)

		END
	END	
	RETURN
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="703" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [dbo].[ConvertStringListIntoTable]&#xD;&#xA;(&#xD;&#xA;&#x9;@OrderList varchar(max)&#xD;&#xA;)&#xD;&#xA;RETURNS &#xD;&#xA;@ParsedList table&#xD;&#xA;(&#xD;&#xA;&#x9;ResultId int&#xD;&#xA;)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ConvertStringListIntoTable].[@OrderList]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DmlTrigger" Name="[dbo].[CreateDefaultGroupForClient]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="SqlTriggerType" Value="2" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
BEGIN
	SET NOCOUNT ON;

	INSERT INTO dbo.ProjectGroup (
		ClientId,
		[Name]
	)  ( 
		SELECT i.ClientId, 'Default Group' AS [Name] FROM inserted AS i
	) 

END]]></Value>
			</Property>
			<Property Name="IsInsertTrigger" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ProjectGroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parent">
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="209" />
				<Property Name="Length" Value="464" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2009-10-14&#xD;&#xA;-- Description:&#x9;Creates default group on each&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE TRIGGER CreateDefaultGroupForClient &#xD;&#xA;   ON  dbo.Client &#xD;&#xA;   AFTER INSERT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[DefaultComissionDelete]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	SET XACT_ABORT ON

	DECLARE @Today DATETIME
	SET @Today = dbo.[Today]()

	BEGIN TRAN

	-- Delete the commission was set today
	DELETE
	  FROM dbo.DefaultCommission
	 WHERE PersonId = @PersonId
	   AND [Type] = @Type
	   AND StartDate = @Today

	-- Expire previously set commission
	UPDATE dbo.DefaultCommission
	   SET EndDate = @Today
	 WHERE PersonId = @PersonId
	   AND [Type] = @Type
	   AND @Today >= StartDate
	   AND @Today < EndDate

	COMMIT TRAN]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Today]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultComissionDelete].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultComissionDelete].[@Type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[EndDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DefaultComissionDelete].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DefaultComissionDelete].[@Type]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="235" />
				<Property Name="Length" Value="825" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--The source is &#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 6-2-2008&#xD;&#xA;-- Description:&#x9;Removes a person's default actual commision&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[DefaultComissionDelete]&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId   INT,&#xD;&#xA;&#x9;@Type       INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[DefaultComissionGetByPerson]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	
	DECLARE @Today DATETIME
	SET @Today = dbo.[Today]()
	
	SELECT c.[PersonId],
	       c.[FractionOfMargin],
	       c.[StartDate],
	       c.[EndDate],
	       c.[type],
	       c.[MarginTypeId]
	  FROM dbo.DefaultCommission AS c
	 WHERE c.[PersonId] = @PersonId
	   AND c.[StartDate] <= @Today
	   AND c.[EndDate] > @Today]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Today]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[FractionOfMargin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[MarginTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultComissionGetByPerson].[@PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DefaultComissionGetByPerson].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="233" />
				<Property Name="Length" Value="669" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--The source is &#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 6-2-2008&#xD;&#xA;-- Description:&#x9;Gets a person's default actual commisions&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[DefaultComissionGetByPerson]&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[DefaultComissionSave]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	SET XACT_ABORT ON

	DECLARE @Today DATETIME
	SET @Today = dbo.Today()

	BEGIN TRAN

	IF EXISTS(SELECT 1
	            FROM dbo.[DefaultCommission] AS c
	           WHERE c.PersonId = @PersonId
	             AND c.[Type] = @Type
	             AND c.StartDate = @Today)
	BEGIN
		-- The value was already changed today
		UPDATE dbo.[DefaultCommission]
		   SET FractionOfMargin = @FractionOfMargin,
		       MarginTypeId = @MarginTypeId
		 WHERE PersonId = @PersonId
		   AND [Type] = @Type
		   AND StartDate = @Today
	END
	ELSE
	BEGIN
		-- There is no value set today

		-- Expire old data
		UPDATE dbo.[DefaultCommission]
		   SET EndDate = @Today
		 WHERE PersonId = @PersonId
		   AND [Type] = @Type
		   AND @Today >= StartDate
		   AND @Today < EndDate

		-- Set new comission
		INSERT INTO dbo.[DefaultCommission]
		            (PersonId, StartDate, EndDate, FractionOfMargin, [type], MarginTypeId)
		     VALUES (@PersonId, @Today, '2029-12-31', @FractionOfMargin, @Type, @MarginTypeId)
	END

	COMMIT]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Today]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultComissionSave].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultComissionSave].[@Type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[FractionOfMargin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultComissionSave].[@FractionOfMargin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[MarginTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultComissionSave].[@MarginTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[type]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DefaultComissionSave].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DefaultComissionSave].[@FractionOfMargin]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DefaultComissionSave].[@Type]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DefaultComissionSave].[@MarginTypeId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="234" />
				<Property Name="Length" Value="1470" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--The source is &#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 6-2-2008&#xD;&#xA;-- Description:&#x9;Saves a person's default actual commisions&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[DefaultComissionSave]&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId           INT,&#xD;&#xA;&#x9;@FractionOfMargin   DECIMAL(18,2),&#xD;&#xA;&#x9;@Type               INT,&#xD;&#xA;&#x9;@MarginTypeId       INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[DefaultCommission]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[DefaultCommission].[PersonId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[DefaultCommission].[StartDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[smalldatetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[DefaultCommission].[EndDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[smalldatetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[DefaultCommission].[FractionOfMargin]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[DefaultCommission].[type]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[DefaultCommission].[MarginTypeId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[DefaultRecruiterCommissionCleanup]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;
	
	-- Remove headers from headers table if there's no 
	--   corresponding values in the items table
    DECLARE @headersCount INT

    SELECT  @headersCount = COUNT(*)
    FROM    dbo.DefaultRecruiterCommissionItem
    WHERE   DefaultRecruiterCommissionHeaderId = @DefaultRecruiterCommissionHeaderId

    IF @headersCount = 0 
        BEGIN
            DELETE  FROM dbo.DefaultRecruiterCommissionHeader
            WHERE   DefaultRecruiterCommissionHeaderId = @DefaultRecruiterCommissionHeaderId
        END
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItem]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItem].[DefaultRecruiterCommissionHeaderId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionCleanup].[@DefaultRecruiterCommissionHeaderId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[DefaultRecruiterCommissionHeaderId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DefaultRecruiterCommissionCleanup].[@DefaultRecruiterCommissionHeaderId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="202" />
				<Property Name="Length" Value="870" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2009-11-05&#xD;&#xA;-- Description:&#x9;Cleans up unused headers&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE DefaultRecruiterCommissionCleanup&#xD;&#xA;    (&#xD;&#xA;      @DefaultRecruiterCommissionHeaderId INT&#xD;&#xA;    )&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[DefaultRecruiterCommissionDeleteItems]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
    BEGIN 
        SET NOCOUNT ON

	-- Remove items from items table
        DELETE  FROM dbo.DefaultRecruiterCommissionItem
        WHERE   DefaultRecruiterCommissionHeaderId = @DefaultRecruiterCommissionHeaderId
		
    END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItem]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItem].[DefaultRecruiterCommissionHeaderId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionDeleteItems].[@DefaultRecruiterCommissionHeaderId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DefaultRecruiterCommissionDeleteItems].[@DefaultRecruiterCommissionHeaderId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="361" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DefaultRecruiterCommissionDeleteItems]&#xD;&#xA;    (&#xD;&#xA;      @DefaultRecruiterCommissionHeaderId INT&#xD;&#xA;    )&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[DefaultRecruiterCommissionGetById]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT h.DefaultRecruiterCommissionHeaderId, h.PersonId, h.StartDate,
	       CASE h.EndDate WHEN dbo.GetFutureDate() THEN CAST(NULL AS DATETIME) ELSE h.EndDate END AS EndDate,
	       dbo.MakeDefaultRecruiterCommissionText(h.defaultrecruitercommissionheaderid) AS TextLine
	  FROM dbo.DefaultRecruiterCommissionHeader as h
	 WHERE h.DefaultRecruiterCommissionHeaderId = @DefaultRecruiterCommissionHeaderId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[DefaultRecruiterCommissionHeaderId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[DefaultRecruiterCommissionHeaderId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDefaultRecruiterCommissionText]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionGetById].[@DefaultRecruiterCommissionHeaderId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DefaultRecruiterCommissionGetById].[@DefaultRecruiterCommissionHeaderId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="270" />
				<Property Name="Length" Value="814" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 9-02-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Selects the default recruiter commission by the specified ID&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[DefaultRecruiterCommissionGetById]&#xD;&#xA;(&#xD;&#xA;&#x9;@DefaultRecruiterCommissionHeaderId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[DefaultRecruiterCommissionGetByPersonDate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT h.DefaultRecruiterCommissionHeaderId, h.PersonId, h.StartDate,
	       CASE h.EndDate WHEN dbo.GetFutureDate() THEN CAST(NULL AS DATETIME) ELSE h.EndDate END AS EndDate,
	       dbo.MakeDefaultRecruiterCommissionText(h.defaultrecruitercommissionheaderid) AS TextLine
	  FROM dbo.DefaultRecruiterCommissionHeader as h
	 WHERE h.PersonId = @PersonId AND @Date >= h.StartDate AND @Date < h.EndDate]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[DefaultRecruiterCommissionHeaderId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[DefaultRecruiterCommissionHeaderId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDefaultRecruiterCommissionText]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionGetByPersonDate].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionGetByPersonDate].[@Date]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DefaultRecruiterCommissionGetByPersonDate].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DefaultRecruiterCommissionGetByPersonDate].[@Date]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="284" />
				<Property Name="Length" Value="829" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 9-02-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Selects the default recruiter commission for the specified person and date&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[DefaultRecruiterCommissionGetByPersonDate]&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId   INT,&#xD;&#xA;&#x9;@Date       DATETIME&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[DefaultRecruiterCommissionHeader]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[DefaultRecruiterCommissionHeader].[DefaultRecruiterCommissionHeaderId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[DefaultRecruiterCommissionHeader].[PersonId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[DefaultRecruiterCommissionHeader].[StartDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[DefaultRecruiterCommissionHeader].[EndDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Index" Name="[dbo].[DefaultRecruiterCommissionHeader].[IX_DefaultRecruiterCommissionHeader_PersonStartDate]">
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[DefaultRecruiterCommissionHeader].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[DefaultRecruiterCommissionHeader].[StartDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="IncludedColumns">
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[EndDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[DefaultRecruiterCommissionHeaderInsert]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
      SET NOCOUNT ON

      SET @EndDate = ISNULL(@EndDate, dbo.GetFutureDate())

      IF EXISTS(SELECT 1
                  FROM dbo.DefaultRecruiterCommissionHeader AS h
                 WHERE h.PersonId = @PersonId AND h.StartDate >= @StartDate AND h.EndDate <= @EndDate)
      BEGIN
            -- The record overlaps from beginning
            RAISERROR (70013, 16, 1)
            RETURN
      END
      ELSE IF EXISTS(SELECT 1
                       FROM dbo.DefaultRecruiterCommissionHeader AS h
                      WHERE h.PersonId = @PersonId AND h.EndDate <= @EndDate AND h.EndDate > @StartDate)
      BEGIN
            -- The record overlaps from ending
            RAISERROR (70014, 16, 1)
            RETURN
      END
      ELSE IF EXISTS(SELECT 1
                       FROM dbo.DefaultRecruiterCommissionHeader AS h
                      WHERE h.PersonId = @PersonId AND h.StartDate <= @StartDate AND h.EndDate > @EndDate)
      BEGIN
            -- The record overlaps within the period
            RAISERROR (70015, 16, 1)
            RETURN
      END

      BEGIN TRAN

      UPDATE dbo.DefaultRecruiterCommissionHeader
         SET EndDate = @StartDate
       WHERE PersonId = @PersonId AND EndDate > @StartDate AND StartDate < @StartDate

      UPDATE dbo.DefaultRecruiterCommissionHeader
         SET StartDate = @EndDate
       WHERE PersonId = @PersonId AND StartDate < @EndDate AND EndDate > @EndDate

      INSERT INTO dbo.DefaultRecruiterCommissionHeader
                  (PersonId, StartDate, EndDate)
           VALUES (@PersonId, @StartDate, @EndDate)

      SET @DefaultRecruiterCommissionHeaderId = SCOPE_IDENTITY()

      COMMIT TRAN]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeaderInsert].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeaderInsert].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeaderInsert].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeaderInsert].[@DefaultRecruiterCommissionHeaderId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DefaultRecruiterCommissionHeaderInsert].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DefaultRecruiterCommissionHeaderInsert].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DefaultRecruiterCommissionHeaderInsert].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DefaultRecruiterCommissionHeaderInsert].[@DefaultRecruiterCommissionHeaderId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="304" />
				<Property Name="Length" Value="2293" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:        Anatoliy Lokshin&#xD;&#xA;-- Create date: 9-02-2008&#xD;&#xA;-- Update by:     Anatoliy Lokshin&#xD;&#xA;-- Update date:   11-17-2008&#xD;&#xA;-- Description:   Inserts a person's default actual recruiting commisions&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.DefaultRecruiterCommissionHeaderInsert&#xD;&#xA;(&#xD;&#xA;      @PersonId                           INT,&#xD;&#xA;      @StartDate                          DATETIME,&#xD;&#xA;      @EndDate                            DATETIME,&#xD;&#xA;      @DefaultRecruiterCommissionHeaderId INT OUT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[DefaultRecruiterCommissionHeaderUpdate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SET @EndDate = ISNULL(@EndDate, dbo.GetFutureDate())

	DECLARE @OLD_StartDate DATETIME
	DECLARE @OLD_EndDate DATETIME

	SELECT @OLD_StartDate = h.StartDate, @OLD_EndDate = h.EndDate
	  FROM dbo.DefaultRecruiterCommissionHeader AS h
	 WHERE h.DefaultRecruiterCommissionHeaderId = @DefaultRecruiterCommissionHeaderId

	IF EXISTS(SELECT 1
	            FROM dbo.DefaultRecruiterCommissionHeader AS h
	           WHERE h.PersonId = @PersonId 
	             AND h.StartDate >= @StartDate
	             AND h.StartDate <> @OLD_StartDate
	             AND h.EndDate <= @OLD_StartDate)
	BEGIN
		-- The record overlaps from begining
		RAISERROR (70013, 16, 1)
		RETURN
	END
	ELSE IF EXISTS(SELECT 1
	                 FROM dbo.DefaultRecruiterCommissionHeader AS h
	                WHERE h.PersonId = @PersonId 
	                  AND h.EndDate <= @EndDate
	                  AND h.EndDate <> @OLD_EndDate
	                  AND h.StartDate >= @OLD_EndDate)
	BEGIN
		-- The records overlaps from ending
		RAISERROR (70014, 16, 1)
		RETURN
	END
	ELSE IF EXISTS(SELECT 1
	                 FROM dbo.DefaultRecruiterCommissionHeader AS h
	                WHERE h.PersonId = @PersonId
	                  AND h.StartDate <= @StartDate AND h.EndDate >= @EndDate
	                  AND h.StartDate <> @OLD_StartDate AND h.EndDate <> @OLD_EndDate)
	BEGIN
		-- The record overlaps within the period
		RAISERROR (70015, 16, 1)
		RETURN
	END

	BEGIN TRAN

	UPDATE dbo.DefaultRecruiterCommissionHeader
	   SET EndDate = @StartDate
	 WHERE PersonId = @PersonId AND EndDate = @OLD_StartDate

	UPDATE dbo.DefaultRecruiterCommissionHeader
	   SET StartDate = @EndDate
	 WHERE PersonId = @PersonId AND StartDate = @OLD_EndDate

	UPDATE dbo.DefaultRecruiterCommissionHeader
	   SET StartDate = @StartDate,
	       EndDate = @EndDate
	 WHERE DefaultRecruiterCommissionHeaderId = @DefaultRecruiterCommissionHeaderId

	COMMIT TRAN]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeaderUpdate].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[DefaultRecruiterCommissionHeaderId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeaderUpdate].[@DefaultRecruiterCommissionHeaderId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeaderUpdate].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeaderUpdate].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[DefaultRecruiterCommissionHeaderId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DefaultRecruiterCommissionHeaderUpdate].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DefaultRecruiterCommissionHeaderUpdate].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DefaultRecruiterCommissionHeaderUpdate].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DefaultRecruiterCommissionHeaderUpdate].[@DefaultRecruiterCommissionHeaderId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="264" />
				<Property Name="Length" Value="2494" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 9-02-2008&#xD;&#xA;-- Update by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Updates a person's default actual recruiting commisions&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[DefaultRecruiterCommissionHeaderUpdate]&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId                           INT,&#xD;&#xA;&#x9;@StartDate                          DATETIME,&#xD;&#xA;&#x9;@EndDate                            DATETIME,&#xD;&#xA;&#x9;@DefaultRecruiterCommissionHeaderId INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[DefaultRecruiterCommissionItem]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[DefaultRecruiterCommissionItem].[DefaultRecruiterCommissionHeaderId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[DefaultRecruiterCommissionItem].[HoursToCollect]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[DefaultRecruiterCommissionItem].[Amount]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[DefaultRecruiterCommissionItemInsert]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	INSERT INTO dbo.DefaultRecruiterCommissionItem
	            (DefaultRecruiterCommissionHeaderId, HoursToCollect, Amount)
	     VALUES (@DefaultRecruiterCommissionHeaderId, @HoursToCollect, @Amount)]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItem]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItem].[DefaultRecruiterCommissionHeaderId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItem].[HoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItem].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItemInsert].[@DefaultRecruiterCommissionHeaderId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItemInsert].[@HoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItemInsert].[@Amount]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DefaultRecruiterCommissionItemInsert].[@DefaultRecruiterCommissionHeaderId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DefaultRecruiterCommissionItemInsert].[@HoursToCollect]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DefaultRecruiterCommissionItemInsert].[@Amount]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="269" />
				<Property Name="Length" Value="705" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 9-02-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Adds an item to the specified default recruiter commission.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[DefaultRecruiterCommissionItemInsert]&#xD;&#xA;(&#xD;&#xA;&#x9;@DefaultRecruiterCommissionHeaderId   INT,&#xD;&#xA;&#x9;@HoursToCollect                       INT,&#xD;&#xA;&#x9;@Amount                               DECIMAL(18,2)&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[DefaultRecruiterCommissionItemList]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT i.DefaultRecruiterCommissionHeaderId, i.HoursToCollect, i.Amount
	  FROM dbo.DefaultRecruiterCommissionItem AS i
	 WHERE i.DefaultRecruiterCommissionHeaderId = @DefaultRecruiterCommissionHeaderId
	ORDER BY i.HoursToCollect]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItem]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItem].[DefaultRecruiterCommissionHeaderId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItem].[HoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItem].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItemList].[@DefaultRecruiterCommissionHeaderId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DefaultRecruiterCommissionItemList].[@DefaultRecruiterCommissionHeaderId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="295" />
				<Property Name="Length" Value="662" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 9-02-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Selects a list of the default recruiter commission items for the specified commission&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[DefaultRecruiterCommissionItemList]&#xD;&#xA;(&#xD;&#xA;&#x9;@DefaultRecruiterCommissionHeaderId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[DefaultRecruiterCommissionItemUpdate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	UPDATE dbo.DefaultRecruiterCommissionItem
	   SET Amount = @Amount
	 WHERE DefaultRecruiterCommissionHeaderId = @DefaultRecruiterCommissionHeaderId
	   AND HoursToCollect = @HoursToCollect]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItem]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItem].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItemUpdate].[@Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItem].[DefaultRecruiterCommissionHeaderId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItemUpdate].[@DefaultRecruiterCommissionHeaderId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItem].[HoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItemUpdate].[@HoursToCollect]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DefaultRecruiterCommissionItemUpdate].[@DefaultRecruiterCommissionHeaderId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DefaultRecruiterCommissionItemUpdate].[@HoursToCollect]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DefaultRecruiterCommissionItemUpdate].[@Amount]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="269" />
				<Property Name="Length" Value="697" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 9-02-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Adds an item to the specified default recruiter commission.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[DefaultRecruiterCommissionItemUpdate]&#xD;&#xA;(&#xD;&#xA;&#x9;@DefaultRecruiterCommissionHeaderId   INT,&#xD;&#xA;&#x9;@HoursToCollect                       INT,&#xD;&#xA;&#x9;@Amount                               DECIMAL(18,2)&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[DefaultRecruiterCommissionListByPerson]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT h.DefaultRecruiterCommissionHeaderId, h.PersonId, h.StartDate,
	       CASE h.EndDate WHEN dbo.GetFutureDate() THEN CAST(NULL AS DATETIME) ELSE h.EndDate END AS EndDate,
	       dbo.MakeDefaultRecruiterCommissionText(h.defaultrecruitercommissionheaderid) AS TextLine
	  FROM dbo.DefaultRecruiterCommissionHeader as h
	 WHERE h.PersonId = @PersonId
	ORDER BY h.StartDate]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[DefaultRecruiterCommissionHeaderId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[DefaultRecruiterCommissionHeaderId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDefaultRecruiterCommissionText]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionListByPerson].[@PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DefaultRecruiterCommissionListByPerson].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="286" />
				<Property Name="Length" Value="780" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 9-02-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Selects a list of the default recruiter commissions for the specified person&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[DefaultRecruiterCommissionListByPerson]&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90DmlTrigger" Name="[dbo].[DeleteDefaultGroupForClient]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="SqlTriggerType" Value="2" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
BEGIN
	SET NOCOUNT ON;

	DELETE FROM dbo.ProjectGroup 
	WHERE ClientId IN ( 
			SELECT d.ClientId FROM deleted AS d
		)

END]]></Value>
			</Property>
			<Property Name="IsDeleteTrigger" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ProjectGroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parent">
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="209" />
				<Property Name="Length" Value="428" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2009-10-14&#xD;&#xA;-- Description:&#x9;Creates default group on each&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE TRIGGER DeleteDefaultGroupForClient &#xD;&#xA;   ON  dbo.Client &#xD;&#xA;   AFTER DELETE&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_Client_Inactive]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Client].[Inactive]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_Client_IsChargeable]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Client].[IsChargeable]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_Milestone_ConsultantCanAdjust]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Milestone].[ConsultantsCanAdjust]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_Milestone_IsChargeable]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Milestone].[IsChargeable]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_MilestonePersonEntry_HoursPerDay]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[HoursPerDay]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_Note]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Note]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Note].[CreateDate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_Note_NoteTargetId]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Note]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Note].[NoteTargetId]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_Opportunity_CreateDate]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Opportunity]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Opportunity].[CreateDate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_Opportunity_LastUpdated]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Opportunity]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Opportunity].[LastUpdated]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_Opportunity_RevenueType]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((3))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Opportunity]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Opportunity].[RevenueType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_OpportunityTransition_OpportunityTransitionTypeId]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[OpportunityTransition]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[OpportunityTransitionTypeId]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_OpportunityTransition_TransitionDate]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[OpportunityTransition]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[TransitionDate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_OverheadFixedRate_IsCogs]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[OverheadFixedRate]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[OverheadFixedRate].[IsCogs]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_Pay_BonusAmount]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Pay]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Pay].[BonusAmount]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_Pay_DefaultHoursPerDay]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((8))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Pay]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Pay].[DefaultHoursPerDay]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_Person_IsDefaultManager]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Person].[IsDefaultManager]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_Person_PersonStatusId]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_Practice_IsActive]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Practice].[IsActive]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_Practice_IsCompanyInternal]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Practice].[IsCompanyInternal]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_Practice_PracticeManagerId]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Practice].[PracticeManagerId]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_Project_IsChargeable]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Project].[IsChargeable]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_Project_ProjectManager]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Project].[ProjectManagerId]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_ProjectExpense_Reimbursement]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ProjectExpense]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ProjectExpense].[Reimbursement]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_TimeEntries_IsChargeable]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[TimeEntries]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[TimeEntries].[IsChargeable]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_TimeEntries_IsCorrect]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[TimeEntries]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[TimeEntries].[IsCorrect]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_TimeEntries_IsReviewed]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(NULL)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[TimeEntries]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[TimeEntries].[IsReviewed]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_TimeType_IsDefault]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[TimeType]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[TimeType].[IsDefault]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DefaultConstraint" Name="[dbo].[DF_UserActivityLog_LogDate]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[UserActivityLog]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LogDate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[EmailNotificationsListExpiredPersons]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
    BEGIN
        SET NOCOUNT ON ;
	
	SELECT  distinct
		pers.PersonId as 'ProjectId',
		pers.LastName + pers.FirstName as 'PersonName',
		isnull(recr.Alias, 'seanc@logic2020.com') as PersonRecruter, 
		isnull(mngr.Alias, 'seanc@logic2020.com') as LineManager, 
		isnull(pown.Alias, 'seanc@logic2020.com') as PracticeOwner, 
		pers.HireDate
	FROM
		Person as pers
		inner join Person as mngr on pers.ManagerId = mngr.PersonId
		left join Practice as pr on pers.DefaultPractice = pr.PracticeId
		left join Person as pown on pr.PracticeManagerId = pown.PersonId
		left join RecruiterCommission as rcom on pers.PersonId = rcom.RecruitId
		left join Person as recr on recr.PersonId = rcom.RecruiterId
		where pers.PersonStatusId = 3		
    
		SELECT EmailTemplateSubject, EmailTemplateBody FROM EmailTemplate  et WHERE et.EmailTemplateId = @EmailTemplateId  
    END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruitId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruiterId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplate].[EmailTemplateSubject]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplate].[EmailTemplateBody]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplate].[EmailTemplateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailNotificationsListExpiredPersons].[@EmailTemplateId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[EmailNotificationsListExpiredPersons].[@EmailTemplateId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="976" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE PROCEDURE [dbo].[EmailNotificationsListExpiredPersons]&#xD;&#xA;&#x9;@EmailTemplateId int&#x9;&#x9;&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[EmailNotificationsListProjectedProjects]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
    BEGIN
        SET NOCOUNT ON ;
	
	SELECT  distinct
		pr.ProjectId,
		p.Alias as ProjectOwner, 
		sp.Alias as Salesperson, 
		pm.Alias as PracticeOwner, 
		c.Name AS ClientName, 
		pr.Name as ProjectName, 
		pr.StartDate
		
		FROM Project pr 
			INNER JOIN Person p ON p.PersonId = pr.ProjectManagerId
			INNER JOIN Practice pa ON pr.PracticeId = pa.PracticeId
			INNER JOIN Person pm ON pm.PersonId = pa.PracticeManagerId
			INNER JOIN Client c ON c.ClientId = pr.ClientId 
			INNER JOIN Person sp ON sp.PersonId = c.DefaultSalespersonID
			
		WHERE pr.ProjectStatusId = 2 AND pr.StartDate <= GETDATE()
    
		SELECT EmailTemplateSubject, EmailTemplateBody FROM EmailTemplate  et WHERE et.EmailTemplateId = @EmailTemplateId  
    END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[DefaultSalespersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplate].[EmailTemplateSubject]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplate].[EmailTemplateBody]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplate].[EmailTemplateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailNotificationsListProjectedProjects].[@EmailTemplateId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[EmailNotificationsListProjectedProjects].[@EmailTemplateId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="232" />
				<Property Name="Length" Value="1087" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Artem Dolya&#xD;&#xA;-- Create date: 2010-06-11&#xD;&#xA;-- Description:&#x9;Retruns Template with recipients of Projected project&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[EmailNotificationsListProjectedProjects]&#xD;&#xA;&#x9;@EmailTemplateId int&#x9;&#x9;&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[EmailTemplate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[EmailTemplate].[EmailTemplateId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[EmailTemplate].[EmailTemplateName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[EmailTemplate].[EmailTemplateTo]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[EmailTemplate].[EmailTemplateCc]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[EmailTemplate].[EmailTemplateSubject]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[EmailTemplate].[EmailTemplateBody]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[EmailTemplateDelete]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
    BEGIN
        SET NOCOUNT ON ;
	
		DELETE dbo.EmailTemplate
		 WHERE EmailTemplateId = @EmailTemplateId
      
    END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[EmailTemplate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplate].[EmailTemplateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplateDelete].[@EmailTemplateId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[EmailTemplateDelete].[@EmailTemplateId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="206" />
				<Property Name="Length" Value="404" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Artem Dolya&#xD;&#xA;-- Create date: 2010-05-13&#xD;&#xA;-- Description:&#x9;Inserts new email template record&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.EmailTemplateDelete&#xD;&#xA;&#x9;@EmailTemplateId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[EmailTemplateGetAll]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;
	
	Select 
			et.EmailTemplateId
			, et.EmailTemplateName
			, et.EmailTemplateTo
			, et.EmailTemplateCc
			, et.EmailTemplateSubject
			, et.EmailTemplateBody
		FROM EmailTemplate AS et
		ORDER BY et.EmailTemplateName
	
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[EmailTemplate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplate].[EmailTemplateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplate].[EmailTemplateName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplate].[EmailTemplateTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplate].[EmailTemplateCc]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplate].[EmailTemplateSubject]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplate].[EmailTemplateBody]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="310" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE PROCEDURE dbo.EmailTemplateGetAll&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[EmailTemplateInsert]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
    BEGIN
        SET NOCOUNT ON ;
	
		IF NOT EXISTS (
					SELECT 1 
					FROM dbo.EmailTemplate et
					WHERE et.[EmailTemplateName] = @EmailTemplateName)
		BEGIN 
       
			INSERT  INTO [dbo].[EmailTemplate]
					( [EmailTemplateName] ,
					  [EmailTemplateTo] ,
					  [EmailTemplateCc] ,
					  [EmailTemplateSubject] ,
					  [EmailTemplateBody] 
					)
			VALUES  ( @EmailTemplateName ,
					  @EmailTemplateTo ,
					  @EmailTemplateCc ,
					  @EmailTemplateSubject ,
					  @EmailTemplateBody 
					)
                
        END
		ELSE
		BEGIN
			RAISERROR (N'Email template with specified name already exist!',16, 1);
		END
    END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[EmailTemplate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplate].[EmailTemplateName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplateInsert].[@EmailTemplateName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplate].[EmailTemplateName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplate].[EmailTemplateTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplate].[EmailTemplateCc]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplate].[EmailTemplateSubject]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplate].[EmailTemplateBody]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplateInsert].[@EmailTemplateTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplateInsert].[@EmailTemplateCc]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplateInsert].[@EmailTemplateSubject]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplateInsert].[@EmailTemplateBody]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[EmailTemplateInsert].[@EmailTemplateName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[EmailTemplateInsert].[@EmailTemplateTo]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[EmailTemplateInsert].[@EmailTemplateCc]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[EmailTemplateInsert].[@EmailTemplateSubject]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[EmailTemplateInsert].[@EmailTemplateBody]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="206" />
				<Property Name="Length" Value="1130" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Artem Dolya&#xD;&#xA;-- Create date: 2010-05-13&#xD;&#xA;-- Description:&#x9;Inserts new email template record&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.EmailTemplateInsert&#xD;&#xA;    @EmailTemplateName nvarchar(50) ,&#xD;&#xA;&#x9;@EmailTemplateTo nvarchar(250) = NULL ,&#xD;&#xA;&#x9;@EmailTemplateCc nvarchar(250) = NULL ,&#xD;&#xA;    @EmailTemplateSubject nvarchar(255) ,&#xD;&#xA;    @EmailTemplateBody nvarchar(MAX)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[EmailTemplateUpdate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
    BEGIN
        SET NOCOUNT ON ;
	
		IF NOT EXISTS (
					SELECT 1 
					FROM dbo.EmailTemplate et
					WHERE NOT et.EmailTemplateId = @EmailTemplateId 
					       AND et.[EmailTemplateName] = @EmailTemplateName)
		BEGIN 
			UPDATE dbo.EmailTemplate SET
                   [EmailTemplateName] = @EmailTemplateName ,
				   [EmailTemplateTo] = @EmailTemplateTo ,
				   [EmailTemplateCc] = @EmailTemplateCc ,
                   [EmailTemplateSubject] = @EmailTemplateSubject,
                   [EmailTemplateBody] = @EmailTemplateBody
             WHERE EmailTemplateId = @EmailTemplateId
		END
		ELSE
		BEGIN
			RAISERROR (N'Email template with specified name already exist!',16, 1);
		END
    END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[EmailTemplate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplate].[EmailTemplateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplateUpdate].[@EmailTemplateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplate].[EmailTemplateName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplateUpdate].[@EmailTemplateName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplate].[EmailTemplateName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplate].[EmailTemplateTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplateUpdate].[@EmailTemplateTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplate].[EmailTemplateCc]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplateUpdate].[@EmailTemplateCc]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplate].[EmailTemplateSubject]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplateUpdate].[@EmailTemplateSubject]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplate].[EmailTemplateBody]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplateUpdate].[@EmailTemplateBody]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[EmailTemplate].[EmailTemplateId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[EmailTemplateUpdate].[@EmailTemplateId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[EmailTemplateUpdate].[@EmailTemplateName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[EmailTemplateUpdate].[@EmailTemplateTo]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[EmailTemplateUpdate].[@EmailTemplateCc]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[EmailTemplateUpdate].[@EmailTemplateSubject]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[EmailTemplateUpdate].[@EmailTemplateBody]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="206" />
				<Property Name="Length" Value="1203" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Artem Dolya&#xD;&#xA;-- Create date: 2010-05-13&#xD;&#xA;-- Description:&#x9;Inserts new email template record&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.EmailTemplateUpdate&#xD;&#xA;&#x9;@EmailTemplateId int,&#xD;&#xA;    @EmailTemplateName nvarchar(50) ,&#xD;&#xA;&#x9;@EmailTemplateTo nvarchar(250) = NULL ,&#xD;&#xA;&#x9;@EmailTemplateCc nvarchar(250) = NULL ,&#xD;&#xA;    @EmailTemplateSubject nvarchar(255) ,&#xD;&#xA;    @EmailTemplateBody nvarchar(MAX)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[ExpenseBasis]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ExpenseBasis].[ExpenseBasisId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ExpenseBasis].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="40" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ExpenseBasisListAll]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT b.ExpenseBasisId, Name
	  FROM dbo.ExpenseBasis AS b
	ORDER BY b.Name]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ExpenseBasis]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ExpenseBasis].[ExpenseBasisId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ExpenseBasis].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ExpenseBasis].[Name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="249" />
				<Property Name="Length" Value="397" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 7-24-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Retrieves the list of the Expense Bases&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[ExpenseBasisListAll]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[ExpenseCategory]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ExpenseCategory].[ExpenseCategoryId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ExpenseCategory].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ExpenseCategoryDelete]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	IF EXISTS (SELECT 1 FROM dbo.MonthlyExpense AS e WHERE e.ExpenseCategoryId = @ExpenseCategoryId)
	BEGIN
		RAISERROR(70010, 16, 1)
	END
	ELSE
	BEGIN
		DELETE
		  FROM dbo.ExpenseCategory
		 WHERE ExpenseCategoryId = @ExpenseCategoryId
	END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[MonthlyExpense]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpense].[ExpenseCategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ExpenseCategoryDelete].[@ExpenseCategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ExpenseCategory]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ExpenseCategory].[ExpenseCategoryId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ExpenseCategoryDelete].[@ExpenseCategoryId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="237" />
				<Property Name="Length" Value="589" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 7-22-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Deletes an Expense Category&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[ExpenseCategoryDelete]&#xD;&#xA;(&#xD;&#xA;&#x9;@ExpenseCategoryId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ExpenseCategoryInsert]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	INSERT INTO dbo.ExpenseCategory
	            (Name)
	     VALUES (@Name)]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ExpenseCategory]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ExpenseCategory].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ExpenseCategoryInsert].[@Name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ExpenseCategoryInsert].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="240" />
				<Property Name="Length" Value="415" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 7-22-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Inserts a new Expense Category&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[ExpenseCategoryInsert]&#xD;&#xA;(&#xD;&#xA;&#x9;@Name   NVARCHAR(25)&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ExpenseCategoryListAll]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT ec.ExpenseCategoryId, ec.Name
	  FROM dbo.ExpenseCategory AS ec
	ORDER BY ec.Name]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ExpenseCategory]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ExpenseCategory].[ExpenseCategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ExpenseCategory].[Name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="269" />
				<Property Name="Length" Value="432" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 7-22-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Retrieves the list of the categories for the fixed expenses&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[ExpenseCategoryListAll]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ExpenseCategoryUpdate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	UPDATE dbo.ExpenseCategory
	   SET Name = @Name
	 WHERE ExpenseCategoryId = @ExpenseCategoryId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ExpenseCategory]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ExpenseCategory].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ExpenseCategoryUpdate].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ExpenseCategory].[ExpenseCategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ExpenseCategoryUpdate].[@ExpenseCategoryId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ExpenseCategoryUpdate].[@ExpenseCategoryId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ExpenseCategoryUpdate].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="237" />
				<Property Name="Length" Value="475" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 7-22-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Updates an Expense Category&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[ExpenseCategoryUpdate]&#xD;&#xA;(&#xD;&#xA;&#x9;@ExpenseCategoryId   INT,&#xD;&#xA;&#x9;@Name                NVARCHAR(25)&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ExpensesClone]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;

	INSERT INTO [dbo].[ProjectExpense]
			   ([Name]
			   ,[Amount]
			   ,[Reimbursement]
			   ,[MilestoneId])
	 select Name, Amount, Reimbursement, @NewMilestoneId
	 from ProjectExpense
	 where MilestoneId = @OldMilestoneId
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ProjectExpense]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpense].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpense].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpense].[Reimbursement]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpense].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ExpensesClone].[@NewMilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ExpensesClone].[@OldMilestoneId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ExpensesClone].[@OldMilestoneId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ExpensesClone].[@NewMilestoneId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="160" />
				<Property Name="Length" Value="505" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-07-23&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE ExpensesClone&#xD;&#xA;&#x9;@OldMilestoneId INT, &#xD;&#xA;&#x9;@NewMilestoneId INT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[FinancialsGetByMilestone]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON;

	With MilestoneFinancials as 
	(SELECT f.ProjectId,
	       dbo.MakeDate(YEAR(MIN(f.Date)), MONTH(MIN(f.Date)), 1) AS FinancialDate,
	       dbo.MakeDate(YEAR(MIN(f.Date)), MONTH(MIN(f.Date)), dbo.GetDaysInMonth(MIN(f.Date))) AS MonthEnd,

	       SUM(f.PersonMilestoneDailyAmount) AS Revenue,

	       SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) AS RevenueNet,

	       ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0) AS Cogs,

--	       SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) -
--	       ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0) AS GrossMargin,

	       ISNULL(SUM(f.PersonHoursPerDay), 0) AS Hours,

	       (SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) -
	       ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0)) * 
	       ((SELECT SUM(c.FractionOfMargin) FROM dbo.Commission AS c WHERE c.ProjectId = f.ProjectId AND c.CommissionType = 1) / 100) AS SalesCommission,

	       SUM((f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount -
	            (ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * ISNULL(f.PersonHoursPerDay, 0)) *
	           (f.PracticeManagementCommissionSub + CASE f.PracticeManagerId WHEN f.PersonId THEN f.PracticeManagementCommissionOwn ELSE 0 END)) / 100 AS PracticeManagementCommission,
		   min(case when me.Expense is null then 0 else me.Expense end) as 'Expense',
		   min(case when me.ReimbursedExpense is null then 0 else me.ReimbursedExpense end) as 'ReimbursedExpense',
		   min(f.Discount) as Discount
	  FROM dbo.v_FinancialsRetrospective AS f
	  left join v_MilestoneExpenses as me on f.MilestoneId = me.MilestoneId
	 WHERE f.MilestoneId = @MilestoneId
	GROUP BY f.ProjectId
	)
	select
		ProjectId,
		FinancialDate,
		MonthEnd,
		Revenue,
		((Revenue + ReimbursedExpense) * (1 - Discount/100)) as 'RevenueNet',
		Cogs,
		((Revenue + ReimbursedExpense) * (1 - Discount/100)) - Cogs - Expense as 'GrossMargin',
		Hours,
		SalesCommission,
		PracticeManagementCommission,
		Expense,
		ReimbursedExpense
	from MilestoneFinancials]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneExpenses]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneExpenses].[milestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDaysInMonth]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonMilestoneDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonDiscountDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PayRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[OverheadRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonHoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[FractionOfMargin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[CommissionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagementCommissionSub]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagementCommissionOwn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneExpenses].[Expense]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneExpenses].[ReimbursedExpense]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[FinancialsGetByMilestone].[@MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[FinancialsGetByMilestone].[CTE1].[MilestoneFinancials]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[FinancialsGetByMilestone].[CTE1].[MilestoneFinancials].[ProjectId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[FinancialsGetByMilestone].[CTE1].[MilestoneFinancials].[FinancialDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[MakeDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[FinancialsGetByMilestone].[CTE1].[MilestoneFinancials].[MonthEnd]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[MakeDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[FinancialsGetByMilestone].[CTE1].[MilestoneFinancials].[Revenue]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[FinancialsGetByMilestone].[CTE1].[MilestoneFinancials].[RevenueNet]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[FinancialsGetByMilestone].[CTE1].[MilestoneFinancials].[Cogs]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[FinancialsGetByMilestone].[CTE1].[MilestoneFinancials].[Hours]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[FinancialsGetByMilestone].[CTE1].[MilestoneFinancials].[SalesCommission]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[FinancialsGetByMilestone].[CTE1].[MilestoneFinancials].[PracticeManagementCommission]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[FinancialsGetByMilestone].[CTE1].[MilestoneFinancials].[Expense]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[FinancialsGetByMilestone].[CTE1].[MilestoneFinancials].[ReimbursedExpense]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[FinancialsGetByMilestone].[CTE1].[MilestoneFinancials].[Discount]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[FinancialsGetByMilestone].[@MilestoneId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="289" />
				<Property Name="Length" Value="2602" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 9-11-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;9-24-2008&#xD;&#xA;-- Description:&#x9;Selects summary financils for the specified milestone.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.FinancialsGetByMilestone&#xD;&#xA;(&#xD;&#xA;&#x9;@MilestoneId      INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[FinancialsGetByMilestonePerson]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT f.ProjectId,
	       dbo.MakeDate(YEAR(MIN(f.Date)), MONTH(MIN(f.Date)), 1) AS FinancialDate,
	       dbo.MakeDate(YEAR(MIN(f.Date)), MONTH(MIN(f.Date)), dbo.GetDaysInMonth(MIN(f.Date))) AS MonthEnd,

	       SUM(f.PersonMilestoneDailyAmount) AS Revenue,

	       SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) AS RevenueNet,

	       ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0) AS Cogs,

	       SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) -
	       ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0) AS GrossMargin,

	       ISNULL(SUM(f.PersonHoursPerDay), 0) AS Hours,

	       SUM(f.PersonMilestoneDailyAmount - ISNULL(f.PayRate * f.PersonHoursPerDay, 0)) *
	       (SELECT SUM(c.FractionOfMargin) FROM dbo.Commission AS c WHERE c.ProjectId = f.ProjectId AND c.CommissionType = 1) / 100 AS SalesCommission,

	       SUM((f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount -
	            (ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * ISNULL(f.PersonHoursPerDay, 0)) *
	           (f.PracticeManagementCommissionSub + CASE f.PracticeManagerId WHEN f.PersonId THEN f.PracticeManagementCommissionOwn ELSE 0 END)) / 100 AS PracticeManagementCommission,
	           0.0 AS 'actualhours',
	           0.0 AS 'forecastedhours',
           ISNULL(SUM(vac.VacationHours), 0) AS 'VacationHours'
	  FROM dbo.v_FinancialsRetrospective AS f
      LEFT JOIN dbo.v_MilestonePersonVacations AS vac ON f.MilestoneId = vac.MilestoneId AND f.PersonId = vac.PersonId
	 WHERE f.MilestoneId = @MilestoneId AND f.PersonId = @PersonId
	GROUP BY f.ProjectId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonVacations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonVacations].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonVacations].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDaysInMonth]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonMilestoneDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonDiscountDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PayRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[OverheadRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonHoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[FractionOfMargin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[CommissionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagementCommissionSub]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagementCommissionOwn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonVacations].[VacationHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[FinancialsGetByMilestonePerson].[@MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[FinancialsGetByMilestonePerson].[@PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[FinancialsGetByMilestonePerson].[@MilestoneId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[FinancialsGetByMilestonePerson].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="308" />
				<Property Name="Length" Value="2149" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 9-15-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;9-22-2008&#xD;&#xA;-- Description:&#x9;Selects summary financils for the specified milestone-person association.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[FinancialsGetByMilestonePerson]&#xD;&#xA;(&#xD;&#xA;&#x9;@MilestoneId      INT,&#xD;&#xA;&#x9;@PersonId         INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[FinancialsGetByMilestonePersonEntry]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT f.ProjectId,
	       dbo.MakeDate(YEAR(MIN(f.Date)), MONTH(MIN(f.Date)), 1) AS FinancialDate,
	       dbo.MakeDate(YEAR(MIN(f.Date)), MONTH(MIN(f.Date)), dbo.GetDaysInMonth(MIN(f.Date))) AS MonthEnd,

	       SUM(f.PersonMilestoneDailyAmount) AS Revenue,

	       SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) AS RevenueNet,

	       ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0) AS Cogs,

	       SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) -
	       ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0) AS GrossMargin,

	       ISNULL(SUM(f.PersonHoursPerDay), 0) AS Hours,

	       SUM(f.PersonMilestoneDailyAmount - ISNULL(f.PayRate * f.PersonHoursPerDay, 0)) *
	       (SELECT SUM(c.FractionOfMargin) FROM dbo.Commission AS c WHERE c.ProjectId = f.ProjectId AND c.CommissionType = 1) / 100 AS SalesCommission,

	       SUM((f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount -
	            (ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * ISNULL(f.PersonHoursPerDay, 0)) *
	           (f.PracticeManagementCommissionSub + CASE f.PracticeManagerId WHEN f.PersonId THEN f.PracticeManagementCommissionOwn ELSE 0 END)) / 100 AS PracticeManagementCommission,
           0.0 AS 'actualhours',
           0.0 AS 'forecastedhours',
           ISNULL(SUM(vac.VacationHours), 0) AS 'VacationHours'
	  FROM dbo.v_FinancialsRetrospective AS f
	  LEFT JOIN dbo.v_MilestonePersonVacations AS vac ON f.MilestoneId = vac.MilestoneId AND f.PersonId = vac.PersonId AND vac.StartDate = f.EntryStartDate
	 WHERE f.MilestoneId = @MilestoneId AND f.PersonId = @PersonId AND f.EntryStartDate = @EntryStartDate
	GROUP BY f.ProjectId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonVacations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonVacations].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonVacations].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonVacations].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[EntryStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDaysInMonth]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonMilestoneDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonDiscountDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PayRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[OverheadRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonHoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[FractionOfMargin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[CommissionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagementCommissionSub]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagementCommissionOwn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonVacations].[VacationHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[FinancialsGetByMilestonePersonEntry].[@MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[FinancialsGetByMilestonePersonEntry].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[FinancialsGetByMilestonePersonEntry].[@EntryStartDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[FinancialsGetByMilestonePersonEntry].[@MilestoneId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[FinancialsGetByMilestonePersonEntry].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[FinancialsGetByMilestonePersonEntry].[@EntryStartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="308" />
				<Property Name="Length" Value="2251" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 9-11-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;9-22-2008&#xD;&#xA;-- Description:&#x9;Selects summary financils for the specified milestone-person association.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.FinancialsGetByMilestonePersonEntry&#xD;&#xA;(&#xD;&#xA;&#x9;@MilestoneId      INT,&#xD;&#xA;&#x9;@PersonId         INT,&#xD;&#xA;&#x9;@EntryStartDate   DATETIME&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[FinancialsGetByMilestonePersonPeriod]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT f.ProjectId,
	       dbo.MakeDate(YEAR(MIN(f.Date)), MONTH(MIN(f.Date)), 1) AS FinancialDate,
	       dbo.MakeDate(YEAR(MIN(f.Date)), MONTH(MIN(f.Date)), dbo.GetDaysInMonth(MIN(f.Date))) AS MonthEnd,

	       SUM(f.PersonMilestoneDailyAmount) AS Revenue,

	       SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) AS RevenueNet,

	       ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0) AS Cogs,

	       SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) -
	       ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0) AS GrossMargin,

	       ISNULL(SUM(f.PersonHoursPerDay), 0) AS Hours,

	       SUM(f.PersonMilestoneDailyAmount - ISNULL(f.PayRate * f.PersonHoursPerDay, 0)) *
	       (SELECT SUM(c.FractionOfMargin) FROM dbo.Commission AS c WHERE c.ProjectId = f.ProjectId AND c.CommissionType = 1) / 100 AS SalesCommission,

	       SUM((f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount -
	            (ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * ISNULL(f.PersonHoursPerDay, 0)) *
	           (f.PracticeManagementCommissionSub + CASE f.PracticeManagerId WHEN f.PersonId THEN f.PracticeManagementCommissionOwn ELSE 0 END)) / 100 AS PracticeManagementCommission
	  FROM dbo.v_FinancialsRetrospective AS f
	 WHERE f.MilestoneId = @MilestoneId AND f.PersonId = @PersonId AND f.EntryStartDate = @EntryStartDate
	GROUP BY f.ProjectId, YEAR(f.Date), MONTH(f.Date)]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDaysInMonth]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonMilestoneDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonDiscountDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PayRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[OverheadRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonHoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[FractionOfMargin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[CommissionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagementCommissionSub]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagementCommissionOwn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[FinancialsGetByMilestonePersonPeriod].[@MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[FinancialsGetByMilestonePersonPeriod].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[EntryStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[FinancialsGetByMilestonePersonPeriod].[@EntryStartDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[FinancialsGetByMilestonePersonPeriod].[@MilestoneId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[FinancialsGetByMilestonePersonPeriod].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[FinancialsGetByMilestonePersonPeriod].[@EntryStartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="308" />
				<Property Name="Length" Value="1993" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 9-11-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;9-18-2008&#xD;&#xA;-- Description:&#x9;Selects summary financils for the specified milestone-person association.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[FinancialsGetByMilestonePersonPeriod]&#xD;&#xA;(&#xD;&#xA;&#x9;@MilestoneId      INT,&#xD;&#xA;&#x9;@PersonId         INT,&#xD;&#xA;&#x9;@EntryStartDate   DATETIME&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[FinancialsGetByMilestonePersonsMonthly]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT f.ProjectId,
		   f.PersonId,
	       dbo.MakeDate(YEAR(MIN(f.Date)), MONTH(MIN(f.Date)), 1) AS FinancialDate,
	       dbo.MakeDate(YEAR(MIN(f.Date)), MONTH(MIN(f.Date)), dbo.GetDaysInMonth(MIN(f.Date))) AS MonthEnd,

	       SUM(f.PersonMilestoneDailyAmount) AS Revenue,

	       SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) AS RevenueNet,

	       ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0) AS Cogs,

	       SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) -
	       ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0) AS GrossMargin,

	       ISNULL(SUM(f.PersonHoursPerDay), 0) AS Hours,

	       SUM(f.PersonMilestoneDailyAmount - ISNULL(f.PayRate * f.PersonHoursPerDay, 0)) *
	       (SELECT SUM(c.FractionOfMargin) FROM dbo.Commission AS c WHERE c.ProjectId = f.ProjectId AND c.CommissionType = 1) / 100 AS SalesCommission,

	       SUM((f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount -
	            (ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * ISNULL(f.PersonHoursPerDay, 0)) *
	           (f.PracticeManagementCommissionSub + CASE f.PracticeManagerId WHEN f.PersonId THEN f.PracticeManagementCommissionOwn ELSE 0 END)) / 100 AS PracticeManagementCommission
	  FROM dbo.v_FinancialsRetrospective AS f
	 WHERE f.MilestoneId = @MilestoneId AND f.PersonId IS NOT NULL--AND f.PersonId = @PersonId AND f.EntryStartDate = @EntryStartDate
	GROUP BY f.ProjectId, f.PersonId, YEAR(f.Date), MONTH(f.Date)]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDaysInMonth]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonMilestoneDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonDiscountDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PayRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[OverheadRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonHoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[FractionOfMargin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[CommissionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagementCommissionSub]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagementCommissionOwn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[FinancialsGetByMilestonePersonsMonthly].[@MilestoneId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[FinancialsGetByMilestonePersonsMonthly].[@MilestoneId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1686" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.FinancialsGetByMilestonePersonsMonthly&#xD;&#xA;(&#xD;&#xA;&#x9;@MilestoneId      INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[FinancialsGetByMilestonePersonsTotal]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT f.ProjectId,
		   f.PersonId,
	       dbo.MakeDate(YEAR(MIN(f.Date)), MONTH(MIN(f.Date)), 1) AS FinancialDate,
	       dbo.MakeDate(YEAR(MIN(f.Date)), MONTH(MIN(f.Date)), dbo.GetDaysInMonth(MIN(f.Date))) AS MonthEnd,

	       SUM(f.PersonMilestoneDailyAmount) AS Revenue,

	       SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) AS RevenueNet,

	       ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0) AS Cogs,

	       SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) -
	       ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0) AS GrossMargin,

	       ISNULL(SUM(f.PersonHoursPerDay), 0) AS Hours,

	       SUM(f.PersonMilestoneDailyAmount - ISNULL(f.PayRate * f.PersonHoursPerDay, 0)) *
	       (SELECT SUM(c.FractionOfMargin) FROM dbo.Commission AS c WHERE c.ProjectId = f.ProjectId AND c.CommissionType = 1) / 100 AS SalesCommission,

	       SUM((f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount -
	            (ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * ISNULL(f.PersonHoursPerDay, 0)) *
	           (f.PracticeManagementCommissionSub + CASE f.PracticeManagerId WHEN f.PersonId THEN f.PracticeManagementCommissionOwn ELSE 0 END)) / 100 AS PracticeManagementCommission,
           0.0 AS 'actualhours',
           0.0 AS 'forecastedhours',
           ISNULL(SUM(vac.VacationHours), 0) AS 'VacationHours'
	  FROM dbo.v_FinancialsRetrospective AS f
	  LEFT JOIN dbo.v_MilestonePersonVacations AS vac ON f.MilestoneId = vac.MilestoneId AND f.PersonId = vac.PersonId AND vac.StartDate = f.EntryStartDate
	 WHERE f.MilestoneId = @MilestoneId AND f.PersonId IS NOT NULL --AND f.PersonId = @PersonId AND f.EntryStartDate = @EntryStartDate
	GROUP BY f.ProjectId, f.PersonId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonVacations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonVacations].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonVacations].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonVacations].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[EntryStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDaysInMonth]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonMilestoneDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonDiscountDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PayRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[OverheadRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonHoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[FractionOfMargin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[CommissionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagementCommissionSub]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagementCommissionOwn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonVacations].[VacationHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[FinancialsGetByMilestonePersonsTotal].[@MilestoneId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[FinancialsGetByMilestonePersonsTotal].[@MilestoneId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="308" />
				<Property Name="Length" Value="2256" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 9-11-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;9-22-2008&#xD;&#xA;-- Description:&#x9;Selects summary financils for the specified milestone-person association.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.FinancialsGetByMilestonePersonsTotal&#xD;&#xA;(&#xD;&#xA;&#x9;@MilestoneId      INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[FinancialsGetByProject]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON;

	With ProjectFinancials as 
	(SELECT f.ProjectId,
	       dbo.MakeDate(YEAR(MIN(f.Date)), MONTH(MIN(f.Date)), 1) AS FinancialDate,
	       dbo.MakeDate(YEAR(MIN(f.Date)), MONTH(MIN(f.Date)), dbo.GetDaysInMonth(MIN(f.Date))) AS MonthEnd,

	       SUM(f.PersonMilestoneDailyAmount) AS Revenue,

	       SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) AS RevenueNet,

	       ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0) AS Cogs,

--	       SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) -
--	       ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0) AS GrossMargin,

	       ISNULL(SUM(f.PersonHoursPerDay), 0) AS Hours,

		   (SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) -
	       ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0)) *
	       ((SELECT SUM(c.FractionOfMargin) FROM dbo.Commission AS c WHERE c.ProjectId = f.ProjectId AND c.CommissionType = 1) / 100) AS SalesCommission,

	       SUM((f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount -
	            (ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * ISNULL(f.PersonHoursPerDay, 0)) *
	           (f.PracticeManagementCommissionSub + CASE f.PracticeManagerId WHEN f.PersonId THEN f.PracticeManagementCommissionOwn ELSE 0 END)) / 100 AS PracticeManagementCommission,
		   min(case when pe.ExpenseSum is null then 0 else pe.ExpenseSum end) as 'Expense',
		   min(case when pe.ReimbursedExpenseSum is null then 0 else pe.ReimbursedExpenseSum end) as 'ReimbursedExpense',
		   min(f.Discount) as Discount
	  FROM dbo.v_FinancialsRetrospective AS f
	  left join v_ProjectTotalExpenses as pe on f.ProjectId = pe.ProjectId
	 WHERE f.ProjectId = @ProjectId
	GROUP BY f.ProjectId)
	select
		ProjectId,
		FinancialDate,
		MonthEnd,
		Revenue,
		((Revenue + ReimbursedExpense) * (1 - Discount/100)) as 'RevenueNet',
		Cogs,
		((Revenue + ReimbursedExpense) * (1 - Discount/100)) - Cogs - Expense as 'GrossMargin',
		Hours,
		SalesCommission,
		PracticeManagementCommission,
		Expense,
		ReimbursedExpense
	from ProjectFinancials]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_ProjectTotalExpenses]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_ProjectTotalExpenses].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDaysInMonth]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonMilestoneDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonDiscountDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PayRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[OverheadRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonHoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[FractionOfMargin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[CommissionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagementCommissionSub]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagementCommissionOwn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_ProjectTotalExpenses].[ExpenseSum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_ProjectTotalExpenses].[ReimbursedExpenseSum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[FinancialsGetByProject].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[FinancialsGetByProject].[CTE1].[ProjectFinancials]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[FinancialsGetByProject].[CTE1].[ProjectFinancials].[ProjectId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[FinancialsGetByProject].[CTE1].[ProjectFinancials].[FinancialDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[MakeDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[FinancialsGetByProject].[CTE1].[ProjectFinancials].[MonthEnd]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[MakeDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[FinancialsGetByProject].[CTE1].[ProjectFinancials].[Revenue]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[FinancialsGetByProject].[CTE1].[ProjectFinancials].[RevenueNet]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[FinancialsGetByProject].[CTE1].[ProjectFinancials].[Cogs]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[FinancialsGetByProject].[CTE1].[ProjectFinancials].[Hours]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[FinancialsGetByProject].[CTE1].[ProjectFinancials].[SalesCommission]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[FinancialsGetByProject].[CTE1].[ProjectFinancials].[PracticeManagementCommission]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[FinancialsGetByProject].[CTE1].[ProjectFinancials].[Expense]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[FinancialsGetByProject].[CTE1].[ProjectFinancials].[ReimbursedExpense]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[FinancialsGetByProject].[CTE1].[ProjectFinancials].[Discount]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[FinancialsGetByProject].[@ProjectId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="286" />
				<Property Name="Length" Value="2588" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 9-11-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;9-25-2008&#xD;&#xA;-- Description:&#x9;Selects summary financils for the specified project&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.FinancialsGetByProject&#xD;&#xA;(&#xD;&#xA;&#x9;@ProjectId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[FinancialsListByProjectPeriod]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	
	DECLARE @ProjectIDs TABLE
	(
		ResultId INT
	)
	
	INSERT INTO @ProjectIDs
	SELECT * FROM dbo.ConvertStringListIntoTable(@ProjectId)

	SELECT f.ProjectId,
	       dbo.MakeDate(YEAR(MIN(f.Date)), MONTH(MIN(f.Date)), 1) AS FinancialDate,
	       dbo.MakeDate(YEAR(MIN(f.Date)), MONTH(MIN(f.Date)), dbo.GetDaysInMonth(MIN(f.Date))) AS MonthEnd,

	       SUM(f.PersonMilestoneDailyAmount) AS Revenue,

	       SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) AS RevenueNet,

	       ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0) AS Cogs,

	       SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) -
	       ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0) AS GrossMargin,

	       ISNULL(SUM(f.PersonHoursPerDay), 0) AS Hours,

	       SUM(f.PersonMilestoneDailyAmount - ISNULL(f.PayRate * f.PersonHoursPerDay, 0)) *
	       (SELECT SUM(c.FractionOfMargin) FROM dbo.Commission AS c WHERE c.ProjectId = f.ProjectId AND c.CommissionType = 1) / 100 AS SalesCommission,

	       SUM((f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount -
	            (ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * ISNULL(f.PersonHoursPerDay, 0)) *
	           (f.PracticeManagementCommissionSub + CASE f.PracticeManagerId WHEN f.PersonId THEN f.PracticeManagementCommissionOwn ELSE 0 END)) / 100 AS PracticeManagementCommission
	  FROM dbo.v_FinancialsRetrospective AS f
	 WHERE  
		f.ProjectId IN (SELECT * FROM @ProjectIDs) 
		AND f.Date BETWEEN @StartDate AND @EndDate
	GROUP BY f.ProjectId, YEAR(f.Date), MONTH(f.Date)]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[FinancialsListByProjectPeriod].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConvertStringListIntoTable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDaysInMonth]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonMilestoneDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonDiscountDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PayRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[OverheadRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonHoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[FractionOfMargin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[CommissionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagementCommissionSub]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagementCommissionOwn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[FinancialsListByProjectPeriod].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[FinancialsListByProjectPeriod].[@EndDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[FinancialsListByProjectPeriod].[@ProjectIDs]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[FinancialsListByProjectPeriod].[@ProjectIDs].[ResultId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[FinancialsListByProjectPeriod].[@ProjectId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="2500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[FinancialsListByProjectPeriod].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[FinancialsListByProjectPeriod].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="307" />
				<Property Name="Length" Value="2128" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 9-11-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;9-18-2008&#xD;&#xA;-- Description:&#x9;Selects financils for the specified project and period grouped by months&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[FinancialsListByProjectPeriod]&#xD;&#xA;(&#xD;&#xA;&#x9;@ProjectId   VARCHAR(2500),&#xD;&#xA;&#x9;@StartDate   DATETIME,&#xD;&#xA;&#x9;@EndDate     DATETIME&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[FinancialsListByProjectPeriodTotal]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT f.ProjectId,
	       dbo.MakeDate(YEAR(MIN(f.Date)), MONTH(MIN(f.Date)), 1) AS FinancialDate,
	       dbo.MakeDate(YEAR(MIN(f.Date)), MONTH(MIN(f.Date)), dbo.GetDaysInMonth(MIN(f.Date))) AS MonthEnd,

	       SUM(f.PersonMilestoneDailyAmount) AS Revenue,

	       SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) AS RevenueNet,

	       ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0) AS Cogs,

	       SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) -
	       ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0) AS GrossMargin,

	       ISNULL(SUM(f.PersonHoursPerDay), 0) AS Hours,

	       SUM(f.PersonMilestoneDailyAmount - ISNULL(f.PayRate * f.PersonHoursPerDay, 0)) *
	       (SELECT SUM(c.FractionOfMargin) FROM dbo.Commission AS c WHERE c.ProjectId = f.ProjectId AND c.CommissionType = 1) / 100 AS SalesCommission,

	       SUM((f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount -
	            (ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * ISNULL(f.PersonHoursPerDay, 0)) *
	           (f.PracticeManagementCommissionSub + CASE f.PracticeManagerId WHEN f.PersonId THEN f.PracticeManagementCommissionOwn ELSE 0 END)) / 100 AS PracticeManagementCommission
	  FROM dbo.v_FinancialsRetrospective AS f
	 WHERE 
		f.ProjectId IN (SELECT * FROM dbo.ConvertStringListIntoTable(@ProjectId)) 
		AND f.Date BETWEEN @StartDate AND @EndDate
	GROUP BY f.ProjectId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDaysInMonth]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonMilestoneDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonDiscountDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PayRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[OverheadRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonHoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[FractionOfMargin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[CommissionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagementCommissionSub]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagementCommissionOwn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[FinancialsListByProjectPeriodTotal].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConvertStringListIntoTable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[FinancialsListByProjectPeriodTotal].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[FinancialsListByProjectPeriodTotal].[@EndDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[FinancialsListByProjectPeriodTotal].[@ProjectId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="2500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[FinancialsListByProjectPeriodTotal].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[FinancialsListByProjectPeriodTotal].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="265" />
				<Property Name="Length" Value="1945" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 12-04-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Selects financils for the specified project and period&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.FinancialsListByProjectPeriodTotal&#xD;&#xA;(&#xD;&#xA;&#x9;@ProjectId   VARCHAR(2500),&#xD;&#xA;&#x9;@StartDate   DATETIME,&#xD;&#xA;&#x9;@EndDate     DATETIME&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_BilledTime_Milestone]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[BilledTime].[MilestoneId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[BilledTime]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_BilledTime_Person]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[BilledTime].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[BilledTime]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Client_Person]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Client].[DefaultSalespersonID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Commission_CommissionType]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Commission].[CommissionType]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[CommissionType].[CommissionTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[CommissionType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Commission_MarginTypeId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Commission].[MarginTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[MarginType].[MarginTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[MarginType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Commission_Person]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Commission].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Commission_Project]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Commission].[ProjectId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_DefaultCommission_CommissionType]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[DefaultCommission].[type]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[DefaultCommission]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[CommissionType].[CommissionTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[CommissionType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_DefaultCommission_MarginTypeId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[DefaultCommission].[MarginTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[DefaultCommission]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[MarginType].[MarginTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[MarginType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_DefaultCommission_Person]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[DefaultCommission].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[DefaultCommission]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_DefaultRecruiterCommissionItem_Id]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItem].[DefaultRecruiterCommissionHeaderId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItem]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[DefaultRecruiterCommissionHeaderId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Milestone_Project]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_MilestonePerson_MilestoneId]">
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_MilestonePerson_PersonId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[MilestonePerson].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_MilestonePersonEntry_PersonRoleId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[PersonRoleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[PersonRole].[PersonRoleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[PersonRole]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_MonthlyExpense_ExpenseBasisId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[MonthlyExpense].[ExpenseBasisId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[MonthlyExpense]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[ExpenseBasis].[ExpenseBasisId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[ExpenseBasis]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_MonthlyExpense_ExpenseCategoryId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[MonthlyExpense].[ExpenseCategoryId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[MonthlyExpense]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[ExpenseCategory].[ExpenseCategoryId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[ExpenseCategory]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_MonthlyExpense_WeekPaidOptionId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[MonthlyExpense].[WeekPaidOptionId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[MonthlyExpense]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[WeekPaidOption].[WeekPaidOptionId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[WeekPaidOption]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Note_NoteTarget]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Note].[NoteTargetId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Note]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[NoteTarget].[NoteTargetId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[NoteTarget]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Note_NoteTarget1]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Note].[NoteTargetId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Note]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[NoteTarget].[NoteTargetId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[NoteTarget]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Note_PersonId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Note].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Note]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Opportunity_ClientId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Opportunity].[ClientId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Opportunity]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Opportunity_OpportunityStatusId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityStatusId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Opportunity]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[OpportunityStatus].[OpportunityStatusId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[OpportunityStatus]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Opportunity_Person]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Opportunity].[OwnerId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Opportunity]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Opportunity_PracticeId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Opportunity].[PracticeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Opportunity]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Opportunity_ProjectGroup]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Opportunity].[GroupId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Opportunity]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[ProjectGroup].[GroupId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[ProjectGroup]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Opportunity_RevenueType]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Opportunity].[RevenueType]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Opportunity]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[RevenueType].[RevenueTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[RevenueType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Opportunity_SalespersonId]">
			<Property Name="OnDeleteAction" Value="2" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Opportunity].[SalespersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Opportunity]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_OpportunityTransition_OpportunityId]">
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[OpportunityId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[OpportunityTransition]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Opportunity]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_OpportunityTransition_OpportunityTransitionStatusId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[OpportunityTransitionStatusId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[OpportunityTransition]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[OpportunityTransitionStatus].[OpportunityTransitionStatusId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[OpportunityTransitionStatus]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_OpportunityTransition_Person]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[TargetPersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[OpportunityTransition]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_OpportunityTransition_PersonId]">
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[OpportunityTransition]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_OverheadFixedRate_RateType]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[OverheadFixedRate].[RateType]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[OverheadFixedRate]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[OverheadRateType].[OverheadRateTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[OverheadRateType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_OverheadFixedRateTimescale_OverheadFixedRateId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale].[OverheadFixedRateId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[OverheadFixedRate].[OverheadFixedRateId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[OverheadFixedRate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_OverheadFixedRateTimescale_TimescaleId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale].[TimescaleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Timescale].[TimescaleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Timescale]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Pay_Person]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Pay].[Person]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Pay]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Pay_Timescale]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Pay].[Timescale]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Pay]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Timescale].[TimescaleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Timescale]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Permission_PermissionTarget]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Permission].[TargetType]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Permission]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[PermissionTarget].[PermissionTypeID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[PermissionTarget]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Permission_Person]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Permission].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Permission]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Person_Person]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Person].[ManagerId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Person_PersonStatusId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[PersonStatus].[PersonStatusId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[PersonStatus]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Person_Practice]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Person].[DefaultPractice]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Person_Practice1]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Person].[PracticeOwnedId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Person_SeniorityId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Person].[SeniorityId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Seniority].[SeniorityId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Seniority]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_PersonCalendar_Date]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[PersonCalendar].[Date]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PersonCalendar]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Calendar]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_PersonCalendar_PersonId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[PersonCalendar].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PersonCalendar]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_PersonCalendarAuto_Date]">
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[Date]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Calendar]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_PersonCalendarAuto_PersonId]">
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Practice_Person]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Practice].[PracticeManagerId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Project_Client]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Project].[ClientId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Project_Practice1]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Project].[PracticeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Project_ProjectManager]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Project].[ProjectManagerId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_Project_ProjectStatusId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Project].[ProjectStatusId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[ProjectStatus].[ProjectStatusId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[ProjectStatus]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_ProjectBillingInfo_ProjectId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[ProjectId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_ProjectExpense_Milestone]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[ProjectExpense].[MilestoneId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ProjectExpense]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_RecruiterCommission_Recruit]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruitId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[RecruiterCommission]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_RecruiterCommission_Recruiter]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruiterId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[RecruiterCommission]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_TimeEntries_MilestonePerson]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[TimeEntries].[MilestonePersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[TimeEntries]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_TimeEntries_TimeType]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[TimeEntries].[TimeTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[TimeEntries]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[TimeType].[TimeTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[TimeType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90ForeignKeyConstraint" Name="[dbo].[FK_UserActivityLog_ActivityTypeID]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ActivityTypeID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[UserActivityLog]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[UserActivityType].[ActivityTypeID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[UserActivityType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GenerateNewProjectNumber]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
DECLARE @StringCounter NVARCHAR(7)
	DECLARE @Counter INT

	SET @Counter = 0

	WHILE  (1 = 1)
	BEGIN

		SET @StringCounter = CAST(@Counter AS NVARCHAR(7))
		IF LEN ( @StringCounter ) = 1
			SET @StringCounter =  '0' + @StringCounter

		SET @ProjectNumber = dbo.MakeNumberFromDate('P', GETDATE()) + @StringCounter
	
		IF NOT EXISTS (SELECT 1 FROM [dbo].[Project] as p WHERE p.[ProjectNumber] = @ProjectNumber)
			BREAK

		SET @Counter = @Counter + 1
	END
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GenerateNewProjectNumber].[@ProjectNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeNumberFromDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectNumber]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GenerateNewProjectNumber].[@ProjectNumber]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="12" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="572" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.GenerateNewProjectNumber (@ProjectNumber AS NVARCHAR (12) OUTPUT) AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[GetCounsultantsNumber]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetCounsultantsNumber].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetCounsultantsNumber].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[IsCompanyInternal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	DECLARE @Num int

	SELECT @Num = COUNT(DISTINCT pe.PersonId) FROM dbo.Person pe 
	INNER JOIN dbo.Pay AS pa ON pe.PersonId = pa.Person
	INNER JOIN dbo.Practice AS pr ON pe.DefaultPractice = pr.PracticeId 
	WHERE ((@StartDate >= pa.StartDate AND @StartDate <= pa.EndDate) OR
		(@EndDate IS NULL OR @EndDate <= pa.EndDate)) AND
		(pr.IsCompanyInternal = 0) AND
		(pe.PersonStatusId not in (3, 4))

	RETURN @Num
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="201" />
							<Property Name="Length" Value="762" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-07-02&#xD;&#xA;-- Description:&#x9;Gets Counsultant number&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION dbo.GetCounsultantsNumber&#xD;&#xA;(&#xD;&#xA;&#x9;@StartDate           DATETIME,&#xD;&#xA;&#x9;@EndDate             DATETIME&#xD;&#xA;)&#xD;&#xA;RETURNS int&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetCounsultantsNumber].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetCounsultantsNumber].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[int]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[GetCurrentPayType]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[Timescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetCurrentPayType].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[EndDateOrig]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[EndDateOrig]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[Timescale]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[GetCurrentPayType].[CTE1].[CurrentPay]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[GetCurrentPayType].[CTE1].[CurrentPay].[Timescale]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Pay].[Timescale]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	DECLARE @result INT -- VARCHAR(50)
	SET @result = NULL  --'n/a'

	DECLARE @Now DATETIME
	SET @Now = GETDATE();

	WITH CurrentPay AS (
	SELECT p.Timescale
	  FROM dbo.v_Pay AS p
	 WHERE p.PersonId = @PersonId
	   AND @Now >= p.StartDate
	   AND @Now < p.EndDateOrig
	UNION ALL
	SELECT TOP 1
	       p.Timescale
	  FROM dbo.v_Pay AS p
	 WHERE p.PersonId = @PersonId
	   AND NOT EXISTS(SELECT 1
	                    FROM dbo.v_Pay AS p
	                   WHERE p.PersonId = @PersonId
	                     AND @Now >= p.StartDate
	                     AND @Now < p.EndDateOrig)
	   AND @Now < p.StartDate
	)
	SELECT @result = c.Timescale
	FROM CurrentPay AS c
--	INNER JOIN dbo.Timescale AS t ON c.Timescale = t.TimescaleId
	
	RETURN @result
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="211" />
							<Property Name="Length" Value="1080" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2009-11-09&#xD;&#xA;-- Description:&#x9;Returns person's current pay type&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION GetCurrentPayType&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId int&#xD;&#xA;)&#xD;&#xA;RETURNS INT --VARCHAR(50) &#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetCurrentPayType].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[int]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[GetDatabaseVersion]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[GetDatabaseVersion].[CTE1].[LastUpdates]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[GetDatabaseVersion].[CTE1].[LastUpdates].[name]">
									<Relationship Name="ExpressionDependencies">
										<Entry />
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[GetDatabaseVersion].[CTE1].[LastUpdates].[modify_date]">
									<Relationship Name="ExpressionDependencies">
										<Entry />
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[GetDatabaseVersion].[CTE1].[LastUpdates].[Type]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	DECLARE @result VARCHAR(100);
	
	WITH LastUpdates AS (
		SELECT TOP 1 [name],
					 modify_date,
					 'Proc' AS 'Type'
		FROM sys.procedures
		ORDER BY modify_date DESC 
		UNION
		SELECT TOP 1 [name],
					 modify_date,
					 'Table' AS 'Type'
		FROM sys.tables
		ORDER BY modify_date DESC 
		UNION
		SELECT TOP 1 [name],
					 modify_date,
					 'View' AS 'Type'
		FROM sys.[views]
		ORDER BY modify_date DESC 
		UNION
		SELECT TOP 1 obj.[name],
					 obj.modify_date,
					 'Func' AS 'Type'
		FROM sys.objects AS obj
		WHERE obj.[type] IN (N'FN', N'IF', N'TF', N'FS', N'FT')
		ORDER BY obj.modify_date DESC 
	)
	SELECT TOP 1  @result = 'Last updated: ' + CONVERT(VARCHAR(10), modify_date, 101) FROM LastUpdates
	ORDER BY modify_date DESC 
	
	RETURN @result
	-- RETURN 'v0.675 - 2009/11/27 - 01'
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="204" />
							<Property Name="Length" Value="1114" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2009-11-05&#xD;&#xA;-- Description:&#x9;Returns database version&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION dbo.GetDatabaseVersion()&#xD;&#xA;RETURNS VARCHAR(100)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Property Name="Length" Value="100" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[varchar]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[GetDaysInMonth]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDaysInMonth].[@date]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	DECLARE @year INT
	DECLARE @month INT

	SET @year = YEAR(@date)
	SET @month = MONTH(@date)

	RETURN
		CASE
			WHEN @month IN (1, 3, 5, 7, 8, 10, 12) THEN 31
			WHEN @month IN (4, 6, 9, 11) THEN 30
			ELSE
				CASE
					WHEN (@year % 4 = 0 AND @year % 100 != 0) OR (@year % 400 = 0)
					THEN 29
					ELSE 28
				END
		END
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="227" />
							<Property Name="Length" Value="657" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="--The source is &#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 6-19-2008&#xD;&#xA;-- Description:&#x9;Gets a number of days in the month&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION [dbo].[GetDaysInMonth]&#xD;&#xA;(&#xD;&#xA;&#x9;@date DATETIME&#xD;&#xA;)&#xD;&#xA;RETURNS INT&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetDaysInMonth].[@date]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[int]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[GetDefaultHoursPerDay]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[DefaultHoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDefaultHoursPerDay].[@Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDefaultHoursPerDay].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	DECLARE @res INT

	SELECT @res = SUM(DefaultHoursPerDay) 
	FROM dbo.v_Pay
	WHERE @Date BETWEEN StartDate AND ISNULL(EndDate, dbo.GetFutureDate()) AND 
		  @PersonId = PersonId

	RETURN ISNULL(@res, 8)
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="219" />
							<Property Name="Length" Value="535" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2009-10-29&#xD;&#xA;-- Description:&#x9;Gets default hours per day for given date&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION GetDefaultHoursPerDay&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId INT,&#xD;&#xA;&#x9;@Date DATETIME&#xD;&#xA;)&#xD;&#xA;RETURNS INT&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetDefaultHoursPerDay].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetDefaultHoursPerDay].[@Date]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[int]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[GetEmployeeNumber]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetEmployeeNumber].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetEmployeeNumber].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Timescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	DECLARE @Num int

	SELECT @Num = COUNT(DISTINCT pe.PersonId) FROM dbo.Person pe 
	INNER JOIN dbo.Pay AS pa ON pe.PersonId = pa.Person 
	WHERE ((@StartDate >= pa.StartDate AND @StartDate <= pa.EndDate) OR
		(@EndDate IS NULL OR @EndDate <= pa.EndDate)) AND
		(pa.Timescale = 1 OR pa.Timescale = 2) AND
		(pe.PersonStatusId not in (3, 4))

	RETURN @Num
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="198" />
							<Property Name="Length" Value="697" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-07-02&#xD;&#xA;-- Description:&#x9;Gets Employee number&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION dbo.GetEmployeeNumber&#xD;&#xA;(&#xD;&#xA;&#x9;@StartDate           DATETIME,&#xD;&#xA;&#x9;@EndDate             DATETIME&#xD;&#xA;)&#xD;&#xA;RETURNS int&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetEmployeeNumber].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetEmployeeNumber].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[int]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[GetFutureDate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsSchemaBound" Value="True" />
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	RETURN '2029-12-31'
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="254" />
							<Property Name="Length" Value="369" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 6-24-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;8-12-2008&#xD;&#xA;-- Description:&#x9;Gets a future date.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION [dbo].[GetFutureDate]()&#xD;&#xA;RETURNS DATETIME&#xD;&#xA;WITH SCHEMABINDING&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[datetime]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[GetHoursPerYear]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsSchemaBound" Value="True" />
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	RETURN 2080;
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="265" />
							<Property Name="Length" Value="374" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-28-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;8-26-2008&#xD;&#xA;-- Description:&#x9;Gets a number of hours pe year&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION [dbo].[GetHoursPerYear]()&#xD;&#xA;RETURNS DECIMAL&#xD;&#xA;WITH SCHEMABINDING&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Property Name="Precision" Value="18" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[decimal]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[GetMilestonePersonHoursInPeriod]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[decimal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[VacationDays]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ExpectedHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetMilestonePersonHoursInPeriod].[@MilestonePersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	-- Declare the return variable here
	DECLARE @HoursInPeriod decimal(18,2)

	select @HoursInPeriod = SUM(mp.HoursPerDay * mp.VacationDays + mp.ExpectedHours)
	from v_MilestonePerson mp 
	where mp.MilestonePersonId=@MilestonePersonId
	
	-- Return the result of the function
	RETURN @HoursInPeriod

END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="238" />
							<Property Name="Length" Value="709" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-08-04&#xD;&#xA;-- Description:&#x9;Get number of hours in period for specified milestone person&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION GetMilestonePersonHoursInPeriod &#xD;&#xA;(&#xD;&#xA;&#x9;-- Add the parameters for the function here&#xD;&#xA;&#x9;@MilestonePersonId int&#xD;&#xA;)&#xD;&#xA;RETURNS decimal(18,2)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetMilestonePersonHoursInPeriod].[@MilestonePersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Property Name="Scale" Value="2" />
						<Property Name="Precision" Value="18" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[decimal]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[GetNumberAvaliableHours]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetCurrentPayType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberAvaliableHours].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDefaultHoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberAvaliableHours].[@startDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberAvaliableHours].[@endDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[DayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDefaultHoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberProjectedHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberAvaliableHours].[@ActiveProjects]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberAvaliableHours].[@ProjectedProjects]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberAvaliableHours].[@ExperimentalProjects]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[GetNumberAvaliableHours].[CTE1].[DefaultHours]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[GetNumberAvaliableHours].[CTE1].[DefaultHours].[Date]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_PersonCalendar].[Date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[GetNumberAvaliableHours].[CTE1].[DefaultHours].[defhrs]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[GetDefaultHoursPerDay]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[ BEGIN
    DECLARE @res INT ;

   IF dbo.GetCurrentPayType(@PersonId) = 2 
   BEGIN	
		WITH    DefaultHours
				  AS ( SELECT   Date,
								dbo.GetDefaultHoursPerDay(PersonId, Date) AS defhrs
					   FROM     dbo.v_PersonCalendar
					   WHERE    Date BETWEEN @startDate AND @endDate
								AND @PersonId = PersonId
								AND DayOff = 0
					 )
			SELECT  @res = SUM(defhrs)
			FROM    DefaultHours
	END 
    ELSE
		SET @res = ISNULL(dbo.GetNumberProjectedHours(@PersonId, @startDate, @endDate, @ActiveProjects, @ProjectedProjects, @ExperimentalProjects), 0)
    
    RETURN @res
   END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="223" />
							<Property Name="Length" Value="1085" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2009-10-29&#xD;&#xA;-- Description:&#x9;Gets number of avaliable hours for the person&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION dbo.GetNumberAvaliableHours&#xD;&#xA;    (&#xD;&#xA;      @PersonId INT,&#xD;&#xA;      @startDate DATETIME,&#xD;&#xA;      @endDate DATETIME,&#xD;&#xA;   &#x9;  @ActiveProjects BIT = 1,&#xD;&#xA;&#x9;  @ProjectedProjects BIT = 1,&#xD;&#xA;&#x9;  @ExperimentalProjects BIT = 1&#x9;  &#xD;&#xA;    )&#xD;&#xA;RETURNS INT&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetNumberAvaliableHours].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetNumberAvaliableHours].[@startDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetNumberAvaliableHours].[@endDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetNumberAvaliableHours].[@ActiveProjects]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetNumberAvaliableHours].[@ProjectedProjects]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetNumberAvaliableHours].[@ExperimentalProjects]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[int]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[GetNumberHolidayDays]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberHolidayDays].[@startDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberHolidayDays].[@endDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberHolidayDays].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[DayOff]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	DECLARE @res INT

	SELECT @res = COUNT(*) 
	FROM dbo.v_PersonCalendar
	WHERE Date BETWEEN @startDate AND @endDate AND 
		  @PersonId = PersonId AND 
		  DayOff = 1 AND
		  DATEPART(dw, Date) != 7 AND DATEPART(dw, Date) != 1

	RETURN @res
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="220" />
							<Property Name="Length" Value="600" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2009-10-29&#xD;&#xA;-- Description:&#x9;Gets number of holiday days for the person&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION GetNumberHolidayDays&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId INT,&#xD;&#xA;&#x9;@startDate DATETIME,&#xD;&#xA;&#x9;@endDate DATETIME&#xD;&#xA;)&#xD;&#xA;RETURNS INT&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetNumberHolidayDays].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetNumberHolidayDays].[@startDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetNumberHolidayDays].[@endDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[int]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[GetNumberHolidayDaysWithWeekends]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberHolidayDaysWithWeekends].[@startDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberHolidayDaysWithWeekends].[@endDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberHolidayDaysWithWeekends].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[DayOff]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	DECLARE @res INT

	SELECT @res = COUNT(*) 
	FROM dbo.v_PersonCalendar
	WHERE Date BETWEEN @startDate AND @endDate AND 
		  @PersonId = PersonId AND 
		  DayOff = 1

	RETURN @res
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="220" />
							<Property Name="Length" Value="559" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2009-10-29&#xD;&#xA;-- Description:&#x9;Gets number of holiday days for the person&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION [dbo].[GetNumberHolidayDaysWithWeekends]&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId INT,&#xD;&#xA;&#x9;@startDate DATETIME,&#xD;&#xA;&#x9;@endDate DATETIME&#xD;&#xA;)&#xD;&#xA;RETURNS INT&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetNumberHolidayDaysWithWeekends].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetNumberHolidayDaysWithWeekends].[@startDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetNumberHolidayDaysWithWeekends].[@endDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[int]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[GetNumberProjectedHours]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberProjectedHours].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberProjectedHours].[@startDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberProjectedHours].[@endDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberProjectedHours].[@ActiveProjects]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberProjectedHours].[@ProjectedProjects]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberProjectedHours].[@ExperimentalProjects]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[ BEGIN
    DECLARE @res INT ;

/*
----------- Project Status ------------
1	Inactive
2	Projected
3	Active
4	Completed
5	Experimental
*/

    SELECT  @res = SUM(s.HoursPerDay)
    FROM    dbo.v_MilestonePersonSchedule AS s
    INNER JOIN dbo.Project AS pr ON pr.ProjectId = s.ProjectId
    WHERE s.PersonId = @PersonId 
			AND s.Date BETWEEN @startDate AND @endDate AND 
			(@ActiveProjects = 1 AND pr.ProjectStatusId = 3 OR		--  3 - Active
			 @ProjectedProjects = 1 AND pr.ProjectStatusId = 2 OR	--  2 - Projected
			 @ExperimentalProjects = 1 AND pr.ProjectStatusId = 5)	--  5 - Experimental

    RETURN @res
   END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="223" />
							<Property Name="Length" Value="1113" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2009-10-29&#xD;&#xA;-- Description:&#x9;Gets number of projected hours for the person&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION dbo.GetNumberProjectedHours&#xD;&#xA;    (&#xD;&#xA;      @PersonId INT,&#xD;&#xA;      @startDate DATETIME,&#xD;&#xA;      @endDate DATETIME,&#xD;&#xA;   &#x9;  @ActiveProjects BIT = 1,&#xD;&#xA;&#x9;  @ProjectedProjects BIT = 1,&#xD;&#xA;&#x9;  @ExperimentalProjects BIT = 1&#x9;  &#xD;&#xA;    )&#xD;&#xA;RETURNS INT&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetNumberProjectedHours].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetNumberProjectedHours].[@startDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetNumberProjectedHours].[@endDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetNumberProjectedHours].[@ActiveProjects]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetNumberProjectedHours].[@ProjectedProjects]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetNumberProjectedHours].[@ExperimentalProjects]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[int]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[GetNumberWorkingDays]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberWorkingDays].[@startDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberWorkingDays].[@endDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberWorkingDays].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[DayOff]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	DECLARE @res INT

	SELECT @res = COUNT(*) 
	FROM dbo.v_PersonCalendar
	WHERE Date BETWEEN @startDate AND @endDate AND 
		  @PersonId = PersonId AND 
		  DayOff = 0 
		  -- DATEPART(dw, Date) != 7 AND DATEPART(dw, Date) != 1

	RETURN @res
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="220" />
							<Property Name="Length" Value="600" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2009-10-29&#xD;&#xA;-- Description:&#x9;Gets number of working days for the person&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION GetNumberWorkingDays&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId INT,&#xD;&#xA;&#x9;@startDate DATETIME,&#xD;&#xA;&#x9;@endDate DATETIME&#xD;&#xA;)&#xD;&#xA;RETURNS INT&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetNumberWorkingDays].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetNumberWorkingDays].[@startDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetNumberWorkingDays].[@endDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[int]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[GetOpportunityHistory]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OpportunityHistory]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OpportunityHistory].[Status]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OpportunityHistory].[TransitionDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OpportunityHistory].[Responsible]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OpportunityHistory].[NoteText]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OpportunityHistory].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetOpportunityHistory].[@optId]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	DECLARE @history VARCHAR(5000)
	SET @history = ''

	SELECT @history = @history + [Status] + ' ' + CONVERT(VARCHAR(20), TransitionDate, 100) + ' by ' + Responsible + ', Note: ' + NoteText + '. | '
	FROM v_OpportunityHistory
	WHERE OpportunityId = @optId
	ORDER BY TransitionDate

	RETURN @history

END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="226" />
							<Property Name="Length" Value="634" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 28 Sept. 2009&#xD;&#xA;-- Description:&#x9;Converts opportunity history rows into string&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION dbo.GetOpportunityHistory &#xD;&#xA;(&#xD;&#xA;&#x9;@optId int&#xD;&#xA;)&#xD;&#xA;RETURNS VARCHAR(5000)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetOpportunityHistory].[@optId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Property Name="Length" Value="5000" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[varchar]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[GetOverlappingPlacementDays]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetOverlappingPlacementDays].[@mileStone_ED]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetOverlappingPlacementDays].[@person_SD]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetOverlappingPlacementDays].[@person_ED]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetOverlappingPlacementDays].[@mileStone_SD]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
/*
Examples:
                                       person_SD    person_ED   mileStone_SD mileStone_ED   result
select dbo.GetOverlappingPlacementDays('20080501', '20080503', '20080505', '20080515')      --0
select dbo.GetOverlappingPlacementDays('20080506', '20080508', '20080505', '20080515')      --1
select dbo.GetOverlappingPlacementDays('20080518', '20080522', '20080505', '20080515')      --0
select dbo.GetOverlappingPlacementDays('20080514', '20080522', '20080505', '20080515')      --1
select dbo.GetOverlappingPlacementDays('20080515', '20080522', '20080505', '20080515')      --1
*/
BEGIN
DECLARE @ReturnValue BIT

SELECT @ReturnValue = CASE
    WHEN @mileStone_ED < @person_SD or @person_ED < @mileStone_SD then 0
    WHEN (datediff(day,
               CASE WHEN @person_SD <= @mileStone_SD THEN @mileStone_SD ELSE @person_SD END,
               CASE WHEN @person_ED <= @mileStone_ED THEN @person_ED ELSE @mileStone_ED END)) > -1 THEN 1
    ELSE null
    END
RETURN @ReturnValue
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="237" />
							<Property Name="Length" Value="1430" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Alexey Zvekov&#xD;&#xA;-- Create date: 8-5-2008&#xD;&#xA;-- Updated by:  &#xD;&#xA;-- Update date: &#xD;&#xA;-- Description:&#x9;Creates a date from its parts.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION [dbo].[GetOverlappingPlacementDays]&#xD;&#xA;(&#xD;&#xA;&#x9;@person_SD&#x9;&#x9;DATETIME, &#xD;&#xA;&#x9;@person_ED&#x9;&#x9;DATETIME, &#xD;&#xA;&#x9;@mileStone_SD&#x9;DATETIME, &#xD;&#xA;&#x9;@mileStone_ED&#x9;DATETIME&#xD;&#xA;)&#xD;&#xA;RETURNS BIT&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetOverlappingPlacementDays].[@person_SD]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetOverlappingPlacementDays].[@person_ED]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetOverlappingPlacementDays].[@mileStone_SD]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetOverlappingPlacementDays].[@mileStone_ED]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[bit]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[GetWeeklyUtilization]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetWeeklyUtilization].[@Step]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetWeeklyUtilization].[@DaysForward]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetWeeklyUtilization].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberHolidayDaysWithWeekends]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetWeeklyUtilization].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberAvaliableHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetWeeklyUtilization].[@ActiveProjects]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetWeeklyUtilization].[@ProjectedProjects]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetWeeklyUtilization].[@ExperimentalProjects]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetNumberProjectedHours]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	DECLARE @rep VARCHAR(2500)
	SET @rep = ''

    -- Iterator through days
    DECLARE @w INT
    SET @w = 0
    
    DECLARE @start DATETIME
    DECLARE @end DATETIME
    DECLARE @wUtil INT
    DECLARE @av INT 
    DECLARE @vac INT 
    
    -- Iterate through all days
    WHILE @w*@Step < @DaysForward
    BEGIN
		SET @start = DATEADD(day, @w*@Step, @StartDate)
		SET @end = DATEADD(day, (@w + 1)*@Step - 1, @StartDate)
		
		SET @vac = dbo.GetNumberHolidayDaysWithWeekends(@PersonId, @start, @end)
		
		IF @vac >= @Step
			SET @wUtil = -1
		ELSE  
		BEGIN
			SET @av = dbo.GetNumberAvaliableHours(@PersonId, @start, @end, @ActiveProjects, @ProjectedProjects, @ExperimentalProjects)
			
			IF (@av = 0 OR @av IS NULL)
				SET @wUtil = 0
			ELSE 		
				SET @wUtil = CEILING(
					100*ISNULL(dbo.GetNumberProjectedHours(@PersonId, @start, @end, @ActiveProjects, @ProjectedProjects, @ExperimentalProjects), 0) / 
						dbo.GetNumberAvaliableHours(@PersonId, @start, @end, @ActiveProjects, @ProjectedProjects, @ExperimentalProjects))
		END 
				
		SET @rep = @rep + convert(VARCHAR, ISNULL(@wUtil, 0)) + ','
		
		SET @w = @w + 1
    END

	RETURN @rep

END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="226" />
							<Property Name="Length" Value="1676" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2009-11-20&#xD;&#xA;-- Description:&#x9;Get utilization report by weeks for given person&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION dbo.GetWeeklyUtilization&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId INT,&#xD;&#xA;&#x9;@StartDate DATETIME,&#xD;&#xA;&#x9;@Step INT = 7,&#xD;&#xA;&#x9;@DaysForward INT = 184,&#xD;&#xA;&#x9;@ActiveProjects BIT = 1,&#xD;&#xA;&#x9;@ProjectedProjects BIT = 1,&#xD;&#xA;&#x9;@ExperimentalProjects BIT = 1&#x9;  &#xD;&#xA;)&#xD;&#xA;RETURNS VARCHAR(2500)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetWeeklyUtilization].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetWeeklyUtilization].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetWeeklyUtilization].[@Step]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[7]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetWeeklyUtilization].[@DaysForward]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[184]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetWeeklyUtilization].[@ActiveProjects]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetWeeklyUtilization].[@ProjectedProjects]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetWeeklyUtilization].[@ExperimentalProjects]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Property Name="Length" Value="2500" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[varchar]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[IsDateRangeWithingTimeInterval]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[IsDateRangeWithingTimeInterval].[@RangeStart]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[IsDateRangeWithingTimeInterval].[@IntervalStart]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[IsDateRangeWithingTimeInterval].[@RangeEnd]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[IsDateRangeWithingTimeInterval].[@IntervalEnd]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN

	-- When interval start date is between range start and end dates
	if datediff(day, @RangeStart, @IntervalStart) >= 0 AND
		datediff(day, @IntervalStart, @RangeEnd) > 0
		return 1

	-- When interval end date is between range start and end dates
	if datediff(day, @RangeStart, @IntervalEnd) > 0 AND
		datediff(day, @IntervalEnd, @RangeEnd) >= 0
		return 1

	-- When interval is within range
	if datediff(day, @RangeStart, @IntervalStart) > 0 AND
		datediff(day, @IntervalEnd, @RangeEnd) > 0
		return 1

	-- When range is within interval
	if datediff(day, @IntervalStart, @RangeStart) >= 0 AND
		datediff(day, @RangeEnd, @IntervalEnd) >= 0
		return 1

	return 0

END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="228" />
							<Property Name="Length" Value="1096" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-05-07&#xD;&#xA;-- Description:&#x9;If given date range is withing given time interval&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION dbo.IsDateRangeWithingTimeInterval &#xD;&#xA;(&#xD;&#xA;&#x9;@IntervalStart datetime,&#xD;&#xA;&#x9;@IntervalEnd datetime,&#xD;&#xA;&#x9;@RangeStart datetime,&#xD;&#xA;&#x9;@RangeEnd datetime&#xD;&#xA;)&#xD;&#xA;RETURNS bit&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[IsDateRangeWithingTimeInterval].[@IntervalStart]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[IsDateRangeWithingTimeInterval].[@IntervalEnd]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[IsDateRangeWithingTimeInterval].[@RangeStart]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[IsDateRangeWithingTimeInterval].[@RangeEnd]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[bit]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[IsSomeonesManager]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[IsSomeonesManager].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[ManagerId]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	DECLARE @CurrentStatus INT 

	-- Check persons current status
	SELECT @CurrentStatus = p.PersonStatusId 
	FROM dbo.Person AS p 
	WHERE p.PersonId = @PersonId
	
	--	If the person is not currently active
	--		it cannot be someones manager, 
	--		so return false
	IF @CurrentStatus != 1
		RETURN 0

	-- Count number of persons who are wokring 
	--	under this manager
	DECLARE @SubCount INT 
	SET @SubCount = 0
	
	SELECT @SubCount = COUNT(*)
	FROM dbo.Person AS p 
	WHERE p.ManagerId = @PersonId

	RETURN CASE
				WHEN @SubCount = 0 THEN 0
				ELSE 1
			END  
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="227" />
							<Property Name="Length" Value="901" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-01-18&#xD;&#xA;-- Description:&#x9;Determines if the person is a manager to somebody&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION dbo.IsSomeonesManager &#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId INT &#xD;&#xA;)&#xD;&#xA;RETURNS BIT &#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[IsSomeonesManager].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[bit]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ListManagersSubordinates]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
	SET NOCOUNT ON;

	SELECT p.FirstName, p.LastName, p.PersonId, p.IsDefaultManager
	FROM dbo.Person AS p 
	WHERE p.ManagerId = @PersonId
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[IsDefaultManager]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ListManagersSubordinates].[@PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ListManagersSubordinates].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="206" />
				<Property Name="Length" Value="525" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-04-19&#xD;&#xA;-- Description:&#x9;Lists manager's subordinates&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.ListManagersSubordinates &#xD;&#xA;&#x9;@PersonId INT AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[MakeDate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate].[@Day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate].[@Year]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate].[@Month]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDaysInMonth]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	DECLARE @Result DATETIME

	IF @Day IS NULL
	BEGIN
		SET @Result = dbo.MakeDate(@Year, @Month, dbo.GetDaysInMonth(dbo.MakeDate(@Year, @Month, 1)))
	END
	ELSE
	BEGIN
		SET @Result = CAST(CAST(@Year AS VARCHAR) + '-' + CAST(@Month AS VARCHAR) + '-' + CAST(@Day AS VARCHAR) AS DATETIME)
	END

	RETURN @Result
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="241" />
							<Property Name="Length" Value="685" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 7-28-2008&#xD;&#xA;-- Updated by:  &#xD;&#xA;-- Update date: &#xD;&#xA;-- Description:&#x9;Creates a date from its parts.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION [dbo].[MakeDate]&#xD;&#xA;(&#xD;&#xA;&#x9;@Year    INT,&#xD;&#xA;&#x9;@Month   INT,&#xD;&#xA;&#x9;@Day     INT = NULL&#xD;&#xA;)&#xD;&#xA;RETURNS DATETIME&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MakeDate].[@Year]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MakeDate].[@Month]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MakeDate].[@Day]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[datetime]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[MakeDefaultRecruiterCommissionText]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItem]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItem].[Amount]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItem].[HoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItem].[DefaultRecruiterCommissionHeaderId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDefaultRecruiterCommissionText].[@DefaultRecruiterCommissionHeaderId]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	DECLARE @Result NVARCHAR(4000)

	SELECT @Result = ISNULL(@Result + ', $', '$') +
	       CAST(i.Amount AS NVARCHAR) + ' after ' +
	       CAST(ROUND(i.HoursToCollect / 8, 0) AS NVARCHAR) + ' days'
	  FROM dbo.DefaultRecruiterCommissionItem AS i
	 WHERE i.DefaultRecruiterCommissionHeaderId = @DefaultRecruiterCommissionHeaderId
	ORDER BY i.HoursToCollect

	RETURN @Result
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="275" />
							<Property Name="Length" Value="806" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 9-02-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Converts the Default Recruiter commission items to the text line.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION [dbo].[MakeDefaultRecruiterCommissionText]&#xD;&#xA;(&#xD;&#xA;&#x9;@DefaultRecruiterCommissionHeaderId   INT&#xD;&#xA;)&#xD;&#xA;RETURNS NVARCHAR(4000)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MakeDefaultRecruiterCommissionText].[@DefaultRecruiterCommissionHeaderId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Property Name="Length" Value="4000" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[nvarchar]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[MakeNumberFromDate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeNumberFromDate].[@date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeNumberFromDate].[@cod]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
    DECLARE @year INT
	DECLARE @month INT
    DECLARE @StringMonth VARCHAR(2)

    SET @year = YEAR(@date)
	SET @month = MONTH(@date)
    
    SET @StringMonth = CAST(DATEPART(mm, @date) AS VARCHAR(2))
    IF LEN ( @StringMonth ) = 1
			SET @StringMonth =  '0' + @StringMonth

    RETURN @cod + @StringMonth + SUBSTRING(CAST(DATEPART(yy, @date) AS VARCHAR), 3 , 2)
	 
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="243" />
							<Property Name="Length" Value="743" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Alexey Zvekov&#xD;&#xA;-- Create date: 8-1-2008&#xD;&#xA;-- Updated by:  &#xD;&#xA;-- Update date: &#xD;&#xA;-- Description:&#x9;Creates a specific number from date.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION [dbo].[MakeNumberFromDate]&#xD;&#xA;(&#xD;&#xA;    @cod CHAR,&#xD;&#xA;&#x9;@date DATETIME&#x9;&#x9;&#xD;&#xA;)&#xD;&#xA;RETURNS VARCHAR(5)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MakeNumberFromDate].[@cod]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="1" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[char]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MakeNumberFromDate].[@date]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Property Name="Length" Value="5" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[varchar]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[MarginType]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[MarginType].[MarginTypeId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[MarginType].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[MembershipDelete]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	DELETE FROM dbo.aspnet_UsersInRoles
	 WHERE UserId = @UserId

	DELETE FROM dbo.aspnet_Membership
	 WHERE UserId = @UserId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MembershipDelete].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MembershipDelete].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="238" />
				<Property Name="Length" Value="465" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 8-18-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date: &#xD;&#xA;-- Description:&#x9;Removes the users membership&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[MembershipDelete]&#xD;&#xA;(&#xD;&#xA;&#x9;@UserId   UNIQUEIDENTIFIER&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[Milestone]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Milestone].[ProjectId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Milestone].[MilestoneId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Milestone].[Description]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Milestone].[Amount]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Milestone].[StartDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Milestone].[ProjectedDeliveryDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Milestone].[ActualDeliveryDate]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Milestone].[IsHourlyAmount]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Milestone].[IsChargeable]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Milestone].[ConsultantsCanAdjust]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[MilestoneClone]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

begin transaction

	-- Create a milestone record
	INSERT INTO dbo.Milestone
	            (ProjectId, Description, Amount, StartDate, ProjectedDeliveryDate, IsHourlyAmount)
	     SELECT ISNULL(@ProjectId, m.ProjectId),
	            SUBSTRING(m.Description + ' (cloned)', 1, 255),
	            m.Amount,
	            CASE 
	             WHEN @ProjectId IS NOT NULL THEN m.StartDate
	             ELSE DATEADD(dd, 1, m.ProjectedDeliveryDate)
	            END,
	            CASE 
	             WHEN @ProjectId IS NOT NULL THEN m.ProjectedDeliveryDate
	             ELSE DATEADD(dd, @CloneDuration, m.ProjectedDeliveryDate)
	            END,
	            m.IsHourlyAmount
	       FROM dbo.Milestone AS m
	      WHERE m.MilestoneId = @MilestoneId

	SET @MilestoneCloneId = SCOPE_IDENTITY()

	-- Copy the persons list
	INSERT INTO dbo.MilestonePerson
	            (MilestoneId, PersonId)
	     SELECT @MilestoneCloneId, mp.PersonId
	       FROM dbo.MilestonePerson AS mp
	      WHERE mp.MilestoneId = @MilestoneId

	INSERT INTO dbo.MilestonePersonEntry
	            (MilestonePersonId, StartDate, EndDate, PersonRoleId, Amount, HoursPerDay)
	     SELECT mp.MilestonePersonId, mp.StartDate, mp.ProjectedDeliveryDate, mp.PersonRoleId, mp.Amount, mp.HoursPerDay
	       FROM (
	             SELECT mpc.MilestonePersonId,
	                    m.StartDate,
	                    m.ProjectedDeliveryDate,
	                    mpe.PersonRoleId,
	                    mpe.Amount,
	                    mpe.HoursPerDay,
	                    ROW_NUMBER() OVER(PARTITION BY mp.PersonId ORDER BY mpe.StartDate DESC) AS RowNum
	               FROM dbo.MilestonePersonEntry AS mpe
	                    INNER JOIN dbo.MilestonePerson AS mp
	                        ON mp.MilestonePersonId = mpe.MilestonePersonId AND mp.MilestoneId = @MilestoneId
	                    INNER JOIN dbo.MilestonePerson AS mpc
	                        ON mp.PersonId = mpc.PersonId AND mpc.MilestoneId = @MilestoneCloneId
	                    INNER JOIN dbo.Milestone AS m
	                        ON m.MilestoneId = mpc.MilestoneId
	            ) AS mp
	      -- Take a last mileston-person entry if several exists
	      WHERE mp.RowNum = 1

	exec dbo.ExpensesClone @OldMilestoneId = @MilestoneId, @NewMilestoneId = @MilestoneCloneId
	
	exec dbo.NotesClone @OldTargetId = @MilestoneId, @NewTargetId = @MilestoneCloneId
	
commit transaction]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[IsHourlyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneClone].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneClone].[@CloneDuration]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[IsHourlyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneClone].[@MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneClone].[@MilestoneCloneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[PersonRoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[PersonRoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[PersonRoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ExpensesClone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ExpensesClone].[@OldMilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ExpensesClone].[@NewMilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NotesClone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NotesClone].[@OldTargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NotesClone].[@NewTargetId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneClone].[@MilestoneId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneClone].[@CloneDuration]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneClone].[@ProjectId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneClone].[@MilestoneCloneId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="282" />
				<Property Name="Length" Value="2916" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 11-11-2008&#xD;&#xA;-- Updated by:  &#xD;&#xA;-- Update date: &#xD;&#xA;-- Description:&#x9;Clones a specified milestone and sets a specified duration to new one.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[MilestoneClone]&#xD;&#xA;(&#xD;&#xA;&#x9;@MilestoneId        INT,&#xD;&#xA;&#x9;@CloneDuration      INT,&#xD;&#xA;&#x9;@ProjectId&#x9;&#x9;&#x9;INT = NULL,&#xD;&#xA;&#x9;@MilestoneCloneId   INT OUTPUT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[MilestoneDelete]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	IF EXISTS (SELECT TOP 1 1 FROM dbo.v_TimeUnrestrictedEntriesUnrestricted AS te WHERE te.MilestoneId = @MilestoneId)
	BEGIN
		RAISERROR (70017, 16, 1)
	END
	ELSE
	IF EXISTS (SELECT TOP 1 1 FROM dbo.v_ProjectExpenses AS pe WHERE pe.MilestoneId = @MilestoneId)
	BEGIN
		RAISERROR (70018, 16, 1)
	END
	ELSE
	BEGIN

		-- Start logging session
		EXEC dbo.SessionLogPrepare @UserLogin = @UserLogin

		DELETE FROM dbo.Note
			  WHERE TargetId = @MilestoneId 
						AND NoteTargetId = 1

		DELETE FROM dbo.Milestone
			  WHERE MilestoneId = @MilestoneId

		-- End logging session
		EXEC dbo.SessionLogUnprepare

	END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_TimeUnrestrictedEntriesUnrestricted]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeUnrestrictedEntriesUnrestricted].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneDelete].[@MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_ProjectExpenses]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_ProjectExpenses].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneDelete].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[NoteTargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogUnprepare]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneDelete].[@MilestoneId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneDelete].[@UserLogin]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="255" />
				<Property Name="Length" Value="1012" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-22-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date: 11-27-2008&#xD;&#xA;-- Description:&#x9;Deletes a Milestone&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[MilestoneDelete]&#xD;&#xA;(&#xD;&#xA;&#x9;@MilestoneId   INT,&#xD;&#xA;&#x9;@UserLogin     NVARCHAR(255)&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[MilestoneGetById]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT m.ClientId,
	       m.ProjectId,
	       m.MilestoneId,
	       m.Description,
	       m.Amount,
	       m.StartDate,
	       m.ProjectedDeliveryDate,
	       m.ActualDeliveryDate,
	       m.IsHourlyAmount,
	       m.ProjectName,
	       m.ProjectStartDate,
	       m.ProjectEndDate,
	       m.Discount,
	       m.ClientName,
	       m.ExpectedHours,
	       m.SalesCommission,
	       m.PersonCount,
	       m.ProjectedDuration,
	       m.ConsultantsCanAdjust,
	       m.ClientIsChargeable,
	       m.ProjectIsChargeable,
	       m.MilestoneIsChargeable
	  FROM dbo.v_Milestone AS m
	 WHERE m.MilestoneId = @MilestoneId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ActualDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[IsHourlyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectEndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ClientName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ExpectedHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[SalesCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[PersonCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectedDuration]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ConsultantsCanAdjust]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ClientIsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectIsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[MilestoneIsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneGetById].[@MilestoneId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneGetById].[@MilestoneId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="251" />
				<Property Name="Length" Value="991" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-22-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;8-26-2008&#xD;&#xA;-- Description:&#x9;Gets a Milestone&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.MilestoneGetById&#xD;&#xA;(&#xD;&#xA;&#x9;@MilestoneId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[MilestoneInsert]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	-- Start logging session
	EXEC dbo.SessionLogPrepare @UserLogin = @UserLogin

	INSERT INTO dbo.Milestone
	            (ProjectId, Description, Amount, StartDate,
	             ProjectedDeliveryDate, ActualDeliveryDate, IsHourlyAmount, ConsultantsCanAdjust, IsChargeable)
	     VALUES (@ProjectId, @Description, @Amount, @StartDate,
	             @ProjectedDeliveryDate, @ActualDeliveryDate, @IsHourlyAmount, @ConsultantsCanAdjust, @IsChargeable)

	-- End logging session
	EXEC dbo.SessionLogUnprepare

	SET @MilestoneId = SCOPE_IDENTITY()]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[SessionLogPrepare]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneInsert].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ActualDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[IsHourlyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ConsultantsCanAdjust]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneInsert].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneInsert].[@Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneInsert].[@Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneInsert].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneInsert].[@ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneInsert].[@ActualDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneInsert].[@IsHourlyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneInsert].[@ConsultantsCanAdjust]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneInsert].[@IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogUnprepare]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneInsert].[@MilestoneId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneInsert].[@MilestoneId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneInsert].[@ProjectId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneInsert].[@Description]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneInsert].[@Amount]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneInsert].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneInsert].[@ProjectedDeliveryDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneInsert].[@ActualDeliveryDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneInsert].[@IsHourlyAmount]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneInsert].[@UserLogin]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneInsert].[@ConsultantsCanAdjust]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneInsert].[@IsChargeable]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="255" />
				<Property Name="Length" Value="1274" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-22-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;11-27-2008&#xD;&#xA;-- Description:&#x9;Inserts a Milestone&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.MilestoneInsert&#xD;&#xA;(&#xD;&#xA;&#x9;@MilestoneId              INT OUT,&#xD;&#xA;&#x9;@ProjectId                INT,&#xD;&#xA;&#x9;@Description              NVARCHAR(255),&#xD;&#xA;&#x9;@Amount                   DECIMAL(18,2),&#xD;&#xA;&#x9;@StartDate                DATETIME,&#xD;&#xA;&#x9;@ProjectedDeliveryDate    DATETIME,&#xD;&#xA;&#x9;@ActualDeliveryDate       DATETIME,&#xD;&#xA;&#x9;@IsHourlyAmount           BIT,&#xD;&#xA;&#x9;@UserLogin                NVARCHAR(255),&#xD;&#xA;&#x9;@ConsultantsCanAdjust&#x9;  BIT,&#xD;&#xA;&#x9;@IsChargeable&#x9;&#x9;&#x9;  BIT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[MilestoneListByProject]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT m.ClientId,
	       m.ProjectId,
	       m.MilestoneId,
	       m.Description,
	       m.Amount,
	       m.StartDate,
	       m.ProjectedDeliveryDate,
	       m.ActualDeliveryDate,
	       m.IsHourlyAmount,
	       m.ProjectName,
	       m.ProjectStartDate,
	       m.ProjectEndDate,
	       m.Discount,
	       m.ClientName,
	       m.ExpectedHours,
	       m.SalesCommission,
	       m.PersonCount,
	       m.ProjectedDuration,
	       m.ConsultantsCanAdjust,
	       m.ClientIsChargeable,
	       m.ProjectIsChargeable,
	       m.MilestoneIsChargeable
	  FROM dbo.v_Milestone AS m
	 WHERE m.ProjectId = @ProjectId
	ORDER BY m.StartDate, m.ProjectedDeliveryDate]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ActualDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[IsHourlyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectEndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ClientName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ExpectedHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[SalesCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[PersonCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectedDuration]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ConsultantsCanAdjust]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ClientIsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectIsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[MilestoneIsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneListByProject].[@ProjectId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneListByProject].[@ProjectId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="275" />
				<Property Name="Length" Value="1063" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-21-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;8-26-2008&#xD;&#xA;-- Description:&#x9;List Milestones by the specified Project&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.MilestoneListByProject&#xD;&#xA;(&#xD;&#xA;&#x9;@ProjectId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[MilestoneMove]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	IF @MoveFutureMilestones = 1
	BEGIN
		UPDATE mpe
		   SET StartDate = DATEADD(dd, @ShiftDays, mpe.StartDate),
		       EndDate = DATEADD(dd, @ShiftDays, mpe.EndDate)
		  FROM dbo.MilestonePersonEntry AS mpe
		       INNER JOIN dbo.MilestonePerson AS mp ON mpe.MilestonePersonId = mp.MilestonePersonId
		       INNER JOIN dbo.Milestone AS m ON mp.MilestoneId = m.MilestoneId
		       INNER JOIN dbo.Milestone AS sh ON m.ProjectId = sh.ProjectId AND m.StartDate > sh.StartDate
		 WHERE sh.MilestoneId = @MilestoneId

		UPDATE m
		   SET StartDate = DATEADD(dd, @ShiftDays, m.StartDate),
		       ProjectedDeliveryDate = DATEADD(dd, @ShiftDays, m.ProjectedDeliveryDate)
		  FROM dbo.Milestone AS m
		       INNER JOIN dbo.Milestone AS sh ON m.ProjectId = sh.ProjectId AND m.StartDate > sh.StartDate
		 WHERE sh.MilestoneId = @MilestoneId
	END

	UPDATE mpe
	   SET StartDate = DATEADD(dd, @ShiftDays, mpe.StartDate),
	       EndDate = DATEADD(dd, @ShiftDays, mpe.EndDate)
	  FROM dbo.MilestonePersonEntry AS mpe
	       INNER JOIN dbo.MilestonePerson AS mp ON mpe.MilestonePersonId = mp.MilestonePersonId
	       INNER JOIN dbo.Milestone AS sh ON mp.MilestoneId = sh.MilestoneId
	 WHERE sh.MilestoneId = @MilestoneId

	UPDATE dbo.Milestone
	   SET StartDate = DATEADD(dd, @ShiftDays, StartDate),
	       ProjectedDeliveryDate = DATEADD(dd, @ShiftDays, ProjectedDeliveryDate)
	 WHERE MilestoneId = @MilestoneId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[MilestoneMove].[@MoveFutureMilestones]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneMove].[@ShiftDays]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneMove].[@MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneMove].[@MilestoneId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneMove].[@ShiftDays]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneMove].[@MoveFutureMilestones]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="322" />
				<Property Name="Length" Value="1919" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 10-23-2008&#xD;&#xA;-- Updated by:  Anatoliy Lokshin&#xD;&#xA;-- Update date: 11-07-2008&#xD;&#xA;-- Description:&#x9;Moves the specified milestone and optionally future milestones forward and backward.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[MilestoneMove]&#xD;&#xA;(&#xD;&#xA;&#x9;@MilestoneId            INT,&#xD;&#xA;&#x9;@ShiftDays              INT,&#xD;&#xA;&#x9;@MoveFutureMilestones   BIT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[MilestoneMoveEnd]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;

	-- Update milestone end date
	UPDATE dbo.Milestone
	   SET ProjectedDeliveryDate = DATEADD(dd, @ShiftDays, ProjectedDeliveryDate)
	 WHERE MilestoneId = @MilestoneId
	 
	-- Save updated value to the variable
	DECLARE @NewMilestoneEndDate DATETIME
	
	SELECT @NewMilestoneEndDate = ProjectedDeliveryDate
	FROM dbo.Milestone
	WHERE MilestoneId = @MilestoneId
	
	-- Set milestone person entry end date to that value
	UPDATE mpe
	   SET EndDate = @NewMilestoneEndDate
	  FROM dbo.MilestonePersonEntry AS mpe
	       INNER JOIN dbo.MilestonePerson AS mp ON mpe.MilestonePersonId = mp.MilestonePersonId
	       INNER JOIN dbo.Milestone AS sh ON mp.MilestoneId = sh.MilestoneId
	 WHERE sh.MilestoneId = @MilestoneId AND mpe.MilestonePersonId = @MilestonePersonId
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneMoveEnd].[@ShiftDays]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneMoveEnd].[@MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneMoveEnd].[@MilestonePersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneMoveEnd].[@MilestoneId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneMoveEnd].[@MilestonePersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneMoveEnd].[@ShiftDays]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="219" />
				<Property Name="Length" Value="1151" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2009-11-10&#xD;&#xA;-- Description:&#x9;Moves just the end of the given milestone&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE MilestoneMoveEnd &#xD;&#xA;&#x9;@MilestoneId            INT,&#xD;&#xA;&#x9;@MilestonePersonId&#x9;&#x9;INT,&#xD;&#xA;&#x9;@ShiftDays              INT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[MilestonePerson]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[MilestonePerson].[MilestoneId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[MilestonePerson].[PersonId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[MilestonePerson].[MilestonePersonId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[MilestonePersonActivity]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
    BEGIN
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
        SET NOCOUNT ON ;

        SELECT  tes.TimeEntryId,
                tes.ObjectLastName,
                tes.ObjectFirstName,
                tes.ProjectName,
                tes.MilestoneName,
                tes.HoursPerDay,
                tes.ActualHours,
                tes.MilestoneDate
        FROM    dbo.v_TimeEntries AS tes
        WHERE   tes.MilestonePersonId = @MilestonePersonId
        ORDER BY tes.MilestoneDate
    END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_TimeEntries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[TimeEntryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[ObjectLastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[ObjectFirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[ProjectName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[MilestoneName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[ActualHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[MilestoneDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonActivity].[@MilestonePersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonActivity].[@MilestonePersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="213" />
				<Property Name="Length" Value="859" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-01-25&#xD;&#xA;-- Description:&#x9;Report on milestone-person activity&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.MilestonePersonActivity&#xD;&#xA;    @MilestonePersonId INT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[MilestonePersonDelete]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	IF EXISTS (SELECT TOP 1 1 FROM dbo.TimeEntries AS te WHERE te.MilestonePersonId = @MilestonePersonId)
	BEGIN
		RAISERROR (70019, 16, 1)
	END
	ELSE
	BEGIN
		EXEC dbo.MilestonePersonDeleteEntries @MilestonePersonId = @MilestonePersonId
		
		DELETE
		  FROM dbo.MilestonePerson
		 WHERE MilestonePersonId = @MilestonePersonId
	END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[TimeEntries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonDelete].[@MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonDeleteEntries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonDeleteEntries].[@MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonDelete].[@MilestonePersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="324" />
				<Property Name="Length" Value="765" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 6-3-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;9-09-2008&#xD;&#xA;-- Description:&#x9;Removes persons-milestones details and association for the specified milestone and person.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[MilestonePersonDelete]&#xD;&#xA;(&#xD;&#xA;&#x9;@MilestonePersonId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[MilestonePersonDeleteEntries]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	SET NOCOUNT ON
	IF EXISTS (SELECT TOP 1 1 FROM dbo.TimeEntries AS te WHERE te.MilestonePersonId = @MilestonePersonId)
	BEGIN
		RAISERROR (70019, 16, 1)
	END
	ELSE
	BEGIN
		DELETE
		  FROM dbo.MilestonePersonEntry
		 WHERE MilestonePersonId = @MilestonePersonId
	END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[TimeEntries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonDeleteEntries].[@MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonDeleteEntries].[@MilestonePersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="284" />
				<Property Name="Length" Value="669" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 9-09-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Removes persons-milestones details for the specified milestone and person.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[MilestonePersonDeleteEntries]&#xD;&#xA;(&#xD;&#xA;&#x9;@MilestonePersonId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[MilestonePersonEntry]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[MilestonePersonEntry].[StartDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[MilestonePersonEntry].[EndDate]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[MilestonePersonEntry].[PersonRoleId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[MilestonePersonEntry].[Amount]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[MilestonePersonEntry].[Location]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[MilestonePersonEntry].[HoursPerDay]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="4" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[MilestonePersonEntryCreateProgrammatically]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;

	/*-- Needed for debugging
	DECLARE @PersonId INT
	DECLARE @MilestoneId INT
	DECLARE @MilestoneDate DATETIME
	DECLARE @ActualHours REAL
	DECLARE @NewMilestonePersonId INT 

	SET @PersonId = 3579
	SET @MilestoneId = 877
	SET @MilestoneDate = N'01/15/2010'
	SET @ActualHours = 8.00*/

	
	DECLARE @MpCount INT 
	SET @MpCount = 0
	
	--	Check if there's already a MP for this person (@MpCount then will be 0)
	--		otherwise, save corresponding MpId to the variable
	SELECT @MpCount = COUNT(*), @NewMilestonePersonId = mp.MilestonePersonId
	FROM dbo.MilestonePerson AS mp
	WHERE mp.MilestoneId = @MilestoneId AND mp.PersonId = @PersonId
	GROUP BY mp.MilestonePersonId
	
	--PRINT @MpCount
	--PRINT @NewMilestonePersonId
	
	-- If there's no MP, create one and save it's Id to the variable
	IF (@MpCount = 0)
		EXECUTE dbo.MilestonePersonInsert
					@MilestoneId = @MilestoneId, --  int
					@PersonId = @PersonId, --  int
					@MilestonePersonId = @NewMilestonePersonId OUTPUT
					
	
	--	Check if there's already a MPE for this person
	--		otherwise, save corresponding MpId to the variable
	SELECT @MpCount = COUNT(*)
	FROM dbo.MilestonePersonEntry AS mpe
	WHERE mpe.MilestonePersonId = @NewMilestonePersonId
	
	IF (@MpCount = 0)
	BEGIN 
		DECLARE @MStart DATETIME
		DECLARE @MEnd DATETIME
		DECLARE @UserAlias VARCHAR(50)
		
		SELECT @MStart = m.StartDate FROM dbo.Milestone AS m WHERE m.MilestoneId = @MilestoneId
		SELECT @MEnd = m.ProjectedDeliveryDate FROM dbo.Milestone AS m WHERE m.MilestoneId = @MilestoneId						
		SELECT @UserAlias = p.Alias FROM dbo.Person AS p WHERE p.PersonId = @PersonId
		
		--PRINT @MStart
		--PRINT @MEnd
		--PRINT @UserAlias
						
		-- Create new MPE
		EXECUTE dbo.MilestonePersonEntryInsert
				@MilestonePersonId = @NewMilestonePersonId,
				@StartDate = @MStart, --  only for milestone date
				@EndDate = @MEnd, --  only for milestone date
				@HoursPerDay = @ActualHours, --  actual hours reported
				@Amount = 0, --  not paid
				@PersonRoleId = NULL,
				@UserLogin = @UserAlias --  no user, system generated			
	END				
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryCreateProgrammatically].[@NewMilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryCreateProgrammatically].[@MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryCreateProgrammatically].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonInsert]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonInsert].[@MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonInsert].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonInsert].[@MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryInsert]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryInsert].[@MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryInsert].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryInsert].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryInsert].[@HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryCreateProgrammatically].[@ActualHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryInsert].[@Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryInsert].[@PersonRoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryInsert].[@UserLogin]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonEntryCreateProgrammatically].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonEntryCreateProgrammatically].[@MilestoneId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonEntryCreateProgrammatically].[@MilestoneDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonEntryCreateProgrammatically].[@ActualHours]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[real]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonEntryCreateProgrammatically].[@DefaultMpId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonEntryCreateProgrammatically].[@NewMilestonePersonId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="208" />
				<Property Name="Length" Value="2574" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-01-14&#xD;&#xA;-- Description:&#x9;Creates milestone person entry&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.MilestonePersonEntryCreateProgrammatically&#xD;&#xA;&#x9;@PersonId INT,&#xD;&#xA;&#x9;@MilestoneId INT, &#x9;&#xD;&#xA;&#x9;@MilestoneDate DATETIME,&#xD;&#xA;&#x9;@ActualHours REAL,&#xD;&#xA;&#x9;@DefaultMpId INT,&#xD;&#xA;&#x9;@NewMilestonePersonId INT OUTPUT  &#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[MilestonePersonEntryInsert]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	-- Start logging session
	EXEC dbo.SessionLogPrepare @UserLogin = @UserLogin

	INSERT INTO dbo.MilestonePersonEntry
	            (MilestonePersonId, StartDate, EndDate, PersonRoleId, Amount, HoursPerDay, Location)
	     VALUES (@MilestonePersonId, @StartDate, @EndDate, @PersonRoleId, @Amount, @HoursPerDay, @Location)
	     
	IF @PersonId IS NOT NULL
	BEGIN 
		UPDATE dbo.MilestonePerson
		SET PersonId = @PersonId
		WHERE MilestonePersonId = @MilestonePersonId
	END 

	-- End logging session
	EXEC dbo.SessionLogUnprepare]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[SessionLogPrepare]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryInsert].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[PersonRoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[Location]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryInsert].[@MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryInsert].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryInsert].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryInsert].[@PersonRoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryInsert].[@Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryInsert].[@HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryInsert].[@Location]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryInsert].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogUnprepare]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonEntryInsert].[@PersonId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonEntryInsert].[@MilestonePersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonEntryInsert].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonEntryInsert].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonEntryInsert].[@HoursPerDay]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="4" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonEntryInsert].[@PersonRoleId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonEntryInsert].[@Amount]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonEntryInsert].[@Location]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonEntryInsert].[@UserLogin]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="308" />
				<Property Name="Length" Value="1196" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 9-09-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;11-27-2008&#xD;&#xA;-- Description:&#x9;Inserts person-milestone details for the specified milestone and person.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.MilestonePersonEntryInsert&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId            INT = NULL,&#xD;&#xA;&#x9;@MilestonePersonId   INT,&#xD;&#xA;&#x9;@StartDate     DATETIME,&#xD;&#xA;&#x9;@EndDate       DATETIME,&#xD;&#xA;&#x9;@HoursPerDay   DECIMAL(4,2),&#xD;&#xA;&#x9;@PersonRoleId  INT,&#xD;&#xA;&#x9;@Amount        DECIMAL(18,2),&#xD;&#xA;&#x9;@Location      NVARCHAR(20) = NULL,&#xD;&#xA;&#x9;@UserLogin     NVARCHAR(255)&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[MilestonePersonEntryListByMilestonePersonId]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT mp.MilestonePersonId,
		   mp.SeniorityId,
           mp.PersonId,
	       mp.StartDate,
	       mp.EndDate,
	       mp.PersonRoleId,
	       mp.Amount,
	       mp.HoursPerDay,
	       mp.RoleName,
		   mp.VacationDays,	
	       mp.ExpectedHours,
		   mp.Location
	  FROM dbo.v_MilestonePerson AS mp
	 WHERE mp.MilestonePersonId = @MilestonePersonId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[PersonRoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[RoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[VacationDays]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ExpectedHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[Location]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryListByMilestonePersonId].[@MilestonePersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonEntryListByMilestonePersonId].[@MilestonePersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="4" />
				<Property Name="Length" Value="496" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#xD;&#xA;CREATE PROCEDURE dbo.MilestonePersonEntryListByMilestonePersonId&#xD;&#xA;(&#xD;&#xA;&#x9;@MilestonePersonId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[MilestonePersonGetByMilestonePerson]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	
	SELECT mp.MilestonePersonId,
	       mp.MilestoneId,
	       mp.PersonId,
	       mp.StartDate,
	       mp.EndDate,
	       mp.HoursPerDay,
	       mp.FirstName,
	       mp.LastName,
	       mp.ProjectId,
	       mp.ProjectName,
	       mp.ProjectStartDate,
	       mp.ProjectEndDate,
	       mp.Discount,
	       mp.ClientId,
	       mp.ClientName,
	       mp.MilestoneName,
	       mp.MilestoneStartDate,
	       mp.MilestoneProjectedDeliveryDate,
	       mp.ExpectedHours,
	       mp.PersonRoleId,
	       mp.RoleName,
	       mp.Amount,
	       mp.IsHourlyAmount,
	       mp.SalesCommission,
	       mp.MilestoneExpectedHours,
	       mp.MilestoneActualDeliveryDate,
	       mp.MilestoneHourlyRevenue
	  FROM dbo.v_MilestonePerson AS mp
	 WHERE mp.MilestoneId = @MilestoneId
	   AND mp.PersonId = @PersonId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectEndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ClientName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ExpectedHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[PersonRoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[RoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[IsHourlyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[SalesCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneExpectedHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneActualDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneHourlyRevenue]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonGetByMilestonePerson].[@MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonGetByMilestonePerson].[@PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonGetByMilestonePerson].[@MilestoneId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonGetByMilestonePerson].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="308" />
				<Property Name="Length" Value="1283" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 6-3-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date: 9-09-2008&#xD;&#xA;-- Description:&#x9;Selects persons-milestones details for the specified milestone and person.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[MilestonePersonGetByMilestonePerson]&#xD;&#xA;(&#xD;&#xA;&#x9;@MilestoneId   INT,&#xD;&#xA;&#x9;@PersonId      INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[MilestonePersonGetByMilestonePersonId]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT mp.MilestoneId,
	       mp.PersonId,
	       pers.SeniorityId,
	       mp.MilestonePersonId,
	       m.IsHourlyAmount,
	       m.Description AS MilestoneName,
	       m.StartDate AS MilestoneStartDate,
	       m.ProjectedDeliveryDate AS MilestoneProjectedDeliveryDate,
	       m.ProjectId,
	       p.Name AS ProjectName,
	       p.StartDate AS ProjectStartDate,
	       p.EndDate AS ProjectEndDate,
	       p.ClientId,
	       c.Name AS ClientName
	  FROM dbo.MilestonePerson AS mp
	       INNER JOIN dbo.Milestone AS m ON m.MilestoneId = mp.MilestoneId
	       INNER JOIN dbo.Project AS p ON p.ProjectId = m.ProjectId
	       INNER JOIN dbo.Client AS c ON c.ClientId = p.ClientId
	       INNER JOIN dbo.Person AS pers ON pers.PersonId = mp.PersonId
	 WHERE mp.MilestonePersonId = @MilestonePersonId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[IsHourlyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonGetByMilestonePersonId].[@MilestonePersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonGetByMilestonePersonId].[@MilestonePersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="948" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE PROCEDURE [dbo].[MilestonePersonGetByMilestonePersonId]&#xD;&#xA;(&#xD;&#xA;&#x9;@MilestonePersonId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[MilestonePersonInsert]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	IF EXISTS(SELECT 1 FROM dbo.MilestonePerson WHERE MilestoneId = @MilestoneId AND PersonId = @PersonId)
	BEGIN
		RAISERROR (70016, 16, 1)
	END
	ELSE
	BEGIN
		INSERT INTO dbo.MilestonePerson
					(MilestoneId, PersonId)
			 VALUES (@MilestoneId, @PersonId)
		
		SET @MilestonePersonId = SCOPE_IDENTITY()
	END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonInsert].[@MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonInsert].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonInsert].[@MilestonePersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonInsert].[@MilestoneId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonInsert].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonInsert].[@MilestonePersonId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="313" />
				<Property Name="Length" Value="798" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 9-09-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;9-17-2008&#xD;&#xA;-- Description:&#x9;Inserts persons-milestones association for the specified milestone and person.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[MilestonePersonInsert]&#xD;&#xA;(&#xD;&#xA;&#x9;@MilestoneId         INT,&#xD;&#xA;&#x9;@PersonId            INT,&#xD;&#xA;&#x9;@MilestonePersonId   INT OUTPUT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[MilestonePersonListByMilestone]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	
	SELECT mp.MilestonePersonId,
	       mp.MilestoneId,
	       mp.PersonId,
	       mp.SeniorityId,
	       mp.StartDate,
	       mp.EndDate,
	       mp.HoursPerDay,
	       mp.FirstName,
	       mp.LastName,
	       mp.ProjectId,
	       mp.ProjectName,
	       mp.ProjectStartDate,
	       mp.ProjectEndDate,
	       mp.Discount,
	       mp.ClientId,
	       mp.ClientName,
	       mp.MilestoneName,
	       mp.MilestoneStartDate,
	       mp.MilestoneProjectedDeliveryDate,
	       mp.ExpectedHours,
	       mp.PersonRoleId,
	       mp.RoleName,
	       mp.Amount,
	       mp.IsHourlyAmount,
	       mp.SalesCommission,
	       mp.MilestoneExpectedHours,
	       mp.MilestoneActualDeliveryDate,
	       mp.MilestoneHourlyRevenue
	  FROM dbo.v_MilestonePerson AS mp
	 WHERE mp.MilestoneId = @MilestoneId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectEndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ClientName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ExpectedHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[PersonRoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[RoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[IsHourlyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[SalesCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneExpectedHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneActualDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneHourlyRevenue]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonListByMilestone].[@MilestoneId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonListByMilestone].[@MilestoneId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="6" />
				<Property Name="Length" Value="946" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;CREATE PROCEDURE [dbo].[MilestonePersonListByMilestone]&#xD;&#xA;(&#xD;&#xA;&#x9;@MilestoneId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[MilestonePersonListByPerson]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	
	SELECT mp.MilestonePersonId,
	       mp.MilestoneId,
	       mp.PersonId,
	       mp.SeniorityId,
	       mp.StartDate,
	       mp.EndDate,
	       mp.HoursPerDay,
	       mp.FirstName,
	       mp.LastName,
	       mp.ProjectId,
	       mp.ProjectName,
	       mp.ProjectStartDate,
	       mp.ProjectEndDate,
	       mp.ProjectStatusId,
	       mp.Discount,
	       mp.ClientId,
	       mp.ClientName,
	       mp.MilestoneName,
	       mp.MilestoneStartDate,
	       mp.MilestoneProjectedDeliveryDate,
	       mp.ExpectedHours,
	       mp.PersonRoleId,
	       mp.RoleName,
	       mp.Amount,
	       mp.IsHourlyAmount,
	       mp.SalesCommission,
	       mp.MilestoneExpectedHours,
	       mp.MilestoneActualDeliveryDate,
	       mp.MilestoneHourlyRevenue
	  FROM dbo.v_MilestonePerson AS mp
	 WHERE mp.PersonId = @PersonId
	ORDER BY mp.StartDate, mp.EndDate, mp.MilestoneStartDate, mp.MilestoneProjectedDeliveryDate]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectEndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ClientName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ExpectedHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[PersonRoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[RoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[IsHourlyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[SalesCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneExpectedHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneActualDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneHourlyRevenue]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonListByPerson].[@PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonListByPerson].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="4" />
				<Property Name="Length" Value="1055" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#xD;&#xA;CREATE PROCEDURE [dbo].[MilestonePersonListByPerson]&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[MilestonePersonListByProject]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	
	SELECT mp.MilestonePersonId,
	       mp.MilestoneId,
	       mp.PersonId,
	       mp.SeniorityId,
	       mp.StartDate,
	       mp.EndDate,
	       mp.HoursPerDay,
	       mp.FirstName,
	       mp.LastName,
	       mp.ProjectId,
	       mp.ProjectName,
	       mp.ProjectStartDate,
	       mp.ProjectEndDate,
	       mp.Discount,
	       mp.ClientId,
	       mp.ClientName,
	       mp.MilestoneName,
	       mp.MilestoneStartDate,
	       mp.MilestoneProjectedDeliveryDate,
	       mp.ExpectedHours,
	       mp.PersonRoleId,
	       mp.RoleName,
	       mp.Amount,
	       mp.IsHourlyAmount,
	       mp.SalesCommission,
	       mp.MilestoneExpectedHours,
	       mp.MilestoneActualDeliveryDate,
	       mp.MilestoneHourlyRevenue,
	       mp.ConsultantsCanAdjust,
	       mp.ClientIsChargeable,
	       mp.ProjectIsChargeable,
	       mp.MilestoneIsChargeable
	  FROM dbo.v_MilestonePerson AS mp
	 WHERE mp.ProjectId = @ProjectId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectEndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ClientName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ExpectedHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[PersonRoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[RoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[IsHourlyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[SalesCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneExpectedHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneActualDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneHourlyRevenue]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ConsultantsCanAdjust]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ClientIsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectIsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneIsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonListByProject].[@ProjectId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonListByProject].[@ProjectId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="1064" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE PROCEDURE dbo.MilestonePersonListByProject&#xD;&#xA;(&#xD;&#xA;&#x9;@ProjectId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[MilestonePersonListByProjectMonth]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	
	SELECT mp.MilestoneId,
	       mp.PersonId,
	       mp.SeniorityId,
	       mh.[Month] AS StartDate,
	       mh.[MonthEnd] AS EndDate,
	       mp.HoursPerDay,
	       mp.FirstName,
	       mp.LastName,
	       mp.ProjectId,
	       mp.ProjectName,
	       mp.ProjectStartDate,
	       mp.ProjectEndDate,
	       mp.Discount,
	       mp.ClientId,
	       mp.ClientName,
	       mp.MilestoneName,
	       mp.MilestoneStartDate,
	       mp.MilestoneProjectedDeliveryDate,
	       ISNULL(mh.MilestonePersonMonthHours, 0) AS ExpectedHours,
	       mp.PersonRoleId,
	       mp.RoleName,
	       mp.Amount,
	       mp.IsHourlyAmount,
	       mp.SalesCommission,
	       mp.MilestoneExpectedHours,
	       mp.MilestoneActualDeliveryDate,
	       mp.MilestoneHourlyRevenue
	  FROM dbo.v_MilestonePerson AS mp
	       INNER JOIN dbo.v_MilestonePersonMonthHours AS mh
	           ON mh.MilestoneId = mp.MilestoneId AND mh.PersonId = mp.PersonId
	 WHERE mp.ProjectId = @ProjectId
	   AND mh.[Month] BETWEEN @StartDate AND @EndDate
	   AND mh.MilestonePersonMonthHours <> 0
	ORDER BY mp.MilestoneId, mp.PersonId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonMonthHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonMonthHours].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonMonthHours].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonMonthHours].[Month]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonMonthHours].[MonthEnd]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectEndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ClientName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonMonthHours].[MilestonePersonMonthHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[PersonRoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[RoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[IsHourlyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[SalesCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneExpectedHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneActualDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneHourlyRevenue]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonListByProjectMonth].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonMonthHours].[Month]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonListByProjectMonth].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonListByProjectMonth].[@EndDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonListByProjectMonth].[@ProjectId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonListByProjectMonth].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonListByProjectMonth].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="4" />
				<Property Name="Length" Value="1295" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#xD;&#xA;CREATE PROCEDURE [dbo].[MilestonePersonListByProjectMonth]&#xD;&#xA;(&#xD;&#xA;&#x9;@ProjectId   INT,&#xD;&#xA;&#x9;@StartDate   DATETIME,&#xD;&#xA;&#x9;@EndDate     DATETIME&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[MilestonePersonListByProjectPerson]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT mp.MilestoneId,
	       mp.PersonId,
	       mp.SeniorityId,
	       mp.StartDate,
	       mp.EndDate,
	       mp.HoursPerDay,
	       mp.FirstName,
	       mp.LastName,
	       mp.ProjectId,
	       mp.ProjectName,
	       mp.ProjectStartDate,
	       mp.ProjectEndDate,
	       mp.Discount,
	       mp.ClientId,
	       mp.ClientName,
	       mp.MilestoneName,
	       mp.MilestoneStartDate,
	       mp.MilestoneProjectedDeliveryDate,
	       mp.ExpectedHours,
	       mp.PersonRoleId,
	       mp.RoleName,
	       mp.Amount,
	       mp.IsHourlyAmount,
	       mp.SalesCommission,
	       mp.MilestoneExpectedHours,
	       mp.MilestoneActualDeliveryDate,
	       mp.MilestoneHourlyRevenue
	  FROM dbo.v_MilestonePerson AS mp
	 WHERE mp.ProjectId = @ProjectId AND mp.PersonId = @PersonId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectEndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ClientName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ExpectedHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[PersonRoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[RoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[IsHourlyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[SalesCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneExpectedHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneActualDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneHourlyRevenue]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonListByProjectPerson].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonListByProjectPerson].[@PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonListByProjectPerson].[@ProjectId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonListByProjectPerson].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="4" />
				<Property Name="Length" Value="958" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#xD;&#xA;CREATE PROCEDURE [dbo].[MilestonePersonListByProjectPerson]&#xD;&#xA;(&#xD;&#xA;&#x9;@ProjectId   INT,&#xD;&#xA;&#x9;@PersonId    INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[MilestonePersonListByProjectShort]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON
	
	SELECT mp.MilestonePersonId,
	       mp.PersonId,
	       mp.FirstName,
	       mp.LastName,
	       mp.ProjectId
	  FROM dbo.v_MilestonePerson AS mp
	 WHERE mp.ProjectId IN (SELECT * FROM dbo.ConvertStringListIntoTable(@ProjectId))
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonListByProjectShort].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConvertStringListIntoTable]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonListByProjectShort].[@ProjectId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="1000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="194" />
				<Property Name="Length" Value="555" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;&lt;Author,,Name&gt;&#xD;&#xA;-- Create date: &lt;Create Date,,&gt;&#xD;&#xA;-- Description:&#x9;&lt;Description,,&gt;&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.MilestonePersonListByProjectShort &#xD;&#xA;&#x9;@ProjectId   VARCHAR(1000)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[MilestonePersonListOverheadByPerson]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT mp.PersonId, mp.MilestoneId,
	       mp.Date AS StartDate, mp.Date AS EndDate,
	       ISNULL(SUM(HourlyRate * HoursPerDay), 0) AS Rate,
	       'Aggregated Daily' AS [Description],
	       CAST(ROUND(HoursPerDay, 0) AS INT) AS HoursToCollect,
	       CAST(0 AS BIT) AS IsPercentage,
	       NULL AS OverheadRateTypeId,
	       NULL AS OverheadRateTypeName,
	       CAST(0 AS DECIMAL) AS BillRateMultiplier
	  FROM dbo.v_MilestonePersonSchedule AS mp
	       INNER JOIN dbo.v_PersonOverheadRetrospective AS o ON mp.PersonId = o.PersonId AND mp.Date = o.Date
	 WHERE mp.PersonId = @PersonId AND mp.MilestoneId = @MilestoneId
	GROUP BY mp.PersonId, mp.MilestoneId, mp.Date, mp.HoursPerDay
	ORDER BY StartDate]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverheadRetrospective]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverheadRetrospective].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverheadRetrospective].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverheadRetrospective].[HourlyRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[decimal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonListOverheadByPerson].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonListOverheadByPerson].[@MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[HoursPerDay]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonListOverheadByPerson].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestonePersonListOverheadByPerson].[@MilestoneId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="302" />
				<Property Name="Length" Value="1163" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 6-27-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;7-22-2008&#xD;&#xA;-- Description:&#x9;Selects an overhead for the person on the milstone grouped by days.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[MilestonePersonListOverheadByPerson]&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId      INT,&#xD;&#xA;&#x9;@MilestoneId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[MilestoneUpdate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	DECLARE @StartDateShift INT
	DECLARE @DurationShift INT

	-- Previous values
	SELECT @StartDateShift = DATEDIFF(dd, m.StartDate, @StartDate),
	       @DurationShift =
	           DATEDIFF(dd, @StartDate, @ProjectedDeliveryDate) - DATEDIFF(dd, m.StartDate, m.ProjectedDeliveryDate)
	  FROM dbo.Milestone AS m
	 WHERE MilestoneId = @MilestoneId

	-- Start logging session
	EXEC dbo.SessionLogPrepare @UserLogin = @UserLogin

	-- Change the milestone
	UPDATE dbo.Milestone
	   SET ProjectId = @ProjectId,
	       Description = @Description,
	       Amount = @Amount,
	       StartDate = @StartDate,
	       ProjectedDeliveryDate = @ProjectedDeliveryDate,
	       ActualDeliveryDate = @ActualDeliveryDate,
	       IsHourlyAmount = @IsHourlyAmount,
	       IsChargeable = @IsChargeable,
	       ConsultantsCanAdjust = @ConsultantsCanAdjust
	 WHERE MilestoneId = @MilestoneId

	-- Determine if milestone start date was changed
	IF @StartDateShift <> 0
	BEGIN
		-- Move milestone-person entries
		UPDATE mpe
		   SET StartDate = DATEADD(dd, @StartDateShift, mpe.StartDate),
			   EndDate = DATEADD(dd, @StartDateShift, mpe.EndDate)
		  FROM dbo.MilestonePersonEntry AS mpe
			   INNER JOIN dbo.MilestonePerson AS mp ON mp.MilestonePersonId = mpe.MilestonePersonId
		 WHERE mp.MilestoneId = @MilestoneId
	END
/*
	-- Determine if milestone duration was reduced
	IF @DurationShift < 0
	BEGIN
		
		-- Remove entries became out the milestone period
		DELETE mpe
		  FROM dbo.MilestonePersonEntry AS mpe
			   INNER JOIN dbo.MilestonePerson AS mp ON mp.MilestonePersonId = mpe.MilestonePersonId
			   INNER JOIN dbo.Milestone AS m ON mp.MilestoneId = m.MilestoneId
		 WHERE m.MilestoneId = @MilestoneId
		   AND mpe.StartDate >= m.ProjectedDeliveryDate

		-- Move last milestone-person entry for each assignment
		UPDATE mpe
		   SET EndDate = m.ProjectedDeliveryDate
		  FROM dbo.MilestonePersonEntry AS mpe
			   INNER JOIN dbo.MilestonePerson AS mp ON mp.MilestonePersonId = mpe.MilestonePersonId
			   INNER JOIN dbo.Milestone AS m ON mp.MilestoneId = m.MilestoneId
		 WHERE mp.MilestoneId = @MilestoneId
		   AND mpe.EndDate > m.ProjectedDeliveryDate
	END
*/
	-- Determine if milestone duration was increased
	IF @DurationShift > 0
	BEGIN
		-- Move last milestone-person entry for each assignment
		UPDATE mpe
		   SET EndDate = DATEADD(dd, @DurationShift, mpe.EndDate)
		  FROM dbo.MilestonePersonEntry AS mpe
			   INNER JOIN dbo.MilestonePerson AS mp ON mp.MilestonePersonId = mpe.MilestonePersonId
		 WHERE mp.MilestoneId = @MilestoneId
		   AND mpe.EndDate =
				   (SELECT MAX(EndDate) FROM dbo.MilestonePersonEntry AS e WHERE e.MilestonePersonId = mpe.MilestonePersonId)
	END

	-- End logging session
	EXEC dbo.SessionLogUnprepare]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneUpdate].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneUpdate].[@ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneUpdate].[@MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneUpdate].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneUpdate].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneUpdate].[@Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneUpdate].[@Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ActualDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneUpdate].[@ActualDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[IsHourlyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneUpdate].[@IsHourlyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneUpdate].[@IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ConsultantsCanAdjust]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneUpdate].[@ConsultantsCanAdjust]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogUnprepare]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneUpdate].[@MilestoneId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneUpdate].[@ProjectId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneUpdate].[@Description]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneUpdate].[@Amount]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneUpdate].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneUpdate].[@ProjectedDeliveryDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneUpdate].[@ActualDeliveryDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneUpdate].[@IsHourlyAmount]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneUpdate].[@UserLogin]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneUpdate].[@ConsultantsCanAdjust]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MilestoneUpdate].[@IsChargeable]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="255" />
				<Property Name="Length" Value="3523" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-22-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;11-27-2008&#xD;&#xA;-- Description:&#x9;Updates a Milestone&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.MilestoneUpdate&#xD;&#xA;(&#xD;&#xA;&#x9;@MilestoneId              INT,&#xD;&#xA;&#x9;@ProjectId                INT,&#xD;&#xA;&#x9;@Description              NVARCHAR(255),&#xD;&#xA;&#x9;@Amount                   DECIMAL(18,2),&#xD;&#xA;&#x9;@StartDate                DATETIME,&#xD;&#xA;&#x9;@ProjectedDeliveryDate    DATETIME,&#xD;&#xA;&#x9;@ActualDeliveryDate       DATETIME,&#xD;&#xA;&#x9;@IsHourlyAmount           BIT,&#xD;&#xA;&#x9;@UserLogin                NVARCHAR(255),&#xD;&#xA;&#x9;@ConsultantsCanAdjust&#x9;  BIT,&#xD;&#xA;&#x9;@IsChargeable&#x9;&#x9;&#x9;  BIT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[MonthlyExpense]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[MonthlyExpense].[MonthlyExpenseId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[MonthlyExpense].[ExpenseCategoryId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[MonthlyExpense].[ExpenseBasisId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[MonthlyExpense].[WeekPaidOptionId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[MonthlyExpense].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[MonthlyExpense].[Year]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[MonthlyExpense].[Month]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[MonthlyExpense].[Amount]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="3" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[MonthlyExpenseDeleteItem]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	DELETE
	  FROM dbo.MonthlyExpense
	 WHERE Name = @Name]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[MonthlyExpense]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpense].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpenseDeleteItem].[@Name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MonthlyExpenseDeleteItem].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="260" />
				<Property Name="Length" Value="420" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 7-24-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Deletes a month expense item by the specified name&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[MonthlyExpenseDeleteItem]&#xD;&#xA;(&#xD;&#xA;&#x9;@Name   NVARCHAR(50)&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[MonthlyExpenseListAll]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	DECLARE @PivotDefinition VARCHAR(2000)
	DECLARE @PivotColumns VARCHAR(2000)
	DECLARE @Delimiter CHAR

	-- Generate PIVOT definitions
	SELECT @PivotDefinition =
	          ISNULL(@PivotDefinition + @Delimiter, '') +
	          '[' + CAST(YEAR(cal.Date) AS VARCHAR) + '-' +
	          CASE WHEN MONTH(cal.Date) < 10 THEN '0' ELSE '' END + CAST(MONTH(cal.Date) AS VARCHAR) + '-01]',
	       @PivotColumns =
	          ISNULL(@PivotColumns + @Delimiter, '') +
	          'ISNULL([' + CAST(YEAR(cal.Date) AS VARCHAR) + '-' +
	          CASE WHEN MONTH(cal.Date) < 10 THEN '0' ELSE '' END + CAST(MONTH(cal.Date) AS VARCHAR) + '-01], 0) AS ' +
	          '[' + CAST(YEAR(cal.Date) AS VARCHAR) + CASE WHEN MONTH(cal.Date) < 10 THEN '0' ELSE '' END + CAST(MONTH(cal.Date) AS VARCHAR) + ']',
	       @Delimiter = ','
	  FROM dbo.Calendar AS cal
	 WHERE cal.Date BETWEEN @StartDate AND @EndDate
	GROUP BY YEAR(cal.Date), MONTH(cal.Date)
	ORDER BY YEAR(cal.Date), MONTH(cal.Date)

	DECLARE @Expression VARCHAR(8000)

	-- Generate DSQL
	SET @Expression =
		' SELECT Name AS ItemName,ExpenseBasisName,ExpenseBasisId,ExpenseCategoryName,WeekPaidOptionName,' +
		@PivotColumns +
		' FROM (SELECT MIN(cal.Date) AS Date,' +
               'me.Name,' +
               'me.ExpenseBasisId,' +
               'b.Name AS ExpenseBasisName,' +
               'me.ExpenseCategoryId,' +
               'c.Name AS ExpenseCategoryName,' +
               'me.WeekPaidOptionId,' +
               'po.Name AS WeekPaidOptionName,' +
		    ' CASE me.ExpenseBasisId' +
                 ' WHEN 2' +
                 ' THEN SUM(ISNULL(f.PersonMilestoneDailyAmount * me.Amount / 100, 0))' +
                 ' WHEN 3' +
                 ' THEN SUM(ISNULL((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay * me.Amount / 100, 0))' +
                 ' WHEN 4' +
                 ' THEN SUM(ISNULL(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount - ISNULL((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay, 0), 0) * me.Amount / 100)' +
                 ' ELSE CAST(0 AS DECIMAL)' +
             ' END AS Amount' +
		' FROM dbo.Calendar AS cal' +
             ' LEFT JOIN dbo.MonthlyExpense AS me' +
             '     ON YEAR(cal.Date) = me.Year AND MONTH(cal.Date) = me.Month' +
             ' LEFT JOIN dbo.v_FinancialsRetrospective AS f' +
             '     ON cal.Date = f.Date' +
             ' LEFT JOIN dbo.ExpenseBasis AS b' +
             '     ON me.ExpenseBasisId = b.ExpenseBasisId' +
             ' LEFT JOIN dbo.ExpenseCategory AS c' +
             '     ON me.ExpenseCategoryId = c.ExpenseCategoryId' +
             ' LEFT JOIN dbo.WeekPaidOption AS po' +
             '     ON me.WeekPaidOptionId = po.WeekPaidOptionId' +
		' WHERE cal.Date BETWEEN ''' +
		CAST(YEAR(@StartDate) AS VARCHAR) + '-' + CAST(MONTH(@StartDate) AS VARCHAR) + '-01' + ''' AND ''' +
		CAST(YEAR(@EndDate) AS VARCHAR) + '-' + CAST(MONTH(@EndDate) AS VARCHAR) + '-' + CAST(dbo.GetDaysInMonth(@EndDate) AS VARCHAR) + ''' AND me.ExpenseBasisId <> 1' +
		' GROUP BY me.Name, me.Amount, me.Year, me.Month, me.ExpenseBasisId, b.Name, me.ExpenseCategoryId, c.Name, me.WeekPaidOptionId, po.Name ' +
     ' ) AS f' +
     ' PIVOT ' +
     ' (SUM(f.Amount) FOR [Date] IN (' + @PivotDefinition + ')) AS pvt' +
	' UNION ALL' +
	' SELECT Name AS ItemName,ExpenseBasisName,ExpenseBasisId,ExpenseCategoryName,WeekPaidOptionName,' +
	    @PivotColumns +
		' FROM (SELECT MIN(cal.Date) AS Date,' +
               'me.Name,' +
               'me.ExpenseBasisId,' +
               'b.Name AS ExpenseBasisName,' +
               'me.ExpenseCategoryId,' +
               'c.Name AS ExpenseCategoryName,' +
               'me.WeekPaidOptionId,' +
               'po.Name AS WeekPaidOptionName,' +
	           'ISNULL(me.Amount, 0) AS Amount' +
		' FROM dbo.Calendar AS cal' +
             ' LEFT JOIN dbo.MonthlyExpense AS me' +
             '     ON YEAR(cal.Date) = me.Year AND MONTH(cal.Date) = me.Month' +
             ' LEFT JOIN dbo.ExpenseBasis AS b' +
             '     ON me.ExpenseBasisId = b.ExpenseBasisId' +
             ' LEFT JOIN dbo.ExpenseCategory AS c' +
             '     ON me.ExpenseCategoryId = c.ExpenseCategoryId' +
             ' LEFT JOIN dbo.WeekPaidOption AS po' +
             '     ON me.WeekPaidOptionId = po.WeekPaidOptionId' +
		' WHERE cal.Date BETWEEN ''' +
		CAST(YEAR(@StartDate) AS VARCHAR) + '-' + CAST(MONTH(@StartDate) AS VARCHAR) + '-01' + ''' AND ''' +
		CAST(YEAR(@EndDate) AS VARCHAR) + '-' + CAST(MONTH(@EndDate) AS VARCHAR) + '-' + CAST(dbo.GetDaysInMonth(@EndDate) AS VARCHAR) + ''' AND me.ExpenseBasisId = 1' +
		' GROUP BY me.Name, me.Amount, me.Year, me.Month, me.ExpenseBasisId, b.Name, me.ExpenseCategoryId, c.Name, me.WeekPaidOptionId, po.Name ' +
     ' ) AS f' +
     ' PIVOT ' +
     ' (SUM(f.Amount) FOR [Date] IN (' + @PivotDefinition + ')) AS pvt' +
	 ' ORDER BY Name'

	EXEC (@Expression)]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[char]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpenseListAll].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpenseListAll].[@EndDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDaysInMonth]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MonthlyExpenseListAll].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MonthlyExpenseListAll].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="255" />
				<Property Name="Length" Value="5373" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xA;-- Create date: 7-28-2008&#xA;-- Updated by:  Anatoliy Lokshin&#xA;-- Update date: 11-26-2008&#xA;-- Description:&#x9;List all monthly expenses&#xA;-- =============================================&#xA;CREATE PROCEDURE [dbo].[MonthlyExpenseListAll]&#xA;(&#xA;&#x9;@StartDate   DATETIME,&#xA;&#x9;@EndDate     DATETIME&#xA;)&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[MonthlyExpenseListByName]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT me.MonthlyExpenseId,
	       me.ExpenseCategoryId,
	       me.ExpenseBasisId,
	       me.WeekPaidOptionId,
	       me.Name,
	       me.[Year],
	       me.[Month],
	       me.Amount
	  FROM dbo.MonthlyExpense AS me
	 WHERE me.Name = @Name
	ORDER BY me.[Year], me.[Month]]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[MonthlyExpense]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpense].[MonthlyExpenseId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpense].[ExpenseCategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpense].[ExpenseBasisId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpense].[WeekPaidOptionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpense].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpense].[Year]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpense].[Month]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpense].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpenseListByName].[@Name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MonthlyExpenseListByName].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="259" />
				<Property Name="Length" Value="649" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 7-24-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Retrieves the month expense by the specified Name&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[MonthlyExpenseListByName]&#xD;&#xA;(&#xD;&#xA;&#x9;@Name   NVARCHAR(50)&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[MonthlyExpenseSaveItem]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	SET XACT_ABORT ON

	BEGIN TRAN

	IF NOT EXISTS (SELECT 1 FROM dbo.ExpenseCategory AS ec WHERE ec.ExpenseCategoryId = @ExpenseCategoryId)
	BEGIN
		ROLLBACK
		RAISERROR (70012, 16, 1)
		RETURN
	END

	UPDATE dbo.MonthlyExpense
	   SET ExpenseCategoryId = @ExpenseCategoryId,
	       ExpenseBasisId = @ExpenseBasisId,
	       WeekPaidOptionId = @WeekPaidOptionId,
	       Name = @Name
	 WHERE Name = @OLD_Name

	IF EXISTS(SELECT 1
	            FROM dbo.MonthlyExpense AS me
	           WHERE Name = @Name AND [Year] = @Year AND [Month] = @Month)
	BEGIN
		UPDATE dbo.MonthlyExpense
		   SET Amount = @Amount
		 WHERE Name = @OLD_Name AND [Year] = @Year AND [Month] = @Month
	END
	ELSE
	BEGIN
		INSERT INTO dbo.MonthlyExpense
		            (ExpenseCategoryId, ExpenseBasisId, WeekPaidOptionId, Name, [Year], [Month], Amount)
		     VALUES (@ExpenseCategoryId, @ExpenseBasisId, @WeekPaidOptionId, @Name, @Year, @Month, @Amount)
	END

	COMMIT TRAN]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ExpenseCategory]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ExpenseCategory].[ExpenseCategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpenseSaveItem].[@ExpenseCategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpense]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpense].[ExpenseCategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpense].[ExpenseBasisId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpenseSaveItem].[@ExpenseBasisId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpense].[WeekPaidOptionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpenseSaveItem].[@WeekPaidOptionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpense].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpenseSaveItem].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpenseSaveItem].[@OLD_Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpense].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpense].[Year]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpenseSaveItem].[@Year]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpense].[Month]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpenseSaveItem].[@Month]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpense].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpenseSaveItem].[@Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpense].[Year]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MonthlyExpense].[Month]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MonthlyExpenseSaveItem].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MonthlyExpenseSaveItem].[@ExpenseCategoryId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MonthlyExpenseSaveItem].[@ExpenseBasisId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MonthlyExpenseSaveItem].[@WeekPaidOptionId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MonthlyExpenseSaveItem].[@Year]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MonthlyExpenseSaveItem].[@Month]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MonthlyExpenseSaveItem].[@Amount]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="3" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[MonthlyExpenseSaveItem].[@OLD_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="261" />
				<Property Name="Length" Value="1562" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 7-24-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;8-20-2008&#xD;&#xA;-- Description:&#x9;Saves a month expense item&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[MonthlyExpenseSaveItem]&#xD;&#xA;(&#xD;&#xA;&#x9;@Name                NVARCHAR(50),&#xD;&#xA;&#x9;@ExpenseCategoryId   INT,&#xD;&#xA;&#x9;@ExpenseBasisId      INT,&#xD;&#xA;&#x9;@WeekPaidOptionId    INT,&#xD;&#xA;&#x9;@Year                INT,&#xD;&#xA;&#x9;@Month               INT,&#xD;&#xA;&#x9;@Amount              DECIMAL(18, 3),&#xD;&#xA;&#x9;@OLD_Name            NVARCHAR(50)&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[Note]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Note].[NoteId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Note].[TargetId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Note].[PersonId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Note].[CreateDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Note].[NoteText]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Note].[NoteTargetId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Index" Name="[dbo].[Note].[IX_MilestoneNote_MilestoneId]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Note].[TargetId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[Note]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[NoteGetByTargetId]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT n.NoteId, n.TargetId, n.PersonId, n.CreateDate, n.NoteText, n.LastName, n.FirstName
	  FROM dbo.v_Notes as n
	 WHERE n.TargetId = @TargetId AND n.NoteTargetId = @NoteTargetId	
	ORDER BY n.CreateDate DESC]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_Notes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Notes].[NoteId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Notes].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Notes].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Notes].[CreateDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Notes].[NoteText]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Notes].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Notes].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NoteGetByTargetId].[@TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Notes].[NoteTargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NoteGetByTargetId].[@NoteTargetId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[NoteGetByTargetId].[@TargetId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[NoteGetByTargetId].[@NoteTargetId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="158" />
				<Property Name="Length" Value="480" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 10-06-2008&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.NoteGetByTargetId&#xD;&#xA;(&#xD;&#xA;&#x9;@TargetId   INT,&#xD;&#xA;&#x9;@NoteTargetId INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[NoteInsert]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	INSERT INTO dbo.Note
	            (TargetId, NoteTargetId, PersonId, NoteText)
	     VALUES (@TargetId, @NoteTargetId, @PersonId, @NoteText)]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Note]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[NoteTargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[NoteText]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NoteInsert].[@TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NoteInsert].[@NoteTargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NoteInsert].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NoteInsert].[@NoteText]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[NoteInsert].[@TargetId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[NoteInsert].[@NoteTargetId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[NoteInsert].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[NoteInsert].[@NoteText]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="243" />
				<Property Name="Length" Value="541" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 10-06-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Insert a note for the milestone.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.NoteInsert&#xD;&#xA;(&#xD;&#xA;&#x9;@TargetId   INT,&#xD;&#xA;&#x9;@NoteTargetId INT,&#xD;&#xA;&#x9;@PersonId      INT,&#xD;&#xA;&#x9;@NoteText      NVARCHAR(MAX)&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[NotesClone]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;

	INSERT INTO [dbo].[Note]
           ([TargetId]
           ,[PersonId]
           ,[CreateDate]
           ,[NoteText]
           ,[NoteTargetId])
     select @NewTargetId, PersonId, CreateDate, NoteText, NoteTargetId
	 from Note
	 where TargetId = @OldTargetId
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Note]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[CreateDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[NoteText]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[NoteTargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NotesClone].[@NewTargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NotesClone].[@OldTargetId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[NotesClone].[@OldTargetId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[NotesClone].[@NewTargetId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="160" />
				<Property Name="Length" Value="535" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-07-23&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE NotesClone&#xD;&#xA;&#x9;@OldTargetId INT, &#xD;&#xA;&#x9;@NewTargetId INT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[NoteTarget]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[NoteTarget].[NoteTargetId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[NoteTarget].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[Opportunity]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Opportunity].[OpportunityId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Opportunity].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Opportunity].[ClientId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Opportunity].[SalespersonId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Opportunity].[OpportunityStatusId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Opportunity].[Priority]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="1" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[char]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Opportunity].[ProjectedStartDate]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Opportunity].[ProjectedEndDate]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Opportunity].[OpportunityNumber]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="12" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Opportunity].[Description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Opportunity].[PracticeId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Opportunity].[BuyerName]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Opportunity].[CreateDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Opportunity].[Pipeline]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Opportunity].[Proposed]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Opportunity].[SendOut]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Opportunity].[ProjectId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Opportunity].[OpportunityIndex]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Opportunity].[RevenueType]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Opportunity].[OwnerId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Opportunity].[GroupId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Opportunity].[LastUpdated]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DmlTrigger" Name="[dbo].[Opportunity_UpdateLastUpdatedColumn]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="SqlTriggerType" Value="2" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
BEGIN
	SET NOCOUNT ON;

	Update Opportunity 
	set Opportunity.LastUpdated = getdate()
	From Opportunity inner join inserted on inserted.OpportunityId = Opportunity.OpportunityId
END]]></Value>
			</Property>
			<Property Name="IsUpdateTrigger" Value="True" />
			<Property Name="UpdateOrderRestriction" Value="1" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Opportunity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[LastUpdated]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parent">
				<Entry>
					<References Name="[dbo].[Opportunity]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="204" />
				<Property Name="Length" Value="491" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-06-23&#xD;&#xA;-- Description:&#x9;Updates LastUpdated column&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE TRIGGER Opportunity_UpdateLastUpdatedColumn &#xD;&#xA;   ON  dbo.Opportunity &#xD;&#xA;   AFTER UPDATE&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[OpportunityConvertToProject]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	DECLARE @ClientId INT
	DECLARE @Discount DECIMAL(18,2)
	DECLARE @Terms INT
	DECLARE @PracticeId INT
	DECLARE @Name NVARCHAR(100)
	DECLARE @ProjectedStartDate DATETIME
	DECLARE @ProjectedEndDate DATETIME
	DECLARE @MilestoneId INT
	DECLARE @GroupId INT
	DECLARE @SalespersonId INT
	DECLARE @OpportunityStatusId INT
	DECLARE @BuyerName NVARCHAR(100)
	DECLARE @IsChargeable BIT
	DECLARE @ProjectManagerId INT
	
	SELECT TOP 1
		   @ClientId = o.ClientId,
	       @Discount = o.Discount,
	       @Terms = o.Terms,
	       @PracticeId = o.PracticeId,
	       @Name = o.Name,
	       @ProjectedStartDate = ISNULL(o.ProjectedStartDate, '1753-01-01'),
	       @ProjectedEndDate = ISNULL(o.ProjectedEndDate, '1753-01-01'),
	       @SalespersonId = o.SalespersonId,
	       @OpportunityStatusId = o.OpportunityStatusId,
	       @BuyerName = o.BuyerName,
	       @GroupId = pg.GroupId,
	       @IsChargeable = 1,
	       @ProjectManagerId = ISNULL(o.OwnerId, pr.PracticeManagerId)
	  FROM dbo.v_Opportunity AS o
	  inner join dbo.ProjectGroup as pg on pg.ClientId = o.ClientId
	  inner join dbo.Practice as pr on pr.PracticeId = o.PracticeId
	 WHERE o.OpportunityId = @OpportunityId

	IF @OpportunityStatusId = 4 /* Won */
	BEGIN
		RAISERROR('Cannot convert an opportunity with the status Won to project.', 16, 1)
		RETURN
	END

	-- Create a project
	EXEC dbo.ProjectInsert @ClientId = @ClientId,
		@Discount = @Discount,
		@Terms = @Terms,
		@Name = @Name,
		@PracticeId = @PracticeId,
		@ProjectStatusId = 2 /* Projected */,
		@BuyerName = @BuyerName,
		@UserLogin = @UserLogin,
		@GroupId = @GroupId,
		@IsChargeable = @IsChargeable,
		@ProjectManagerId = @ProjectManagerId,
	    @ProjectId = @ProjectId OUTPUT,
		@OpportunityId = @OpportunityId

	-- Add a sales commission
	INSERT INTO dbo.Commission
	            (ProjectId, PersonId, FractionOfMargin, CommissionType, MarginTypeId)
	     SELECT TOP 1 @ProjectId, c.PersonId, c.FractionOfMargin, 1 /* sales commission*/, 2 /* Sub-ordinate person margin */
	       FROM dbo.DefaultCommission AS c
	      WHERE c.PersonId = @SalespersonId
	        AND GETDATE() BETWEEN c.StartDate AND c.EndDate

	-- Create a milestone
	EXEC dbo.MilestoneInsert @ProjectId = @ProjectId,
		@Description = 'Milestone 1',
		@Amount = NULL,
		@StartDate = @ProjectedStartDate,
		@ProjectedDeliveryDate = @ProjectedEndDate,
		@ActualDeliveryDate = NULL,
		@IsHourlyAmount = 1,
		@UserLogin = @UserLogin,
		@ConsultantsCanAdjust = 0,
		@IsChargeable = @IsChargeable,
		@MilestoneId = @MilestoneId OUTPUT

	-- Set opportunity status
	UPDATE dbo.Opportunity
	   SET OpportunityStatusId = 4 /* Won */
	 WHERE OpportunityId = @OpportunityId

	DECLARE @PersonId INT
	SELECT @PersonId = p.PersonId FROM dbo.Person AS p WHERE p.Alias = @UserLogin

	DECLARE @CreatedMessage NVARCHAR(100)
	SELECT @CreatedMessage = 'Opportunity Won - Project created: ' + ProjectNumber
	  FROM dbo.Project AS p
	 WHERE p.ProjectId = @ProjectId

	-- Add an opportunity history
	EXEC dbo.OpportunityTransitionInsert @OpportunityId = @OpportunityId,
		@OpportunityTransitionStatusId = 2,
		@PersonId = @PersonId,
		@NoteText = @CreatedMessage,
		@OpportunityTransitionId = null]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[decimal]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[ProjectedStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[ProjectedEndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[SalespersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[OpportunityStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[OwnerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityConvertToProject].[@OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectInsert]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectInsert].[@ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectInsert].[@Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectInsert].[@Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectInsert].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectInsert].[@PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectInsert].[@ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectInsert].[@BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectInsert].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityConvertToProject].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectInsert].[@GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectInsert].[@IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectInsert].[@ProjectManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectInsert].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityConvertToProject].[@ProjectID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectInsert].[@OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[FractionOfMargin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[CommissionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[MarginTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[FractionOfMargin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneInsert]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneInsert].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneInsert].[@Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneInsert].[@Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneInsert].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneInsert].[@ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneInsert].[@ActualDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneInsert].[@IsHourlyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneInsert].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneInsert].[@ConsultantsCanAdjust]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneInsert].[@IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestoneInsert].[@MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionInsert]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionInsert].[@OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionInsert].[@OpportunityTransitionStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionInsert].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionInsert].[@NoteText]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionInsert].[@OpportunityTransitionId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityConvertToProject].[@OpportunityId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityConvertToProject].[@UserLogin]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityConvertToProject].[@ProjectID]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="3424" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.OpportunityConvertToProject&#xD;&#xA;(&#xD;&#xA;&#x9;@OpportunityId   INT,&#xD;&#xA;&#x9;@UserLogin       NVARCHAR(255),&#xD;&#xA;&#x9;@ProjectID&#x9;&#x9; INT OUTPUT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[OpportunityExcelSet]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
    BEGIN

        SELECT	ROW_NUMBER() OVER (ORDER BY opt.OpportunityId) AS 'Review Order', opt.OpportunityId,
				optstat.[Name] AS 'Status', opt.Priority, opt.ProjectedStartDate AS 'Projected Start Date',
				client.[Name] AS 'Client name', prgroup.[Name] AS 'Client Group', opt.[Name] AS 'Opportunity name', 
				pers.FirstName + ' ' + pers.LastName AS 'Salesperson', opt.BuyerName AS 'Buyer Name',
				pract.[Name] AS 'Practice', opt.OpportunityNumber AS 'Opportunity Number', rev.[Name] AS 'Revenue type',
				proj.[ProjectNumber] as 'Attached Project',  dbo.GetOpportunityHistory(opt.OpportunityId) AS 'History'
        FROM dbo.Opportunity AS opt 
			INNER JOIN dbo.RevenueType AS rev ON rev.RevenueTypeId = opt.RevenueType
			INNER JOIN dbo.OpportunityStatus AS optstat ON opt.OpportunityStatusId = optstat.OpportunityStatusId
			INNER JOIN dbo.Client AS client ON opt.ClientId = client.ClientId
			LEFT OUTER JOIN dbo.Person AS pers ON opt.SalespersonId = pers.PersonId
			INNER JOIN dbo.Practice AS pract ON opt.PracticeId = pract.PracticeId
			LEFT OUTER JOIN dbo.Project AS proj ON opt.ProjectId = proj.ProjectId		
			LEFT OUTER JOIN dbo.ProjectGroup AS prgroup ON opt.ClientId = prgroup.ClientId AND proj.GroupId = prgroup.GroupId



    END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Opportunity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RevenueType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RevenueType].[RevenueTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[RevenueType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityStatus].[OpportunityStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[SalespersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityStatus].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Priority]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[ProjectedStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RevenueType].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetOpportunityHistory]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="10" />
				<Property Name="Length" Value="1334" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;CREATE PROCEDURE [dbo].[OpportunityExcelSet]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[OpportunityGetById]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT o.OpportunityId,
	       o.Name,
	       o.ClientId,
	       o.SalespersonId,
	       o.OpportunityStatusId,
	       o.Priority,
	       o.ProjectedStartDate,
	       o.ProjectedEndDate,
	       o.OpportunityNumber,
	       o.Description,
	       o.PracticeId,
	       o.BuyerName,
	       o.CreateDate,
	       o.Pipeline,
	       o.Proposed,
	       o.SendOut,
	       o.ClientName,
	       o.SalespersonFirstName,
	       o.SalespersonLastName,
		   ps.Name AS SalespersonStatus,
	       o.OpportunityStatusName,
	       o.PracticeName,
	       o.ProjectId,
	       o.OpportunityIndex,
	       o.RevenueType,
		   o.OwnerId,		   
		   o.LastUpdate,
		   o.GroupId,
		   o.GroupName,
		   o.PracticeManagerId,
		   p.LastName as 'OwnerLastName',
		   p.FirstName as 'OwnerFirstName',
		   os.Name AS 'OwnerStatus'
	 FROM dbo.v_Opportunity AS o
	 LEFT JOIN dbo.Person p ON o.OwnerId = p.PersonId
	 LEFT JOIN dbo.PersonStatus ps ON ps.PersonStatusId = o.SalespersonStatusId 	
	 LEFT JOIN dbo.PersonStatus os ON os.PersonStatusId = o.OwnerStatusId
	 WHERE o.OpportunityId = @OpportunityId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_Opportunity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[OwnerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[SalespersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[OwnerStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[SalespersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[OpportunityStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[Priority]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[ProjectedStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[ProjectedEndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[OpportunityNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[CreateDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[Pipeline]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[Proposed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[SendOut]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[ClientName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[SalespersonFirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[SalespersonLastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[OpportunityStatusName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[PracticeName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[OpportunityIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[RevenueType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[OwnerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[LastUpdate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[GroupName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityGetById].[@OpportunityId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityGetById].[@OpportunityId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="4" />
				<Property Name="Length" Value="1233" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#xD;&#xA;CREATE PROCEDURE [dbo].[OpportunityGetById]&#xD;&#xA;(&#xD;&#xA;&#x9;@OpportunityId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[OpportunityGetByNumber]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT o.OpportunityId
	FROM Opportunity AS o
	WHERE o.OpportunityNumber = @OpportunityNumber]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Opportunity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityGetByNumber].[@OpportunityNumber]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityGetByNumber].[@OpportunityNumber]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="12" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="4" />
				<Property Name="Length" Value="210" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#xD;&#xA;CREATE PROCEDURE dbo.OpportunityGetByNumber&#xD;&#xA;(&#xD;&#xA;&#x9;@OpportunityNumber   NVARCHAR(12)&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[OpportunityInsert]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	-- Generating Opportunity Number
	DECLARE @OpportunityNumber NVARCHAR(12)
	DECLARE @StringCounter NVARCHAR(7)
	DECLARE @Counter INT

	SET @Counter = 0

	WHILE  (1 = 1)
	BEGIN

		SET @StringCounter = CAST(@Counter AS NVARCHAR(7))
		IF LEN ( @StringCounter ) = 1
			SET @StringCounter =  '0' + @StringCounter

		SET @OpportunityNumber = dbo.MakeNumberFromDate('O', GETDATE()) + @StringCounter
	
		IF (NOT EXISTS (SELECT 1 FROM [dbo].[Opportunity] as o WHERE o.[OpportunityNumber] = @OpportunityNumber) )
			BREAK

		SET @Counter = @Counter + 1
	END

	INSERT INTO dbo.Opportunity
	            (Name, ClientId, SalespersonId, OpportunityStatusId, Priority,
	             ProjectedStartDate, ProjectedEndDate, OpportunityNumber, Description, PracticeId, BuyerName,
	             Pipeline, Proposed, SendOut, OpportunityIndex, RevenueType, ProjectId, OwnerId, GroupId)
	     VALUES (@Name, @ClientId, @SalespersonId, @OpportunityStatusId, @Priority,
	             @ProjectedStartDate, @ProjectedEndDate, @OpportunityNumber, @Description, @PracticeId, @BuyerName,
	             @Pipeline, @Proposed, @SendOut, @OpportunityIndex, @RevenueType, @ProjectId, @OwnerId, @GroupId )

	SET @OpportunityId = SCOPE_IDENTITY()

	DECLARE @PersonId INT
	SELECT @PersonId = PersonId FROM dbo.Person WHERE Alias = @UserLogin

	DECLARE @CreatedMessage NVARCHAR(200)
	SELECT @CreatedMessage = 'Opportunity created ' + o.ClientName + ' ' + o.Name
	  FROM dbo.v_Opportunity AS o
	 WHERE o.OpportunityId = @OpportunityId

	EXEC dbo.OpportunityTransitionInsert @OpportunityId = @OpportunityId,
		@OpportunityTransitionStatusId = 1,
		@PersonId = @PersonId,
		@NoteText = @CreatedMessage,
		@OpportunityTransitionId = NULL]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeNumberFromDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[SalespersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Priority]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[ProjectedStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[ProjectedEndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Pipeline]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Proposed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[SendOut]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[RevenueType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OwnerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityInsert].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityInsert].[@ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityInsert].[@SalespersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityInsert].[@OpportunityStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityInsert].[@Priority]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityInsert].[@ProjectedStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityInsert].[@ProjectedEndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityInsert].[@Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityInsert].[@PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityInsert].[@BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityInsert].[@Pipeline]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityInsert].[@Proposed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityInsert].[@SendOut]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityInsert].[@OpportunityIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityInsert].[@RevenueType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityInsert].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityInsert].[@OwnerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityInsert].[@GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityInsert].[@OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityInsert].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[ClientName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionInsert]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionInsert].[@OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionInsert].[@OpportunityTransitionStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionInsert].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionInsert].[@NoteText]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionInsert].[@OpportunityTransitionId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityInsert].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityInsert].[@ClientId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityInsert].[@SalespersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityInsert].[@OpportunityStatusId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityInsert].[@Priority]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="1" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[char]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityInsert].[@ProjectedStartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityInsert].[@ProjectedEndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityInsert].[@Description]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityInsert].[@PracticeId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityInsert].[@BuyerName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityInsert].[@Pipeline]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityInsert].[@Proposed]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityInsert].[@SendOut]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityInsert].[@UserLogin]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityInsert].[@OpportunityId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityInsert].[@OpportunityIndex]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityInsert].[@RevenueType]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityInsert].[@ProjectId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityInsert].[@OwnerId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityInsert].[@GroupId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2479" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.OpportunityInsert&#xD;&#xA;(&#xD;&#xA;&#x9;@Name                  NVARCHAR(50),&#xD;&#xA;&#x9;@ClientId              INT,&#xD;&#xA;&#x9;@SalespersonId         INT,&#xD;&#xA;&#x9;@OpportunityStatusId   INT,&#xD;&#xA;&#x9;@Priority              CHAR(1),&#xD;&#xA;&#x9;@ProjectedStartDate    DATETIME,&#xD;&#xA;&#x9;@ProjectedEndDate      DATETIME,&#xD;&#xA;&#x9;@Description           NVARCHAR(MAX),&#xD;&#xA;&#x9;@PracticeId            INT,&#xD;&#xA;&#x9;@BuyerName             NVARCHAR(100),&#xD;&#xA;&#x9;@Pipeline              NVARCHAR(512),&#xD;&#xA;&#x9;@Proposed              NVARCHAR(512),&#xD;&#xA;&#x9;@SendOut               NVARCHAR(512),&#xD;&#xA;&#x9;@UserLogin             NVARCHAR(255),&#xD;&#xA;&#x9;@OpportunityId         INT OUTPUT,&#xD;&#xA;&#x9;@OpportunityIndex      INT,&#xD;&#xA;&#x9;@RevenueType&#x9;&#x9;   INT,&#xD;&#xA;&#x9;@ProjectId             INT,&#xD;&#xA;&#x9;@OwnerId&#x9;&#x9;&#x9;   INT = NULL,&#xD;&#xA;&#x9;@GroupId&#x9;&#x9;&#x9;   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[OpportunityListAll]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON

	IF @Looked IS NULL
	BEGIN
		SET @Looked = '%'
	END
	ELSE
	BEGIN
		SET @Looked = '%' + RTRIM(@Looked) + '%'
	END		

	/*
		Go to issue #2432 for more details on default opportunities order
	*/

	--	Find all client-buyer pairs where there are more than one row per each
	declare @GroupedByClientBuyer table (ClientBuyer varchar(150))
	insert into @GroupedByClientBuyer 
		SELECT o.ClientName + isnull(o.BuyerName, '') as ClientBuyer
		FROM dbo.v_Opportunity AS o
		LEFT JOIN dbo.Person p ON o.OwnerId = p.PersonId
		LEFT JOIN dbo.PersonStatus ps ON ps.PersonStatusId = o.SalespersonStatusId  
		LEFT JOIN dbo.PersonStatus os ON os.PersonStatusId = o.OwnerStatusId  
		group by o.ClientName, o.BuyerName
		having COUNT(*) > 1	
		
	declare @OrderedIds 
				table	(
					SetNumber tinyint,
					RowNumber int,
					OpportunityId int
				)
		
	-- The first set is where grouped client-buyer pairs are held
	insert into @OrderedIds (SetNumber, RowNumber, OpportunityId)
	SELECT
		1,
		ROW_NUMBER() over (order by o.ClientName, o.BuyerName, o.SalespersonLastName),  
		o.OpportunityId
		FROM dbo.v_Opportunity AS o
	where (o.ClientName + ISNULL(o.BuyerName, '')) in (select * from @GroupedByClientBuyer)
	
	-- The second group is where ordered by priority-salesperson items are held
	insert into @OrderedIds (SetNumber, RowNumber, OpportunityId)
	SELECT
		2,
		ROW_NUMBER() over (order by o.Priority, o.SalespersonLastName),  
		o.OpportunityId
	FROM dbo.v_Opportunity AS o
	where (o.ClientName + ISNULL(o.BuyerName, '')) not in (select * from @GroupedByClientBuyer)

	-- Now we just extract opportunities and order them by set and row numbers
	SELECT  ids.SetNumber, ids.RowNumber,
			o.OpportunityId,
			o.Name,		   
			o.ClientId,
			o.SalespersonId,
			o.OpportunityStatusId,
			o.Priority,
			o.ProjectedStartDate,
			o.ProjectedEndDate,
			o.OpportunityNumber,
			o.Description,
			o.PracticeId,
			o.BuyerName,
			o.CreateDate,
			o.Pipeline,
			o.Proposed,
			o.SendOut,
			o.ClientName,
			o.SalespersonFirstName,
			o.SalespersonLastName,
			ps.Name AS SalespersonStatus,
			o.OpportunityStatusName,
			o.PracticeName,
			o.ProjectId,
			o.OpportunityIndex,
			o.RevenueType,
			o.OwnerId,
			o.LastUpdate,
			o.GroupId,
			o.GroupName,
			o.PracticeManagerId,
			p.LastName as 'OwnerLastName',
			p.FirstName as 'OwnerFirstName',
			os.Name as 'OwnerStatus'
	FROM @OrderedIds as ids 
		inner join dbo.v_Opportunity AS o on ids.OpportunityId = o.OpportunityId
		LEFT JOIN dbo.Person p ON o.OwnerId = p.PersonId
		LEFT JOIN dbo.PersonStatus ps ON ps.PersonStatusId = o.SalespersonStatusId  
		LEFT JOIN dbo.PersonStatus os ON os.PersonStatusId = o.OwnerStatusId  
	WHERE (o.OpportunityStatusId = 1 OR @ActiveOnly = 0)
		AND (o.ClientId = @ClientId OR @ClientId IS NULL)
		AND (o.SalespersonId = @SalespersonId OR @SalespersonId IS NULL)
		AND (o.Name LIKE @Looked OR o.Description LIKE @Looked OR o.ClientName LIKE @Looked OR o.OpportunityNumber LIKE @Looked OR o.BuyerName LIKE @Looked)	
		AND (o.OpportunityId in (select ot.OpportunityId from OpportunityTransition ot where ot.TargetPersonId = @TargetPersonId) OR @TargetPersonId IS NULL) 
	ORDER BY ids.SetNumber, ids.RowNumber

END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[OpportunityListAll].[@Looked]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[OwnerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[SalespersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[OwnerStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[ClientName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityListAll].[@OrderedIds].[SetNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityListAll].[@OrderedIds].[RowNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityListAll].[@OrderedIds].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[ClientName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[SalespersonLastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[Priority]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityListAll].[@OrderedIds].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[OwnerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[SalespersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[OwnerStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityListAll].[@OrderedIds].[SetNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityListAll].[@OrderedIds].[RowNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[SalespersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[OpportunityStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[Priority]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[ProjectedStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[ProjectedEndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[OpportunityNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[CreateDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[Pipeline]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[Proposed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[SendOut]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[ClientName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[SalespersonFirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[SalespersonLastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[OpportunityStatusName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[PracticeName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[OpportunityIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[RevenueType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[OwnerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[LastUpdate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[GroupName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityListAll].[@ActiveOnly]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityListAll].[@ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityListAll].[@SalespersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[TargetPersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityListAll].[@TargetPersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[OpportunityListAll].[@GroupedByClientBuyer]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[OpportunityListAll].[@GroupedByClientBuyer].[ClientBuyer]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="150" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[OpportunityListAll].[@OrderedIds]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[OpportunityListAll].[@OrderedIds].[SetNumber]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[tinyint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[OpportunityListAll].[@OrderedIds].[RowNumber]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[OpportunityListAll].[@OrderedIds].[OpportunityId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityListAll].[@ActiveOnly]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityListAll].[@Looked]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityListAll].[@ClientId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityListAll].[@SalespersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityListAll].[@TargetPersonId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityListAll].[@CurrentId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="3616" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[OpportunityListAll]&#xD;&#xA;(&#xD;&#xA;&#x9;@ActiveOnly      BIT,&#xD;&#xA;&#x9;@Looked&#x9;&#x9;     NVARCHAR(50),&#xD;&#xA;&#x9;@ClientId        INT,&#xD;&#xA;&#x9;@SalespersonId   INT,&#xD;&#xA;&#x9;@TargetPersonId&#x9; INT = NULL, -- Used to get all opportunities for a person&#xD;&#xA;&#x9;@CurrentId&#x9;&#x9; INT = NULL  -- Used to extract prev and next opportunities&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[OpportunityStatus]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[OpportunityStatus].[OpportunityStatusId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[OpportunityStatus].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[OpportunityStatusListAll]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT s.OpportunityStatusId, s.Name
	  FROM dbo.OpportunityStatus AS s
	ORDER BY s.OpportunityStatusId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[OpportunityStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityStatus].[OpportunityStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityStatus].[Name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="251" />
				<Property Name="Length" Value="431" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 11-04-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date: &#xD;&#xA;-- Description:&#x9;Retrives a list of opportunity statuses.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[OpportunityStatusListAll]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[OpportunityTransition]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[OpportunityTransition].[OpportunityTransitionId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[OpportunityTransition].[OpportunityId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[OpportunityTransition].[OpportunityTransitionStatusId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[OpportunityTransition].[TransitionDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[OpportunityTransition].[PersonId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[OpportunityTransition].[NoteText]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="2000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[OpportunityTransition].[OpportunityTransitionTypeId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[OpportunityTransition].[TargetPersonId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Index" Name="[dbo].[OpportunityTransition].[IX_OpportunityTransition_OpportunityId]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[OpportunityTransition].[OpportunityId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[OpportunityTransition]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[OpportunityTransitionDelete]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;

	delete 
	from OpportunityTransition
	where OpportunityTransitionId = @OpportunityTransitionId
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[OpportunityTransition]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[OpportunityTransitionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionDelete].[@OpportunityTransitionId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityTransitionDelete].[@OpportunityTransitionId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="207" />
				<Property Name="Length" Value="420" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-07-05&#xD;&#xA;-- Description:&#x9;Removes OpportunityTransition&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.OpportunityTransitionDelete&#xD;&#xA;&#x9;@OpportunityTransitionId&#x9;INT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[OpportunityTransitionGetByOpportunity]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT t.OpportunityTransitionId,
	       t.OpportunityId,
	       t.OpportunityTransitionStatusId,
	       t.TransitionDate,
	       t.PersonId,
	       t.NoteText,
	       s.Name AS OpportunityTransitionStatusName,
	       p.FirstName,
	       p.LastName,
		   t.TargetPersonId as TargetPersonId,
	       target.FirstName as TargetFirstName,
	       target.LastName as TargetLastName
	  FROM dbo.OpportunityTransition AS t
	       INNER JOIN dbo.OpportunityTransitionStatus AS s
	           ON t.OpportunityTransitionStatusId = s.OpportunityTransitionStatusId
	       INNER JOIN dbo.Person AS p ON t.PersonId = p.PersonId
		   Left Join dbo.Person as target ON t.TargetPersonId = target.PersonId
	 WHERE t.OpportunityId = @OpportunityId
			AND (@OpportunityTransitionStatusId IS NULL OR @OpportunityTransitionStatusId = t.OpportunityTransitionStatusId)
	ORDER BY t.TransitionDate DESC]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[OpportunityTransition]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[OpportunityTransitionStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionStatus].[OpportunityTransitionStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[TargetPersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[OpportunityTransitionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[OpportunityTransitionStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[TransitionDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[NoteText]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionStatus].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[TargetPersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionGetByOpportunity].[@OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionGetByOpportunity].[@OpportunityTransitionStatusId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityTransitionGetByOpportunity].[@OpportunityId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityTransitionGetByOpportunity].[@OpportunityTransitionStatusId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="270" />
				<Property Name="Length" Value="1333" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 11-04-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date: &#xD;&#xA;-- Description:&#x9;Retrives a list of transitions for a specified opportunity.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.OpportunityTransitionGetByOpportunity&#xD;&#xA;(&#xD;&#xA;&#x9;@OpportunityId   INT,&#xD;&#xA;&#x9;@OpportunityTransitionStatusId INT = NULL&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[OpportunityTransitionGetByPerson]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;

	select 
		ot.OpportunityTransitionId,
		ot.OpportunityTransitionStatusId,
		ot.OpportunityTransitionStatusName,
		ot.OpportunityId,
		ot.TargetPersonId,
		ot.OpportunityNumber,
		ot.OpportunityName,
		ot.Priority,
		ot.ClientName,
		ot.LastUpdated as 'LastUpdate'
	from v_OpportunityTransition as ot
	where ot.TargetPersonId = @PersonId
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_OpportunityTransition]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OpportunityTransition].[OpportunityTransitionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OpportunityTransition].[OpportunityTransitionStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OpportunityTransition].[OpportunityTransitionStatusName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OpportunityTransition].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OpportunityTransition].[TargetPersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OpportunityTransition].[OpportunityNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OpportunityTransition].[OpportunityName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OpportunityTransition].[Priority]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OpportunityTransition].[ClientName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OpportunityTransition].[LastUpdated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionGetByPerson].[@PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityTransitionGetByPerson].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="454" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE OpportunityTransitionGetByPerson &#xD;&#xA;&#x9;@PersonId INT &#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[OpportunityTransitionInsert]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	INSERT INTO dbo.OpportunityTransition
	            (OpportunityId, OpportunityTransitionStatusId, PersonId, NoteText, TargetPersonId)
	     VALUES (@OpportunityId, @OpportunityTransitionStatusId, @PersonId, @NoteText, @TargetPersonId)

	IF @OpportunityTransitionStatusId = 7 -- Lost
	BEGIN
		-- Change the opportunity status
		UPDATE dbo.Opportunity
		   SET OpportunityStatusId = 2
		 WHERE OpportunityId = @OpportunityId
	END

	SET @OpportunityTransitionId = SCOPE_IDENTITY()]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[OpportunityTransition]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[OpportunityTransitionStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[NoteText]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[TargetPersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionInsert].[@OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionInsert].[@OpportunityTransitionStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionInsert].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionInsert].[@NoteText]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionInsert].[@TargetPersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionInsert].[@OpportunityTransitionId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityTransitionInsert].[@OpportunityId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityTransitionInsert].[@OpportunityTransitionStatusId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityTransitionInsert].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityTransitionInsert].[@NoteText]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="2000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityTransitionInsert].[@TargetPersonId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityTransitionInsert].[@OpportunityTransitionId]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="273" />
				<Property Name="Length" Value="1095" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 11-04-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date: 11-11-2008&#xD;&#xA;-- Description:&#x9;Insert a new opportunity transition.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.OpportunityTransitionInsert&#xD;&#xA;(&#xD;&#xA;&#x9;@OpportunityId                   INT,&#xD;&#xA;&#x9;@OpportunityTransitionStatusId   INT,&#xD;&#xA;&#x9;@PersonId                        INT,&#xD;&#xA;&#x9;@NoteText                        NVARCHAR(2000),&#xD;&#xA;&#x9;@TargetPersonId&#x9;&#x9;&#x9;&#x9;&#x9; INT = NULL,&#xD;&#xA;&#x9;@OpportunityTransitionId&#x9;&#x9; INT = NULL OUTPUT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[OpportunityTransitionStatus]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[OpportunityTransitionStatus].[OpportunityTransitionStatusId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[OpportunityTransitionStatus].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[OpportunityTransitionStatusListAll]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT s.OpportunityTransitionStatusId, s.Name
	  FROM dbo.OpportunityTransitionStatus AS s
	 WHERE OpportunityTransitionStatusId NOT IN (1, 3, 4, 5, 6)
	ORDER BY s.OpportunityTransitionStatusId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[OpportunityTransitionStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionStatus].[OpportunityTransitionStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionStatus].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionStatus].[OpportunityTransitionStatusId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="288" />
				<Property Name="Length" Value="570" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 11-04-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date: 12-03-2008&#xD;&#xA;-- Description:&#x9;Retrives a list of opportunity transition statuses.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[OpportunityTransitionStatusListAll]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[OpportunityUpdate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	DECLARE @PrevOpportunityStatusId INT
	DECLARE @PrevPriority CHAR
	DECLARE @PrevPipeline NVARCHAR(1000)
	DECLARE @PrevProposed NVARCHAR(1000)
	DECLARE @PrevSendOut NVARCHAR(1000)

	SELECT @PrevOpportunityStatusId = o.OpportunityStatusId,
	       @PrevPriority = o.Priority,
	       @PrevPipeline = o.Pipeline,
	       @PrevProposed = o.Proposed,
	       @PrevSendOut = o.SendOut
	  FROM dbo.Opportunity AS o
	 WHERE o.OpportunityId = @OpportunityId

	UPDATE dbo.Opportunity
	   SET Name = @Name,
	       ClientId = @ClientId,
	       SalespersonId = @SalespersonId,
	       OpportunityStatusId = @OpportunityStatusId,
	       Priority = @Priority,
	       ProjectedStartDate = @ProjectedStartDate,
	       ProjectedEndDate = @ProjectedEndDate,
	       Description = @Description,
	       PracticeId = @PracticeId,
	       BuyerName = @BuyerName,
	       Pipeline = @Pipeline,
	       Proposed = @Proposed,
	       SendOut = @SendOut,
	       ProjectId = @ProjectId,
           OpportunityIndex	= @OpportunityIndex,
           RevenueType = @RevenueType,
		   OwnerId = @OwnerId,
		   GroupId = @GroupId
	 WHERE OpportunityId = @OpportunityId

	-- Logging changes
	DECLARE @NoteText NVARCHAR(2000)
	DECLARE @PersonId INT
	SELECT @PersonId = PersonId FROM dbo.Person WHERE Alias = @UserLogin

	-- Determine if the status was changed
	IF @PrevOpportunityStatusId <> @OpportunityStatusId
	BEGIN
		-- Create a history record
		SELECT @NoteText = 'Status changed.  Was: ' + Name
		  FROM dbo.OpportunityStatus
		 WHERE OpportunityStatusId = @PrevOpportunityStatusId

		SELECT @NoteText = @NoteText + ' now: ' + Name
		  FROM dbo.OpportunityStatus
		 WHERE OpportunityStatusId = @OpportunityStatusId

		EXEC dbo.OpportunityTransitionInsert @OpportunityId = @OpportunityId,
			@OpportunityTransitionStatusId = 2 /* Notes */,
			@PersonId = @PersonId,
			@NoteText = @NoteText
	END

	-- Determine if the priority was changed
	IF @PrevPriority <> @Priority
	BEGIN
		-- Create a history record
		SET @NoteText = 'Priority changed.  Was: ' + @PrevPriority + ' now: ' + @Priority

		EXEC dbo.OpportunityTransitionInsert @OpportunityId = @OpportunityId,
			@OpportunityTransitionStatusId = 2 /* Notes */,
			@PersonId = @PersonId,
			@NoteText = @NoteText
	END

	-- Determine if the pipeline was changed
	IF ISNULL(@PrevPipeline, '') <> ISNULL(@Pipeline, '')
	BEGIN
		-- Create a history record
		SET @NoteText = 'Pipeline was: ' + ISNULL(@PrevPipeline, '') + ' now: ' + ISNULL(@Pipeline, '')

		EXEC dbo.OpportunityTransitionInsert @OpportunityId = @OpportunityId,
			@OpportunityTransitionStatusId = 6 /* Pipeline */,
			@PersonId = @PersonId,
			@NoteText = @NoteText
	END

	-- Determine if the proposed was changed
	IF ISNULL(@PrevProposed, '') <> ISNULL(@Proposed, '')
	BEGIN
		-- Create a history record
		SET @NoteText = 'Proposed was: ' + ISNULL(@PrevProposed, '') + ' now: ' + ISNULL(@Proposed, '')

		EXEC dbo.OpportunityTransitionInsert @OpportunityId = @OpportunityId,
			@OpportunityTransitionStatusId = 3 /* Proposed */,
			@PersonId = @PersonId,
			@NoteText = @NoteText
	END

	-- Determine if the send-out was changed
	IF ISNULL(@PrevSendOut, '') <> ISNULL(@SendOut, '')
	BEGIN
		-- Create a history record
		SET @NoteText = 'Send-Out was: ' + ISNULL(@PrevSendOut, '') + ' now: ' + ISNULL(@SendOut, '')

		EXEC dbo.OpportunityTransitionInsert @OpportunityId = @OpportunityId,
			@OpportunityTransitionStatusId = 5 /* Send-Out */,
			@PersonId = @PersonId,
			@NoteText = @NoteText
	END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[char]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Priority]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Pipeline]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Proposed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[SendOut]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityUpdate].[@OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityUpdate].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityUpdate].[@ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[SalespersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityUpdate].[@SalespersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityUpdate].[@OpportunityStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Priority]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityUpdate].[@Priority]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[ProjectedStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityUpdate].[@ProjectedStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[ProjectedEndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityUpdate].[@ProjectedEndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityUpdate].[@Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityUpdate].[@PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityUpdate].[@BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Pipeline]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityUpdate].[@Pipeline]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Proposed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityUpdate].[@Proposed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[SendOut]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityUpdate].[@SendOut]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityUpdate].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityUpdate].[@OpportunityIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[RevenueType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityUpdate].[@RevenueType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OwnerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityUpdate].[@OwnerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityUpdate].[@GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityUpdate].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityStatus].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityStatus].[OpportunityStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionInsert]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionInsert].[@OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionInsert].[@OpportunityTransitionStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionInsert].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionInsert].[@NoteText]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityUpdate].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityUpdate].[@ClientId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityUpdate].[@SalespersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityUpdate].[@OpportunityStatusId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityUpdate].[@Priority]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="1" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[char]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityUpdate].[@ProjectedStartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityUpdate].[@ProjectedEndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityUpdate].[@Description]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityUpdate].[@PracticeId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityUpdate].[@BuyerName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityUpdate].[@Pipeline]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityUpdate].[@Proposed]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityUpdate].[@SendOut]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="512" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityUpdate].[@OpportunityId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityUpdate].[@UserLogin]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityUpdate].[@ProjectId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityUpdate].[@OpportunityIndex]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityUpdate].[@RevenueType]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityUpdate].[@OwnerId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OpportunityUpdate].[@GroupId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="8" />
				<Property Name="Length" Value="4339" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;CREATE PROCEDURE dbo.OpportunityUpdate&#xD;&#xA;(&#xD;&#xA;&#x9;@Name                  NVARCHAR(50),&#xD;&#xA;&#x9;@ClientId              INT,&#xD;&#xA;&#x9;@SalespersonId         INT,&#xD;&#xA;&#x9;@OpportunityStatusId   INT,&#xD;&#xA;&#x9;@Priority              CHAR(1),&#xD;&#xA;&#x9;@ProjectedStartDate    DATETIME,&#xD;&#xA;&#x9;@ProjectedEndDate      DATETIME,&#xD;&#xA;&#x9;@Description           NVARCHAR(MAX),&#xD;&#xA;&#x9;@PracticeId            INT,&#xD;&#xA;&#x9;@BuyerName             NVARCHAR(100),&#xD;&#xA;&#x9;@Pipeline              NVARCHAR(512),&#xD;&#xA;&#x9;@Proposed              NVARCHAR(512),&#xD;&#xA;&#x9;@SendOut               NVARCHAR(512),&#xD;&#xA;&#x9;@OpportunityId         INT,&#xD;&#xA;&#x9;@UserLogin             NVARCHAR(255),&#xD;&#xA;    @ProjectId             INT,&#xD;&#xA;    @OpportunityIndex      INT,&#xD;&#xA;&#x9;@RevenueType&#x9;&#x9;   INT,&#xD;&#xA;&#x9;@OwnerId&#x9;&#x9;&#x9;   INT = NULL,&#xD;&#xA;&#x9;@GroupId&#x9;&#x9;&#x9;   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[OverheadAdministration]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[OverheadAdministration].[OverheadAdministrationId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[OverheadAdministration].[Description]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[OverheadAdministration].[HourlyRate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[OverheadFixedRate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[OverheadFixedRate].[OverheadFixedRateId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[OverheadFixedRate].[Description]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[OverheadFixedRate].[Rate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="5" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[OverheadFixedRate].[StartDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[OverheadFixedRate].[EndDate]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[OverheadFixedRate].[RateType]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[OverheadFixedRate].[Inactive]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[OverheadFixedRate].[IsCogs]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[OverheadFixedRateGetById]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT r.OverheadFixedRateId,
	       r.Description,
	       r.Rate,
	       r.StartDate,
	       r.EndDate,
	       r.Inactive,
	       r.OverheadRateTypeId,
	       r.OverheadRateTypeName,
	       r.IsPercentage,
	       r.HoursToCollect,
	       r.IsCogs
	  FROM dbo.v_OverheadFixedRate AS r
	 WHERE r.OverheadFixedRateId = @OverheadFixedRateId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[OverheadFixedRateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[Rate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[Inactive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[OverheadRateTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[OverheadRateTypeName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[IsPercentage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[HoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[IsCogs]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateGetById].[@OverheadFixedRateId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OverheadFixedRateGetById].[@OverheadFixedRateId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="275" />
				<Property Name="Length" Value="744" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-27-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;8-07-2008&#xD;&#xA;-- Description:&#x9;Retrieves the overhead with its details.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[OverheadFixedRateGetById]&#xD;&#xA;(&#xD;&#xA;&#x9;@OverheadFixedRateId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[OverheadFixedRateInsert]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	INSERT INTO dbo.OverheadFixedRate
	            (Description, Rate, StartDate, EndDate, RateType, Inactive, IsCogs)
	     VALUES (@Description, @Rate, @StartDate, @EndDate, @RateType, @Inactive, @IsCogs)

	SET @OverheadFixedRateId = SCOPE_IDENTITY()]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[OverheadFixedRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRate].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRate].[Rate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRate].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRate].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRate].[RateType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRate].[Inactive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRate].[IsCogs]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateInsert].[@Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateInsert].[@Rate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateInsert].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateInsert].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateInsert].[@RateType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateInsert].[@Inactive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateInsert].[@IsCogs]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateInsert].[@OverheadFixedRateId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OverheadFixedRateInsert].[@Description]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OverheadFixedRateInsert].[@Rate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="3" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OverheadFixedRateInsert].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OverheadFixedRateInsert].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OverheadFixedRateInsert].[@RateType]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OverheadFixedRateInsert].[@Inactive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OverheadFixedRateInsert].[@IsCogs]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OverheadFixedRateInsert].[@OverheadFixedRateId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="256" />
				<Property Name="Length" Value="861" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-27-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;8-07-2008&#xD;&#xA;-- Description:&#x9;Inserts the overhead.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[OverheadFixedRateInsert]&#xD;&#xA;(&#xD;&#xA;&#x9;@Description           NVARCHAR(255),&#xD;&#xA;&#x9;@Rate                  DECIMAL(18,3),&#xD;&#xA;&#x9;@StartDate             DATETIME,&#xD;&#xA;&#x9;@EndDate               DATETIME,&#xD;&#xA;&#x9;@RateType              INT,&#xD;&#xA;&#x9;@Inactive              BIT,&#xD;&#xA;&#x9;@IsCogs                BIT,&#xD;&#xA;&#x9;@OverheadFixedRateId   INT OUT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[OverheadFixedRateListAll]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT r.OverheadFixedRateId,
	       r.Description,
	       r.Rate,
	       r.StartDate,
	       r.EndDate,
	       r.Inactive,
	       r.OverheadRateTypeId,
	       r.OverheadRateTypeName,
	       r.IsPercentage,
	       r.HoursToCollect,
	       r.IsCogs
	  FROM dbo.v_OverheadFixedRate AS r
	 WHERE r.Inactive = 0 OR @ShowAll = 1
	ORDER BY r.HoursToCollect, r.OverheadRateTypeName]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[OverheadFixedRateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[Rate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[Inactive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[OverheadRateTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[OverheadRateTypeName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[IsPercentage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[HoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[IsCogs]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateListAll].[@ShowAll]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OverheadFixedRateListAll].[@ShowAll]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="273" />
				<Property Name="Length" Value="776" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-27-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date: 8-07-2008&#xD;&#xA;-- Description:&#x9;Retrieves the list the overhead rates.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[OverheadFixedRateListAll]&#xD;&#xA;(&#xD;&#xA;&#x9;@ShowAll       BIT = 0&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[OverheadFixedRateTimescale]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[OverheadFixedRateTimescale].[OverheadFixedRateId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[OverheadFixedRateTimescale].[TimescaleId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[OverheadFixedRateUpdate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	UPDATE dbo.OverheadFixedRate
	   SET Description = @Description,
	       Rate = @Rate,
	       StartDate = @StartDate,
	       EndDate = @EndDate,
	       RateType = @RateType,
	       Inactive = @Inactive,
	       IsCogs = @IsCogs
	 WHERE OverheadFixedRateId = @OverheadFixedRateId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[OverheadFixedRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRate].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateUpdate].[@Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRate].[Rate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateUpdate].[@Rate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRate].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateUpdate].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRate].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateUpdate].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRate].[RateType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateUpdate].[@RateType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRate].[Inactive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateUpdate].[@Inactive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRate].[IsCogs]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateUpdate].[@IsCogs]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRate].[OverheadFixedRateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateUpdate].[@OverheadFixedRateId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OverheadFixedRateUpdate].[@OverheadFixedRateId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OverheadFixedRateUpdate].[@Description]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OverheadFixedRateUpdate].[@Rate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="3" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OverheadFixedRateUpdate].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OverheadFixedRateUpdate].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OverheadFixedRateUpdate].[@RateType]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OverheadFixedRateUpdate].[@Inactive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OverheadFixedRateUpdate].[@IsCogs]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="256" />
				<Property Name="Length" Value="895" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-27-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;8-07-2008&#xD;&#xA;-- Description:&#x9;Updates the overhead.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[OverheadFixedRateUpdate]&#xD;&#xA;(&#xD;&#xA;&#x9;@OverheadFixedRateId   INT,&#xD;&#xA;&#x9;@Description           NVARCHAR(255),&#xD;&#xA;&#x9;@Rate                  DECIMAL(18,3),&#xD;&#xA;&#x9;@StartDate             DATETIME,&#xD;&#xA;&#x9;@EndDate               DATETIME,&#xD;&#xA;&#x9;@RateType              INT,&#xD;&#xA;&#x9;@Inactive              BIT,&#xD;&#xA;&#x9;@IsCogs                BIT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[OverheadRateType]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[OverheadRateType].[OverheadRateTypeId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[OverheadRateType].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[OverheadRateType].[IsPercentage]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[OverheadRateType].[HoursToCollect]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[OverheadRateTypeGetById]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	
	SELECT t.[OverheadRateTypeId],
	       t.[Name],
	       t.[HoursToCollect],
	       t.[IsPercentage]
	  FROM dbo.[OverheadRateType] AS t
	 WHERE t.[OverheadRateTypeId] = @OverheadRateTypeId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[OverheadRateType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadRateType].[OverheadRateTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadRateType].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadRateType].[HoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadRateType].[IsPercentage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadRateTypeGetById].[@OverheadRateTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OverheadRateTypeGetById].[@OverheadRateTypeId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="225" />
				<Property Name="Length" Value="529" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--The source is &#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 6-11-2008&#xD;&#xA;-- Description:&#x9;Retrieves the overhead rate type&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[OverheadRateTypeGetById]&#xD;&#xA;(&#xD;&#xA;&#x9;@OverheadRateTypeId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[OverheadRateTypeListAll]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT t.OverheadRateTypeId,
	       t.Name,
	       t.IsPercentage,
	       t.HoursToCollect
	  FROM dbo.OverheadRateType AS t
	ORDER BY t.HoursToCollect, t.Name]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[OverheadRateType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadRateType].[OverheadRateTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadRateType].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadRateType].[IsPercentage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadRateType].[HoursToCollect]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="236" />
				<Property Name="Length" Value="477" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--The source is &#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-27-2008&#xD;&#xA;-- Description:&#x9;Retrieves the list the overhead rate types.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[OverheadRateTypeListAll]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[OverheadTimescaleListByOverheadId]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT r.OverheadFixedRateId,
	       t.TimescaleId,
	       CAST(CASE WHEN o.OverheadFixedRateId IS NOT NULL THEN 1 ELSE 0 END AS BIT) AS IsSet
	  FROM dbo.OverheadFixedRate AS r
	       CROSS JOIN dbo.Timescale AS t
	       LEFT JOIN dbo.OverheadFixedRateTimescale o
	           ON o.OverheadFixedRateId = r.OverheadFixedRateId AND o.TimescaleId = t.TimescaleId
	 WHERE r.OverheadFixedRateId = @OverheadFixedRateId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[OverheadFixedRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Timescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale].[OverheadFixedRateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRate].[OverheadFixedRateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale].[TimescaleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Timescale].[TimescaleId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadTimescaleListByOverheadId].[@OverheadFixedRateId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OverheadTimescaleListByOverheadId].[@OverheadFixedRateId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="218" />
				<Property Name="Length" Value="760" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--The source is &#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-27-2008&#xD;&#xA;-- Description:&#x9;Lists overhead timescales&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[OverheadTimescaleListByOverheadId]&#xD;&#xA;(&#xD;&#xA;&#x9;@OverheadFixedRateId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[OverheadTimescaleRemove]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	DELETE
	  FROM dbo.OverheadFixedRateTimescale
	 WHERE OverheadFixedRateId = @OverheadFixedRateId
	   AND TimescaleId = @TimescaleId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale].[OverheadFixedRateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadTimescaleRemove].[@OverheadFixedRateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale].[TimescaleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadTimescaleRemove].[@TimescaleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OverheadTimescaleRemove].[@OverheadFixedRateId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OverheadTimescaleRemove].[@TimescaleId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="246" />
				<Property Name="Length" Value="519" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--The source is &#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-27-2008&#xD;&#xA;-- Description:&#x9;Set the timescale for the overhead as non-applicable.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[OverheadTimescaleRemove]&#xD;&#xA;(&#xD;&#xA;&#x9;@OverheadFixedRateId   INT,&#xD;&#xA;&#x9;@TimescaleId           INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[OverheadTimescaleSet]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	IF NOT EXISTS (SELECT 1
	                 FROM dbo.OverheadFixedRateTimescale AS rt
	                WHERE rt.OverheadFixedRateId = @OverheadFixedRateId
	                  AND rt.TimescaleId = @TimescaleId)
	BEGIN
		INSERT INTO dbo.OverheadFixedRateTimescale
		            (OverheadFixedRateId, TimescaleId)
		     VALUES (@OverheadFixedRateId, @TimescaleId)
	END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale].[OverheadFixedRateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadTimescaleSet].[@OverheadFixedRateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale].[TimescaleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadTimescaleSet].[@TimescaleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale].[OverheadFixedRateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale].[TimescaleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OverheadTimescaleSet].[@OverheadFixedRateId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[OverheadTimescaleSet].[@TimescaleId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="242" />
				<Property Name="Length" Value="749" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--The source is &#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-27-2008&#xD;&#xA;-- Description:&#x9;Set the timescale for the overhead as applicable.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[OverheadTimescaleSet]&#xD;&#xA;(&#xD;&#xA;&#x9;@OverheadFixedRateId   INT,&#xD;&#xA;&#x9;@TimescaleId           INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[Pay]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Pay].[Person]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Pay].[StartDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[smalldatetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Pay].[EndDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[smalldatetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Pay].[Amount]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Pay].[Timescale]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Pay].[TimesPaidPerMonth]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Pay].[Terms]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Pay].[VacationDays]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Pay].[BonusAmount]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Pay].[BonusHoursToCollect]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Pay].[DefaultHoursPerDay]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PayGetByPersonStartDate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT p.PersonId,
	       p.StartDate,
	       p.EndDate,
	       p.Amount,
	       p.Timescale,
	       p.AmountHourly,
	       p.TimesPaidPerMonth,
	       p.Terms,
	       p.VacationDays,
	       p.BonusAmount,
	       p.BonusHoursToCollect,
	       p.IsYearBonus,
	       p.DefaultHoursPerDay,
	       p.TimescaleName
	  FROM dbo.v_Pay AS p
	 WHERE p.PersonId = @PersonId
	   AND p.StartDate = @StartDate]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_Pay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[Timescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[AmountHourly]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[TimesPaidPerMonth]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[VacationDays]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[BonusAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[BonusHoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[IsYearBonus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[DefaultHoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[TimescaleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PayGetByPersonStartDate].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PayGetByPersonStartDate].[@StartDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PayGetByPersonStartDate].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PayGetByPersonStartDate].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="289" />
				<Property Name="Length" Value="838" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--The source is &#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 6-24-2008&#xD;&#xA;-- Update by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Retrives a specific payment for the specified person and date.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[PayGetByPersonStartDate]&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId    INT,&#xD;&#xA;&#x9;@StartDate   DATETIME&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PayGetCurrentByPerson]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	DECLARE @Now DATETIME
	SET @Now = GETDATE()

	SELECT p.PersonId,
	       p.StartDate,
	       p.EndDate,
	       p.Amount,
	       p.Timescale,
	       p.AmountHourly,
	       p.TimesPaidPerMonth,
	       p.Terms,
	       p.VacationDays,
	       p.BonusAmount,
	       p.BonusHoursToCollect,
	       p.IsYearBonus,
	       p.DefaultHoursPerDay,
	       p.TimescaleName
	  FROM dbo.v_Pay AS p
	 WHERE p.PersonId = @PersonId
	   AND @Now >= p.StartDate
	   AND @Now < p.EndDateOrig
	UNION ALL
	SELECT TOP 1
	       p.PersonId,
	       p.StartDate,
	       p.EndDate,
	       p.Amount,
	       p.Timescale,
	       p.AmountHourly,
	       p.TimesPaidPerMonth,
	       p.Terms,
	       p.VacationDays,
	       p.BonusAmount,
	       p.BonusHoursToCollect,
	       p.IsYearBonus,
	       p.DefaultHoursPerDay,
	       p.TimescaleName
	  FROM dbo.v_Pay AS p
	 WHERE p.PersonId = @PersonId
	   AND NOT EXISTS(SELECT 1
	                    FROM dbo.v_Pay AS p
	                   WHERE p.PersonId = @PersonId
	                     AND @Now >= p.StartDate
	                     AND @Now < p.EndDateOrig)
	   AND @Now < p.StartDate
	ORDER BY p.StartDate]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[Timescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[AmountHourly]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[TimesPaidPerMonth]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[VacationDays]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[BonusAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[BonusHoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[IsYearBonus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[DefaultHoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[TimescaleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PayGetCurrentByPerson].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[EndDateOrig]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[EndDateOrig]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PayGetCurrentByPerson].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="321" />
				<Property Name="Length" Value="1605" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--The source is &#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-26-2008&#xD;&#xA;-- Update by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;7-3-2008&#xD;&#xA;-- Description:&#x9;Retrives a current or nearest future payment for the specified person.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[PayGetCurrentByPerson]&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PayGetHistoryByPerson]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT p.PersonId,
	       p.StartDate,
	       p.EndDate,
	       p.Amount,
	       p.Timescale,
	       p.AmountHourly,
	       p.TimesPaidPerMonth,
	       p.Terms,
	       p.VacationDays,
	       p.BonusAmount,
	       p.BonusHoursToCollect,
	       p.IsYearBonus,
	       p.DefaultHoursPerDay,
	       p.TimescaleName
	  FROM dbo.v_Pay AS p
	 WHERE p.PersonId = @PersonId
	ORDER BY p.StartDate]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_Pay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[Timescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[AmountHourly]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[TimesPaidPerMonth]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[VacationDays]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[BonusAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[BonusHoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[IsYearBonus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[DefaultHoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[TimescaleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PayGetHistoryByPerson].[@PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PayGetHistoryByPerson].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="304" />
				<Property Name="Length" Value="814" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--The source is &#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 6-23-2008&#xD;&#xA;-- Update by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;6-24-2008&#xD;&#xA;-- Description:&#x9;Retrives a payment histiry for the specified person.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[PayGetHistoryByPerson]&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PaySave]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	SET XACT_ABORT ON

	SELECT @EndDate = ISNULL(@EndDate, dbo.GetFutureDate())
	SELECT @OLD_EndDate = ISNULL(@OLD_EndDate, dbo.GetFutureDate())

	IF EXISTS(SELECT 1
	            FROM dbo.Pay
	           WHERE Person = @PersonId 
	             AND StartDate >= @StartDate
	             AND StartDate <> @OLD_StartDate
	             AND ISNULL(EndDate, dbo.GetFutureDate()) <= @OLD_StartDate)
	BEGIN
		-- The record overlaps from begining
		RAISERROR (70005, 16, 1)
		RETURN
	END
	ELSE IF EXISTS(SELECT 1
	                 FROM dbo.Pay
	                WHERE Person = @PersonId 
	                  AND EndDate <= @EndDate
	                  AND ISNULL(EndDate, dbo.GetFutureDate()) <> @OLD_EndDate
	                  AND StartDate >= @OLD_EndDate)
	BEGIN
		-- The records overlaps from ending
		RAISERROR (70007, 16, 1)
		RETURN
	END
	ELSE IF EXISTS(SELECT 1
	                 FROM dbo.Pay
	                WHERE Person = @PersonId
	                  AND StartDate <= @StartDate AND ISNULL(EndDate, dbo.GetFutureDate()) >= @EndDate
	                  AND StartDate <> @OLD_StartDate AND ISNULL(EndDate, dbo.GetFutureDate()) <> @OLD_EndDate)
	BEGIN
		-- The record overlaps within the period
		RAISERROR (70008, 16, 1)
		RETURN
	END

	BEGIN TRAN

	IF EXISTS(SELECT 1
	            FROM dbo.Pay
	           WHERE Person = @PersonId AND StartDate = @OLD_StartDate AND EndDate = @OLD_EndDate)
	BEGIN
		-- Auto-adjust a previous record
		UPDATE dbo.Pay
		   SET EndDate = @StartDate
		 WHERE Person = @PersonId AND EndDate = @OLD_StartDate

		-- Auto-adjust a next record
		UPDATE dbo.Pay
		   SET StartDate = @EndDate
		 WHERE Person = @PersonId AND StartDate = @OLD_EndDate

		UPDATE dbo.Pay
		   SET Amount = @Amount,
		       Timescale = @Timescale,
		       TimesPaidPerMonth = @TimesPaidPerMonth,
		       Terms = @Terms,
			   VacationDays = @VacationDays,
			   BonusAmount = @BonusAmount,
			   BonusHoursToCollect = ISNULL(@BonusHoursToCollect, dbo.GetHoursPerYear()),
		       DefaultHoursPerDay = @DefaultHoursPerDay,
		       StartDate = @StartDate,
		       EndDate = @EndDate
		 WHERE Person = @PersonId AND StartDate = @OLD_StartDate AND EndDate = @OLD_EndDate
	END
	ELSE
	BEGIN
		-- Auto-adjust a previous record
		UPDATE dbo.Pay
		   SET EndDate = @StartDate
		 WHERE Person = @PersonId AND EndDate > @StartDate

		INSERT INTO dbo.Pay
					(Person, StartDate, EndDate, Amount, Timescale, TimesPaidPerMonth, Terms,
					 VacationDays, BonusAmount, BonusHoursToCollect,
					 DefaultHoursPerDay)
			 VALUES (@PersonId, @StartDate, @EndDate, @Amount, @Timescale, @TimesPaidPerMonth, @Terms,
					 @VacationDays, @BonusAmount, ISNULL(@BonusHoursToCollect, dbo.GetHoursPerYear()),
					 @DefaultHoursPerDay)
	END

	COMMIT TRAN]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[PaySave].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PaySave].[@OLD_EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PaySave].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PaySave].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PaySave].[@OLD_StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PaySave].[@Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Timescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PaySave].[@Timescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[TimesPaidPerMonth]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PaySave].[@TimesPaidPerMonth]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PaySave].[@Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[VacationDays]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PaySave].[@VacationDays]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[BonusAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PaySave].[@BonusAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[BonusHoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PaySave].[@BonusHoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetHoursPerYear]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[DefaultHoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PaySave].[@DefaultHoursPerDay]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PaySave].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PaySave].[@Amount]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PaySave].[@Timescale]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PaySave].[@TimesPaidPerMonth]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PaySave].[@Terms]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PaySave].[@VacationDays]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PaySave].[@BonusAmount]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PaySave].[@BonusHoursToCollect]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PaySave].[@DefaultHoursPerDay]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PaySave].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PaySave].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PaySave].[@OLD_StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PaySave].[@OLD_EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="300" />
				<Property Name="Length" Value="3586" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--The source is &#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-26-2008&#xD;&#xA;-- Update by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;7-3-2008&#xD;&#xA;-- Description:&#x9;Saves a current payment for the specified person.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[PaySave]&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId            INT,&#xD;&#xA;&#x9;@Amount              DECIMAL(18,2),&#xD;&#xA;&#x9;@Timescale           INT,&#xD;&#xA;&#x9;@TimesPaidPerMonth   INT,&#xD;&#xA;&#x9;@Terms               INT,&#xD;&#xA;&#x9;@VacationDays        INT,&#xD;&#xA;&#x9;@BonusAmount         DECIMAL(18,2),&#xD;&#xA;&#x9;@BonusHoursToCollect INT,&#xD;&#xA;&#x9;@DefaultHoursPerDay  DECIMAL(18,2),&#xD;&#xA;&#x9;@StartDate           DATETIME,&#xD;&#xA;&#x9;@EndDate             DATETIME,&#xD;&#xA;&#x9;@OLD_StartDate       DATETIME,&#xD;&#xA;&#x9;@OLD_EndDate         DATETIME&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[Permission]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Permission].[PermissionId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Permission].[PersonId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Permission].[TargetType]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[smallint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Permission].[TargetId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PermissionsGetAll]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SELECT TargetId, TargetType FROM dbo.Permission WHERE PersonID = @PersonID
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Permission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsGetAll].[@PersonID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PermissionsGetAll].[@PersonID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="157" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[PermissionsGetAll]&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonID INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PermissionsGetAllowedClients]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SELECT TargetId FROM dbo.Permission WHERE TargetType = 1
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Permission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetType]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PermissionsGetAllowedClients].[@PersonID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="150" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[PermissionsGetAllowedClients]&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonID INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PermissionsGetAllowedGroups]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SELECT TargetId FROM dbo.Permission WHERE TargetType = 2
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Permission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetType]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PermissionsGetAllowedGroups].[@PersonID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="149" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[PermissionsGetAllowedGroups]&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonID INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PermissionsGetAllowedPracticeManagers]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SELECT TargetId FROM dbo.Permission WHERE TargetType = 4
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Permission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetType]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PermissionsGetAllowedPracticeManagers].[@PersonID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="159" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[PermissionsGetAllowedPracticeManagers]&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonID INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PermissionsGetAllowedPractices]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SELECT TargetId FROM dbo.Permission WHERE TargetType = 5
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Permission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetType]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PermissionsGetAllowedPractices].[@PersonID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="152" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[PermissionsGetAllowedPractices]&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonID INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PermissionsGetAllowedSalespersons]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SELECT TargetId FROM dbo.Permission WHERE TargetType = 3
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Permission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetType]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PermissionsGetAllowedSalespersons].[@PersonID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="155" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[PermissionsGetAllowedSalespersons]&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonID INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PermissionsSet]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	BEGIN TRANSACTION    -- Start the transaction

	-- Remove all previous permissions for the person
	--		of given permission target
	DELETE FROM [Permission]
	WHERE 
			PersonId = @PersonId 
		AND TargetType = @TargetType

	-- Insert new permissions
	IF @TargetIdsList IS NULL 
	INSERT 
		INTO [Permission] (PersonId, TargetType, TargetId)
		VALUES (@PersonId, @TargetType, NULL)
	ELSE 
	INSERT 
		INTO [Permission] (PersonId, TargetType, TargetId)
		SELECT @PersonId, @TargetType, tbl.ResultId 
		FROM ConvertStringListIntoTable(@TargetIdsList) AS tbl

	-- See if there is an error
	IF @@ERROR <> 0
	  -- There's an error b/c @ERROR is not 0, rollback
	  ROLLBACK
	ELSE
	  COMMIT   -- Success.  Commit the transaction]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Permission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSet].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSet].[@TargetType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSet].[@TargetIdsList]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConvertStringListIntoTable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConvertStringListIntoTable].[ResultId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PermissionsSet].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PermissionsSet].[@TargetType]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PermissionsSet].[@TargetIdsList]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="853" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[PermissionsSet]&#xD;&#xA;&#x9;@PersonId INT,&#xD;&#xA;&#x9;@TargetType INT,&#xD;&#xA;&#x9;@TargetIdsList VARCHAR(500)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PermissionsSetAll]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	EXECUTE dbo.PermissionsSetClients
		@PersonId = @PersonId, -- INT
		@TargetIdsList = @ClientIdsList -- VARCHAR(500)
	
	EXECUTE dbo.PermissionsSetGroups
		@PersonId = @PersonId, -- INT
		@TargetIdsList = @GroupIdsList -- VARCHAR(500)
	
	EXECUTE dbo.PermissionsSetSalespersons
		@PersonId = @PersonId, -- INT
		@TargetIdsList = @SalespersonIdsList -- VARCHAR(500)
	
	EXECUTE dbo.PermissionsSetPracticeManagers
		@PersonId = @PersonId, -- INT
		@TargetIdsList = @PracticeManagerIdsList -- VARCHAR(500)
	
	EXECUTE dbo.PermissionsSetPractices
		@PersonId = @PersonId, -- INT
		@TargetIdsList = @PracticeIdsList -- VARCHAR(500)]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[PermissionsSetClients]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetClients].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetAll].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetClients].[@TargetIdsList]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetAll].[@ClientIdsList]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetGroups]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetGroups].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetGroups].[@TargetIdsList]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetAll].[@GroupIdsList]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetSalespersons]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetSalespersons].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetSalespersons].[@TargetIdsList]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetAll].[@SalespersonIdsList]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetPracticeManagers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetPracticeManagers].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetPracticeManagers].[@TargetIdsList]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetAll].[@PracticeManagerIdsList]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetPractices]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetPractices].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetPractices].[@TargetIdsList]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetAll].[@PracticeIdsList]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PermissionsSetAll].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PermissionsSetAll].[@ClientIdsList]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PermissionsSetAll].[@GroupIdsList]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PermissionsSetAll].[@SalespersonIdsList]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PermissionsSetAll].[@PracticeManagerIdsList]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PermissionsSetAll].[@PracticeIdsList]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="874" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[PermissionsSetAll]&#xD;&#xA;&#x9;@PersonId INT,&#xD;&#xA;&#x9;@ClientIdsList VARCHAR(500),&#xD;&#xA;&#x9;@GroupIdsList VARCHAR(500),&#xD;&#xA;&#x9;@SalespersonIdsList VARCHAR(500),&#xD;&#xA;&#x9;@PracticeManagerIdsList VARCHAR(500),&#xD;&#xA;&#x9;@PracticeIdsList VARCHAR(500)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PermissionsSetClients]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	EXECUTE PermissionsSet
		@PersonId = @PersonId,
		@TargetType = 1,
		@TargetIdsList = @TargetIdsList]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[PermissionsSet]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSet].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetClients].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSet].[@TargetType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSet].[@TargetIdsList]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetClients].[@TargetIdsList]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PermissionsSetClients].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PermissionsSetClients].[@TargetIdsList]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="203" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[PermissionsSetClients]&#xD;&#xA;&#x9;@PersonId INT,&#xD;&#xA;&#x9;@TargetIdsList VARCHAR(500)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PermissionsSetGroups]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	EXECUTE PermissionsSet
		@PersonId = @PersonId,
		@TargetType = 2,
		@TargetIdsList = @TargetIdsList]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[PermissionsSet]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSet].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetGroups].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSet].[@TargetType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSet].[@TargetIdsList]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetGroups].[@TargetIdsList]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PermissionsSetGroups].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PermissionsSetGroups].[@TargetIdsList]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="202" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[PermissionsSetGroups]&#xD;&#xA;&#x9;@PersonId INT,&#xD;&#xA;&#x9;@TargetIdsList VARCHAR(500)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PermissionsSetPracticeManagers]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	EXECUTE PermissionsSet
		@PersonId = @PersonId,
		@TargetType = 4,
		@TargetIdsList = @TargetIdsList]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[PermissionsSet]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSet].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetPracticeManagers].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSet].[@TargetType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSet].[@TargetIdsList]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetPracticeManagers].[@TargetIdsList]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PermissionsSetPracticeManagers].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PermissionsSetPracticeManagers].[@TargetIdsList]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="212" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[PermissionsSetPracticeManagers]&#xD;&#xA;&#x9;@PersonId INT,&#xD;&#xA;&#x9;@TargetIdsList VARCHAR(500)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PermissionsSetPractices]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	EXECUTE PermissionsSet
		@PersonId = @PersonId,
		@TargetType = 5,
		@TargetIdsList = @TargetIdsList]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[PermissionsSet]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSet].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetPractices].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSet].[@TargetType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSet].[@TargetIdsList]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetPractices].[@TargetIdsList]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PermissionsSetPractices].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PermissionsSetPractices].[@TargetIdsList]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="205" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[PermissionsSetPractices]&#xD;&#xA;&#x9;@PersonId INT,&#xD;&#xA;&#x9;@TargetIdsList VARCHAR(500)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PermissionsSetSalespersons]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	EXECUTE PermissionsSet
		@PersonId = @PersonId,
		@TargetType = 3,
		@TargetIdsList = @TargetIdsList]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[PermissionsSet]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSet].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetSalespersons].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSet].[@TargetType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSet].[@TargetIdsList]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionsSetSalespersons].[@TargetIdsList]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PermissionsSetSalespersons].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PermissionsSetSalespersons].[@TargetIdsList]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="208" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[PermissionsSetSalespersons]&#xD;&#xA;&#x9;@PersonId INT,&#xD;&#xA;&#x9;@TargetIdsList VARCHAR(500)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[PermissionTarget]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[PermissionTarget].[PermissionTypeID]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[smallint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[PermissionTarget].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[Person]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Person].[PersonId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Person].[PTODaysPerAnnum]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Person].[HireDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Person].[TerminationDate]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Person].[Alias]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Person].[DefaultPractice]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Person].[FirstName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="40" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Person].[LastName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="40" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Person].[Notes]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Person].[PersonStatusId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Person].[EmployeeNumber]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="12" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Person].[SeniorityId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Person].[ManagerId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Person].[PracticeOwnedId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Person].[IsDefaultManager]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Person].[TelephoneNumber]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Index" Name="[dbo].[Person].[IX_PersonAlias]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Person].[Alias]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Index" Name="[dbo].[Person].[IX_PersonName]">
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Person].[LastName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Person].[FirstName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[PersonCalendar]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[PersonCalendar].[Date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[PersonCalendar].[PersonId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[PersonCalendar].[DayOff]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[PersonCalendarAuto]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[PersonCalendarAuto].[Date]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[PersonCalendarAuto].[PersonId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[PersonCalendarAuto].[DayOff]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Index" Name="[dbo].[PersonCalendarAuto].[IX_PersonCalendarAuto]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[PersonCalendarAuto].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[PersonCalendarAuto].[DayOff]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[PersonCalendarAuto].[Date]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100MultiStatementTableValuedFunction" Name="[dbo].[PersonClientPermissions]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="ReturnTableVariable" Value="@Result" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_Permissions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Permissions].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Permissions].[PermissionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Permissions].[PersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonClientPermissions].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonClientPermissions].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[PersonClientPermissions].[TargetId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	-- Insert permissions from permissions table
	insert into @result
		select p.TargetId 
		from v_Permissions as p 
		where p.PermissionTypeId = 1 -- Client
				and p.PersonId = @PersonId

	-- Select top record from result set
	delete 
	from @result
	where TargetId IS NULL

	-- If it's null, then person has all permissions
	IF (@@RowCount > 0)
		-- Insert all targets
		insert into @result
			select c.ClientId
			from dbo.Client as c

	RETURN
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="592" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION dbo.PersonClientPermissions&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId&#x9;INT&#xD;&#xA;)&#xD;&#xA;RETURNS &#xD;&#xA;@Result table&#xD;&#xA;(&#xD;&#xA;&#x9;TargetId int&#xD;&#xA;)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonClientPermissions].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonDelete]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	DELETE dbo.DefaultCommission
	 WHERE PersonId = @PersonId

	DELETE dbo.Pay
	 WHERE Person = @PersonId

	DELETE dbo.PersonCalendar
	 WHERE PersonId = @PersonId

	DELETE dbo.PersonCalendarAuto
	 WHERE PersonId = @PersonId

	DELETE dbo.Person
	 WHERE PersonId = @PersonId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[DefaultCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonDelete].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendar].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonDelete].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="246" />
				<Property Name="Length" Value="614" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 11-10-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date: &#xD;&#xA;-- Description:&#x9;Deletes a person from the database.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[PersonDelete]&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonEnsureIntegrity]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	DECLARE @LastName NVARCHAR(40)
	DECLARE @FirstName NVARCHAR(40)
	DECLARE @HireDate DATETIME
	DECLARE @Message NVARCHAR(2000)
	DECLARE @RecList NVARCHAR(1000)

	-- Verify the recruiter commission
	SELECT TOP 1 @LastName = r.LastName, @FirstName = r.FirstName, @HireDate = p.HireDate
	  FROM dbo.RecruiterCommission AS c
	       INNER JOIN dbo.Person AS p ON c.RecruitId = p.PersonId
	       INNER JOIN dbo.Person AS r ON r.PersonId = c.RecruiterId
	 WHERE c.RecruitId = @PersonId
	   AND NOT EXISTS (SELECT 1
	                     FROM dbo.DefaultRecruiterCommissionHeader AS d
	                    WHERE d.PersonId = c.RecruiterId
	                      AND p.HireDate BETWEEN StartDate AND EndDate)

	IF @LastName IS NOT NULL
	BEGIN
		SET @Message = 'The desired recruiter ' + @LastName + ', ' + @FirstName + ' has no defualt recruiting commission for ' + CONVERT(NVARCHAR(20), @HireDate, 101)
		RAISERROR(@Message, 16, 1)

		-- Clean up selected data
		SELECT @LastName = NULL, @FirstName = NULL, @HireDate = NULL
	END

	
	set @RecList = ''

	-- Verify the default recruter commission
	--SELECT TOP 1 @LastName = p.LastName, @FirstName = p.FirstName, @HireDate = p.HireDate
	;WITH recruits as 
	(
		SELECT distinct p.*
		  FROM dbo.RecruiterCommission AS c
			   INNER JOIN dbo.Person AS p ON c.RecruitId = p.PersonId
		 WHERE c.RecruiterId = @PersonId
		   AND NOT EXISTS (SELECT 1
							 FROM dbo.DefaultRecruiterCommissionHeader AS d
							WHERE d.PersonId = c.RecruiterId
							  AND p.HireDate BETWEEN StartDate AND EndDate)
	)
	SELECT @RecList = @RecList + r.LastName + ' ' + r.FirstName + ', '
	  FROM recruits as r

	IF @RecList <> ''
	BEGIN
		--SET @Message = 'The person has no defualt recruiting commission for ' + CONVERT(NVARCHAR(20), @HireDate, 101) + ' but has a recruit ' + @LastName + ', ' + @FirstName
		SET @Message = 'The person has no default recruiting commission for the period but has a recruit(s): ' + @RecList
		RAISERROR(@Message, 16, 1)
	END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruitId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruiterId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonEnsureIntegrity].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruiterId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[EndDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[PersonEnsureIntegrity].[CTE1].[recruits]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonEnsureIntegrity].[CTE1].[recruits].[PersonId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[PersonId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonEnsureIntegrity].[CTE1].[recruits].[PTODaysPerAnnum]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[PTODaysPerAnnum]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonEnsureIntegrity].[CTE1].[recruits].[HireDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[HireDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonEnsureIntegrity].[CTE1].[recruits].[TerminationDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[TerminationDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonEnsureIntegrity].[CTE1].[recruits].[Alias]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[Alias]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonEnsureIntegrity].[CTE1].[recruits].[DefaultPractice]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[DefaultPractice]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonEnsureIntegrity].[CTE1].[recruits].[FirstName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[FirstName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonEnsureIntegrity].[CTE1].[recruits].[LastName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[LastName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonEnsureIntegrity].[CTE1].[recruits].[Notes]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[Notes]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonEnsureIntegrity].[CTE1].[recruits].[PersonStatusId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[PersonStatusId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonEnsureIntegrity].[CTE1].[recruits].[EmployeeNumber]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[EmployeeNumber]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonEnsureIntegrity].[CTE1].[recruits].[SeniorityId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[SeniorityId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonEnsureIntegrity].[CTE1].[recruits].[ManagerId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[ManagerId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonEnsureIntegrity].[CTE1].[recruits].[PracticeOwnedId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[PracticeOwnedId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonEnsureIntegrity].[CTE1].[recruits].[IsDefaultManager]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[IsDefaultManager]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonEnsureIntegrity].[CTE1].[recruits].[TelephoneNumber]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[TelephoneNumber]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonEnsureIntegrity].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="261" />
				<Property Name="Length" Value="2377" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 11-14-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date: &#xD;&#xA;-- Description:&#x9;Verifies whether the person's data are consistent.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.PersonEnsureIntegrity&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonExcelSet]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	BEGIN


 IF OBJECT_ID('#LastPay') IS NOT NULL DROP TABLE #LastPay
 CREATE TABLE #LastPay
    (
      Person INT,
      EndDate SMALLDATETIME
    )
 
 INSERT INTO #LastPay
        SELECT  pay.PersonId,
                MAX(ISNULL(pay.EndDate, dbo.GetFutureDate())) AS EndDate
        FROM    v_pay AS pay
        GROUP BY pay.PersonId


    SELECT  pers.PersonId AS 'Id',
            pers.FirstName + ' ' + pers.LastName AS 'Person name',
            stat.[Name] AS 'Status',
            pers.Alias,
            pers.HireDate,
            pers.TerminationDate,
            prct.[Name] AS 'Default Practice',
            paytype.[Name] AS 'Pay type',
			-- if pay type is hourly (here actually, not salary)
            CASE pay.Timescale
              WHEN 5 THEN 0.0
              WHEN 2 THEN pay.Amount / 2080
              ELSE pay.Amount
            END AS 'Hourly Pay Rate',
			-- if column stores annual bonus
            CASE pay.IsYearBonus
              WHEN 1 THEN pay.BonusAmount
              ELSE 0.0
            END AS 'Annual Bonus',
			-- if column stores hourly bonus
            CASE pay.IsYearBonus
              WHEN 0 THEN pay.BonusAmount
              ELSE 0.0
            END AS 'Hourly Bonus, $',
            CASE pay.BonusHoursToCollect
              WHEN NULL THEN 0
              ELSE pay.BonusHoursToCollect
            END AS 'Hourly Bonus, hours',
            sen.[Name] AS 'Seniority',
            pay.VacationDays AS 'Vacation Days',
			manager.FirstName + ' ' + manager.LastName AS 'Manager Name',
            rcd.RecruiterName,
            rcd.cc1 AS 'Recruiting comission 1 $',
            rcd.cd1 AS 'Recruiting comission 1 days',
            rcd.cc2 AS 'Recruiting comission 2 $',
            rcd.cd2 AS 'Recruiting comission 2 days'
    FROM    dbo.Person AS pers
            LEFT OUTER JOIN dbo.v_Pay AS pay ON pers.PersonId = pay.PersonId
            INNER JOIN #LastPay AS lp ON lp.Person = pay.PersonId AND (lp.EndDate = pay.EndDate OR pay.EndDate IS NULL)
            LEFT OUTER JOIN dbo.Timescale AS paytype ON paytype.TimescaleId = pay.Timescale
            LEFT OUTER JOIN dbo.Seniority AS sen ON pers.SeniorityId = sen.SeniorityId
            LEFT OUTER JOIN dbo.PersonStatus AS stat ON stat.PersonStatusId = pers.PersonStatusId
            LEFT OUTER JOIN dbo.v_RecruiterComissionWithDays AS rcd ON rcd.RecruitId = pers.PersonId
            LEFT OUTER JOIN dbo.Practice AS prct ON pers.DefaultPractice = prct.PracticeId
            LEFT JOIN dbo.Person AS manager ON manager.PersonId = pers.ManagerId
    ORDER BY pers.PersonId
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[PersonExcelSet].[#LastPay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonExcelSet].[#LastPay].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonExcelSet].[#LastPay].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Timescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Timescale].[TimescaleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[Timescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Seniority]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Seniority].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_RecruiterComissionWithDays]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_RecruiterComissionWithDays].[RecruitId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Timescale].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[Timescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[IsYearBonus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[BonusAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[BonusHoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Seniority].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[VacationDays]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_RecruiterComissionWithDays].[RecruiterName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_RecruiterComissionWithDays].[cc1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_RecruiterComissionWithDays].[cd1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_RecruiterComissionWithDays].[cc2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_RecruiterComissionWithDays].[cd2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[PersonExcelSet].[#LastPay]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[PersonExcelSet].[#LastPay].[Person]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[PersonExcelSet].[#LastPay].[EndDate]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[smalldatetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2681" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.PersonExcelSet&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonGetByAlias]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT p.PersonId,
	       p.FirstName,
	       p.LastName,
	       p.PTODaysPerAnnum,
	       p.HireDate,
	       p.TerminationDate,
	       p.Alias,
	       p.DefaultPractice,
	       p.PracticeName,
		   p.PersonStatusId,
		   p.PersonStatusName,
		   p.EmployeeNumber,
		   p.SeniorityId,
		   p.SeniorityName,
	       p.ManagerId,
	       p.ManagerAlias,
	       p.ManagerFirstName,
	       p.ManagerLastName,
	       p.PracticeOwnedId,
	       p.PracticeOwnedName,
	       p.TelephoneNumber
	  FROM dbo.v_Person AS p
	 WHERE p.Alias = @Alias]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PTODaysPerAnnum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonStatusName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[EmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[SeniorityName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerAlias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerFirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerLastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeOwnedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeOwnedName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[TelephoneNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonGetByAlias].[@Alias]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonGetByAlias].[@Alias]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="275" />
				<Property Name="Length" Value="938" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 8-06-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date: 9-09-2008&#xD;&#xA;-- Description:&#x9;Retrives the Person by the Alias (email)&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.PersonGetByAlias&#xD;&#xA;(&#xD;&#xA;&#x9;@Alias   NVARCHAR(256)&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonGetById]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT p.PersonId,
	       p.FirstName,
	       p.LastName,
	       p.PTODaysPerAnnum,
	       p.HireDate,
	       p.TerminationDate,
	       p.Alias,
	       p.DefaultPractice,
	       p.PracticeName,
		   p.PersonStatusId,
		   p.PersonStatusName,
		   p.EmployeeNumber,
		   p.SeniorityId,
		   p.SeniorityName,
	       p.ManagerId,
	       p.ManagerAlias,
	       p.ManagerFirstName,
	       p.ManagerLastName,
	       p.PracticeOwnedId,
	       p.PracticeOwnedName,
		   p.PracticesOwned,
		   p.TelephoneNumber
	  FROM dbo.v_Person AS p
	 WHERE p.PersonId = @PersonId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PTODaysPerAnnum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonStatusName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[EmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[SeniorityName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerAlias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerFirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerLastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeOwnedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeOwnedName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticesOwned]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[TelephoneNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonGetById].[@PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonGetById].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="265" />
				<Property Name="Length" Value="943" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 8-04-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date: 9-09-2008&#xD;&#xA;-- Description:&#x9;Retrives the Person by its ID.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.PersonGetById&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId&#x9;INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonGetCount]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	IF @Looked IS NOT NULL
		SET @Looked = '%' + RTRIM(@Looked) + '%'
	ELSE
		SET @Looked = '%'

	SELECT COUNT(*) AS num
	  FROM dbo.v_Person AS p
	 WHERE (   ( p.PersonStatusId = 1 AND @ShowAll = 0 AND @PracticeId IS NULL )
	        OR ( p.PersonStatusId = 1 AND @ShowAll = 0 AND @PracticeId = p.DefaultPractice)
	        OR ( @ShowAll = 1 AND @PracticeId IS NULL )
	        OR ( @ShowAll = 1 AND @PracticeId = p.DefaultPractice ) )
	   AND (p.FirstName LIKE @Looked OR p.LastName LIKE @Looked OR p.EmployeeNumber LIKE @Looked )
	   AND (   @RecruiterId IS NULL
	        OR EXISTS (SELECT 1
	                     FROM dbo.RecruiterCommission AS c
	                    WHERE c.RecruitId = p.PersonId AND c.RecruiterId = @RecruiterId))]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[PersonGetCount].[@Looked]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonGetCount].[@ShowAll]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonGetCount].[@PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[EmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonGetCount].[@RecruiterId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruitId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruiterId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonGetCount].[@PracticeId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonGetCount].[@ShowAll]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonGetCount].[@Looked]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="40" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonGetCount].[@RecruiterId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="271" />
				<Property Name="Length" Value="1199" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-29-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date: 11-06-2008&#xD;&#xA;-- Description:&#x9;Calculates a number of the persons.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[PersonGetCount]&#xD;&#xA;(&#xD;&#xA;&#x9;@PracticeId    INT = NULL, &#xD;&#xA;&#x9;@ShowAll       BIT = 0,&#xD;&#xA;&#x9;@Looked&#x9;&#x9;   NVARCHAR(40) = NULL,&#xD;&#xA;&#x9;@RecruiterId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonGetCountActive]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	SELECT EmployeesNumber = dbo.GetEmployeeNumber(@StartDate, @EndDate),		
		   ConsultantsNumber = dbo.GetCounsultantsNumber(@StartDate, @EndDate)]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[PersonGetCountActive].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonGetCountActive].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetEmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetCounsultantsNumber]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonGetCountActive].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonGetCountActive].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="265" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.PersonGetCountActive&#xD;&#xA;(&#xD;&#xA;&#x9;@StartDate   DATETIME,&#xD;&#xA;&#x9;@EndDate     DATETIME&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonInsert]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	IF EXISTS(SELECT 1
	            FROM dbo.[Person] AS p
	           WHERE p.[LastName] = @LastName AND p.[FirstName] = @FirstName)
	BEGIN
		-- Person First and Last Name uniqueness violation
		RAISERROR (70001, 16, 1)
	END
	ELSE IF EXISTS(SELECT 1
	                 FROM dbo.[Person] AS p
	                WHERE p.[Alias] = @Alias)
	BEGIN
		-- Person Email uniqueness violation
		RAISERROR (70002, 16, 1)
	END
	ELSE
	BEGIN
		-- Start logging session
		EXEC dbo.SessionLogPrepare @UserLogin = @UserLogin

		-- Generating Employee Number
		DECLARE @EmployeeNumber NVARCHAR(12)
		DECLARE @StringCounter NVARCHAR(7)
		DECLARE @Counter INT
		DECLARE @PracticeManagerId INT

		SET @Counter = 0

		WHILE  (1 = 1)
		BEGIN

			SET @StringCounter = CONVERT(NVARCHAR(7), @Counter )
			IF LEN ( @StringCounter ) = 1
				SET @StringCounter =  '0' + @StringCounter

			SET @EmployeeNumber = 'C'+ SUBSTRING ( CONVERT(NVARCHAR(255), @HireDate, 10) ,0 , 3 ) +
				SUBSTRING ( CONVERT(NVARCHAR(255), @HireDate, 10) ,7 , 3 ) + @StringCounter
		
			IF (NOT EXISTS (SELECT 1 FROM [dbo].[Person] as p WHERE p.[EmployeeNumber] = @EmployeeNumber) )
				BREAK

			SET @Counter = @Counter + 1
		END

		-- From #1663: if you save the person record, and line manager is blank, but practice is set, set the Line Manager to the person's Practice.PracticeManager.
		IF @DefaultPractice IS NOT NULL AND @ManagerId IS NULL
			-- Try to get default manager id
			SELECT @ManagerId = p.PracticeManagerId FROM practice as p WHERE p.PracticeId = @DefaultPractice
			
		-- From #1663: if you save the person record, and both line manager and practice are blank, set the Line Manager to the default line manager value.
		IF @ManagerId IS NULL AND @DefaultPractice IS NULL
			-- Try to get default manager id
			SELECT @ManagerId = p.PersonId FROM person AS p WHERE p.IsDefaultManager = 1

		-- Inserting Person
		INSERT Person
			(FirstName, LastName, PTODaysPerAnnum,  HireDate,  Alias, DefaultPractice, 
		     PersonStatusId, EmployeeNumber, TerminationDate, SeniorityId, ManagerId, PracticeOwnedId, TelephoneNumber)
		VALUES
			(@FirstName, @LastName, @PTODaysPerAnnum, @HireDate, @Alias, @DefaultPractice, 
		     @PersonStatusId, @EmployeeNumber, @TerminationDate, @SeniorityId, @ManagerId, @PracticeOwnedId, @TelephoneNumber)

		-- End logging session
		EXEC dbo.SessionLogUnprepare

		SET @PersonId = SCOPE_IDENTITY()
		SELECT @PersonId
	END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonInsert].[@LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonInsert].[@FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonInsert].[@Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonInsert].[@UserLogin]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonInsert].[@HireDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[EmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonInsert].[@DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonInsert].[@ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[IsDefaultManager]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PTODaysPerAnnum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[EmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PracticeOwnedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TelephoneNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonInsert].[@PTODaysPerAnnum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonInsert].[@PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonInsert].[@TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonInsert].[@SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonInsert].[@PracticeOwnedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonInsert].[@TelephoneNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogUnprepare]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonInsert].[@PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonInsert].[@FirstName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="40" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonInsert].[@LastName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="40" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonInsert].[@PTODaysPerAnnum]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonInsert].[@HireDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonInsert].[@TerminationDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonInsert].[@Alias]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonInsert].[@DefaultPractice]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonInsert].[@PersonStatusId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonInsert].[@SeniorityId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonInsert].[@UserLogin]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonInsert].[@ManagerId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonInsert].[@PracticeOwnedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonInsert].[@PersonId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonInsert].[@TelephoneNumber]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2956" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.PersonInsert&#xD;&#xA;(&#xD;&#xA;&#x9;@FirstName       NVARCHAR(40),&#xD;&#xA;&#x9;@LastName        NVARCHAR(40),&#xD;&#xA;&#x9;@PTODaysPerAnnum INT,&#xD;&#xA;&#x9;@HireDate        DATETIME,&#xD;&#xA;&#x9;@TerminationDate DATETIME,&#xD;&#xA;&#x9;@Alias           NVARCHAR(100),&#xD;&#xA;&#x9;@DefaultPractice INT,&#xD;&#xA;&#x9;@PersonStatusId&#x9; INT,&#xD;&#xA;&#x9;@SeniorityId     INT,&#xD;&#xA;&#x9;@UserLogin       NVARCHAR(255),&#xD;&#xA;&#x9;@ManagerId&#x9;&#x9; INT = NULL,&#xD;&#xA;&#x9;@PracticeOwnedId INT = NULL,&#xD;&#xA;&#x9;@PersonId        INT OUTPUT,&#xD;&#xA;&#x9;@TelephoneNumber NVARCHAR(20) = NULL&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonListAll]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON;

	DECLARE @FirstRecord INT
	SET @FirstRecord = @PageSize * @PageNo

	IF @Looked IS NOT NULL
		SET @Looked = '%' + RTRIM(@Looked) + '%'
	ELSE
		SET @Looked = '%'

    DECLARE @flags bit
    IF (@StartDate IS NULL) OR (@EndDate IS NULL)
		SET @flags = 1
	ELSE
		SET @flags = 0

	IF @FirstRecord IS NULL
	BEGIN
		-- Listing all records
		SELECT p.PersonId,
			   p.FirstName,
			   p.LastName,
			   p.PTODaysPerAnnum,
			   p.HireDate,
			   p.TerminationDate,
			   p.Alias,
			   p.DefaultPractice,
			   p.PracticeName,
			   p.PersonStatusId,
		       p.PersonStatusName,
			   p.EmployeeNumber,
		       p.SeniorityId,
		       p.SeniorityName
		  FROM dbo.v_Person AS p
		 WHERE (   ( (p.PersonStatusId = 1 AND @ShowAll = 0) AND @PracticeId IS NULL )
		        OR ((p.PersonStatusId = 1 AND @ShowAll = 0) AND @PracticeId = p.DefaultPractice)
		        OR ( @ShowAll = 1 AND @PracticeId IS NULL )
		        OR ( @ShowAll = 1 AND @PracticeId = p.DefaultPractice ) )
		   AND ( p.FirstName LIKE @Looked OR p.LastName LIKE @Looked OR p.EmployeeNumber LIKE @Looked )
           AND ( @flags = 1 OR dbo.GetOverlappingPlacementDays(p.HireDate, ISNULL(p.TerminationDate, dbo.GetFutureDate()), @StartDate, @EndDate) = 1)
		   AND (   @RecruiterId IS NULL
		        OR EXISTS (SELECT 1
		                     FROM dbo.RecruiterCommission AS c
		                    WHERE c.RecruitId = p.PersonId AND c.RecruiterId = @RecruiterId))
		ORDER BY p.LastName, p.FirstName
	END
	ELSE
	BEGIN
		-- Listing a specified page
		DECLARE @LastRecord INT
		SET @LastRecord = @FirstRecord + @PageSize

		SELECT tmp.PersonId,
			   tmp.FirstName,
			   tmp.LastName,
			   tmp.PTODaysPerAnnum,
			   tmp.HireDate,
			   tmp.TerminationDate,
			   tmp.Alias,
			   tmp.DefaultPractice,
			   tmp.PracticeName,
			   tmp.PersonStatusId,
		       tmp.PersonStatusName,
			   tmp.EmployeeNumber,
		       tmp.SeniorityId,
		       tmp.SeniorityName
		  FROM (
				SELECT TOP (@LastRecord)
					   p.PersonId,
					   p.FirstName,
					   p.LastName,
					   p.PTODaysPerAnnum,
					   p.HireDate,
					   p.TerminationDate,
					   p.Alias,
					   p.DefaultPractice,
					   p.PracticeName,
					   p.PersonStatusId,
		               p.PersonStatusName,
					   p.EmployeeNumber,
					   ROW_NUMBER() OVER(ORDER BY p.LastName, p.FirstName) - 1 AS rownum,
		               p.SeniorityId,
		               p.SeniorityName
				  FROM dbo.v_Person AS p
				 WHERE (   ( p.PersonStatusId = 1 AND @ShowAll = 0 AND @PracticeId IS NULL )
		                OR ( p.PersonStatusId = 1 AND @ShowAll = 0 AND @PracticeId = p.DefaultPractice)
		                OR ( @ShowAll = 1 AND @PracticeId IS NULL )
		                OR ( @ShowAll = 1 AND @PracticeId = p.DefaultPractice ) ) 
					AND ( p.FirstName LIKE @Looked OR p.LastName LIKE @Looked OR p.EmployeeNumber LIKE @Looked )
		            AND (   @RecruiterId IS NULL
		                 OR EXISTS (SELECT 1
		                              FROM dbo.RecruiterCommission AS c
		                             WHERE c.RecruitId = p.PersonId AND c.RecruiterId = @RecruiterId))
				ORDER BY p.LastName, p.FirstName
		       ) AS tmp
		 WHERE tmp.rownum BETWEEN @FirstRecord AND @LastRecord - 1
		ORDER BY tmp.LastName, tmp.FirstName
	END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAll].[@PageSize]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAll].[@PageNo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAll].[@Looked]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAll].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAll].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PTODaysPerAnnum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonStatusName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[EmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[SeniorityName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAll].[@ShowAll]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAll].[@PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetOverlappingPlacementDays]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAll].[@RecruiterId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruitId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruiterId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PTODaysPerAnnum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonStatusName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[EmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[SeniorityName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruitId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruiterId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PTODaysPerAnnum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonStatusName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[EmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[SeniorityName]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAll].[@PracticeId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAll].[@ShowAll]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAll].[@PageSize]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAll].[@PageNo]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAll].[@Looked]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="40" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAll].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAll].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAll].[@RecruiterId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="274" />
				<Property Name="Length" Value="3875" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 8-04-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date: 11-06-2008&#xD;&#xA;-- Description:&#x9;Retrives the filtered list of persons.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.PersonListAll&#xD;&#xA;(&#xD;&#xA;&#x9;@PracticeId    INT, &#xD;&#xA;&#x9;@ShowAll       BIT,&#xD;&#xA;&#x9;@PageSize      INT,&#xD;&#xA;&#x9;@PageNo        INT,&#xD;&#xA;&#x9;@Looked&#x9;&#x9;   NVARCHAR(40),&#xD;&#xA;    @StartDate     DATETIME,&#xD;&#xA;    @EndDate       DATETIME,&#xD;&#xA;&#x9;@RecruiterId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonListAllByStatusList]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON

	DECLARE @Query NVARCHAR(4000)

	SET @Query='SELECT PersonId,
					   FirstName,
					   LastName,
					   IsDefaultManager
				FROM dbo.Person'
	  
	  IF(ISNULL(@PersonStatusIdsList,'')<>'')
	  BEGIN
		SET @Query = @Query + ' WHERE PersonStatusId IN (' + @PersonStatusIdsList + ')'
	  END

	 EXEC(@Query)

END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAllByStatusList].[@PersonStatusIdsList]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAllByStatusList].[@PersonStatusIdsList]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="225" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="456" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].PersonListAllByStatusList &#xD;&#xA;(&#xD;&#xA;&#x9;@PersonStatusIdsList NVARCHAR(225) = NULL&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonListAllForMilestone]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT p.PersonId,
	       p.FirstName,
	       p.LastName,
		   p.IsDefaultManager
	  FROM dbo.Person AS p
	 WHERE (   (p.DefaultPractice <> 4 AND p.PersonStatusId = 1 OR p.PersonStatusId = 3)
	        OR EXISTS (SELECT 1
	                     FROM dbo.MilestonePerson AS mp
	                    WHERE mp.MilestonePersonId = @MilestonePersonId AND mp.PersonId = p.PersonId))
	   AND (   @StartDate IS NULL
	        OR @EndDate IS NULL
	        OR dbo.GetOverlappingPlacementDays(p.HireDate, ISNULL(p.TerminationDate, dbo.GetFutureDate()), @StartDate, @EndDate) = 1
	       )	  
	ORDER BY p.LastName, p.FirstName]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[IsDefaultManager]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAllForMilestone].[@MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAllForMilestone].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAllForMilestone].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetOverlappingPlacementDays]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAllForMilestone].[@MilestonePersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAllForMilestone].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAllForMilestone].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="292" />
				<Property Name="Length" Value="1091" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 12-04-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date: &#xD;&#xA;-- Description:&#x9;Retrives the filtered list of persons who are not in the Administration practice.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.PersonListAllForMilestone&#xD;&#xA;(&#xD;&#xA;&#x9;@MilestonePersonId   INT,&#xD;&#xA;&#x9;@StartDate           DATETIME,&#xD;&#xA;    @EndDate             DATETIME&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonListAllSeniorityFilter]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;

	DECLARE @FirstRecord INT
	SET @FirstRecord = @PageSize * @PageNo

	IF @Looked IS NOT NULL
		SET @Looked = '%' + RTRIM(@Looked) + '%'
	ELSE
		SET @Looked = '%'

    DECLARE @flags bit
    IF (@StartDate IS NULL) OR (@EndDate IS NULL)
		SET @flags = 1
	ELSE
		SET @flags = 0

	IF @FirstRecord IS NULL
	BEGIN
		-- Listing all records
		SELECT p.PersonId,
			   p.FirstName,
			   p.LastName,
			   p.PTODaysPerAnnum,
			   p.HireDate,
			   p.TerminationDate,
			   p.Alias,
			   p.DefaultPractice,
			   p.PracticeName,
			   p.PersonStatusId,
		       p.PersonStatusName,
			   p.EmployeeNumber,
		       p.SeniorityId,
		       p.SeniorityName,
			   p.ManagerId,
			   p.ManagerAlias,
			   p.ManagerFirstName,
			   p.ManagerLastName,
			   p.PracticeOwnedId,
			   p.PracticeOwnedName,
			   p.TelephoneNumber
		  FROM dbo.v_Person AS p
		 WHERE (   ( (p.PersonStatusId = 1 AND @ShowAll = 0) AND @PracticeId IS NULL )
		        OR ((p.PersonStatusId = 1 AND @ShowAll = 0) AND @PracticeId = p.DefaultPractice)
		        OR ( @ShowAll = 1 AND @PracticeId IS NULL )
		        OR ( @ShowAll = 1 AND @PracticeId = p.DefaultPractice ) )
		   AND ( p.FirstName LIKE @Looked OR p.LastName LIKE @Looked OR p.EmployeeNumber LIKE @Looked )
           AND ( @flags = 1 OR dbo.GetOverlappingPlacementDays(p.HireDate, ISNULL(p.TerminationDate, dbo.GetFutureDate()), @StartDate, @EndDate) = 1)
		   AND (   @RecruiterId IS NULL
		        OR EXISTS (SELECT 1
		                     FROM dbo.RecruiterCommission AS c
		                    WHERE c.RecruitId = p.PersonId AND c.RecruiterId = @RecruiterId))
			AND ((@MaxSeniorityLevel IS NULL) OR (@MaxSeniorityLevel >= p.SeniorityId))
		ORDER BY p.LastName, p.FirstName
	END
	ELSE
	BEGIN
		-- Listing a specified page
		DECLARE @LastRecord INT
		SET @LastRecord = @FirstRecord + @PageSize

		SELECT tmp.PersonId,
			   tmp.FirstName,
			   tmp.LastName,
			   tmp.PTODaysPerAnnum,
			   tmp.HireDate,
			   tmp.TerminationDate,
			   tmp.Alias,
			   tmp.DefaultPractice,
			   tmp.PracticeName,
			   tmp.PersonStatusId,
		       tmp.PersonStatusName,
			   tmp.EmployeeNumber,
		       tmp.SeniorityId,
		       tmp.SeniorityName,
			   tmp.ManagerId,
			   tmp.ManagerAlias,
			   tmp.ManagerFirstName,
			   tmp.ManagerLastName,
			   tmp.PracticeOwnedId,
			   tmp.PracticeOwnedName,
			   tmp.TelephoneNumber
		  FROM (
				SELECT TOP (@LastRecord)
					   p.PersonId,
					   p.FirstName,
					   p.LastName,
					   p.PTODaysPerAnnum,
					   p.HireDate,
					   p.TerminationDate,
					   p.Alias,
					   p.DefaultPractice,
					   p.PracticeName,
					   p.PersonStatusId,
		               p.PersonStatusName,
					   p.EmployeeNumber,
					   ROW_NUMBER() OVER(ORDER BY p.LastName, p.FirstName) - 1 AS rownum,
		               p.SeniorityId,
		               p.SeniorityName,
					   p.ManagerId,
					   p.ManagerAlias,
					   p.ManagerFirstName,
					   p.ManagerLastName,
					   p.PracticeOwnedId,
					   p.PracticeOwnedName,
					   p.TelephoneNumber
				  FROM dbo.v_Person AS p
				 WHERE (   ( p.PersonStatusId = 1 AND @ShowAll = 0 AND @PracticeId IS NULL )
		                OR ( p.PersonStatusId = 1 AND @ShowAll = 0 AND @PracticeId = p.DefaultPractice)
		                OR ( @ShowAll = 1 AND @PracticeId IS NULL )
		                OR ( @ShowAll = 1 AND @PracticeId = p.DefaultPractice ) ) 
					AND ( p.FirstName LIKE @Looked OR p.LastName LIKE @Looked OR p.EmployeeNumber LIKE @Looked )
		            AND (   @RecruiterId IS NULL
		                 OR EXISTS (SELECT 1
		                              FROM dbo.RecruiterCommission AS c
		                             WHERE c.RecruitId = p.PersonId AND c.RecruiterId = @RecruiterId))
					AND ((@MaxSeniorityLevel IS NULL) OR (@MaxSeniorityLevel >= p.SeniorityId))
				ORDER BY p.LastName, p.FirstName
		       ) AS tmp
		 WHERE tmp.rownum BETWEEN @FirstRecord AND @LastRecord - 1
		ORDER BY tmp.LastName, tmp.FirstName
	END
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAllSeniorityFilter].[@PageSize]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAllSeniorityFilter].[@PageNo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAllSeniorityFilter].[@Looked]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAllSeniorityFilter].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAllSeniorityFilter].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PTODaysPerAnnum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonStatusName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[EmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[SeniorityName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerAlias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerFirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerLastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeOwnedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeOwnedName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[TelephoneNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAllSeniorityFilter].[@ShowAll]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAllSeniorityFilter].[@PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetOverlappingPlacementDays]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAllSeniorityFilter].[@RecruiterId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruitId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruiterId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAllSeniorityFilter].[@MaxSeniorityLevel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PTODaysPerAnnum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonStatusName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[EmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[SeniorityName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerAlias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerFirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerLastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeOwnedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeOwnedName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[TelephoneNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruitId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruiterId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PTODaysPerAnnum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonStatusName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[EmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[SeniorityName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerAlias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerFirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerLastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeOwnedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeOwnedName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[TelephoneNumber]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAllSeniorityFilter].[@PracticeId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAllSeniorityFilter].[@ShowAll]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAllSeniorityFilter].[@PageSize]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAllSeniorityFilter].[@PageNo]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAllSeniorityFilter].[@Looked]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="40" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAllSeniorityFilter].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAllSeniorityFilter].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAllSeniorityFilter].[@RecruiterId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAllSeniorityFilter].[@MaxSeniorityLevel]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="4372" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.PersonListAllSeniorityFilter&#xD;&#xA;(&#xD;&#xA;&#x9;@PracticeId    INT, &#xD;&#xA;&#x9;@ShowAll       BIT,&#xD;&#xA;&#x9;@PageSize      INT,&#xD;&#xA;&#x9;@PageNo        INT,&#xD;&#xA;&#x9;@Looked&#x9;&#x9;   NVARCHAR(40),&#xD;&#xA;    @StartDate     DATETIME,&#xD;&#xA;    @EndDate       DATETIME,&#xD;&#xA;&#x9;@RecruiterId   INT,&#xD;&#xA;&#x9;@MaxSeniorityLevel&#x9;INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonListAllSeniorityFilterWithCurrentPay]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;

	DECLARE @FirstRecord INT
	SET @FirstRecord = @PageSize * @PageNo

	IF @Looked IS NOT NULL
		SET @Looked = '%' + RTRIM(@Looked) + '%'
	ELSE
		SET @Looked = '%'

    DECLARE @flags bit
    IF (@StartDate IS NULL) OR (@EndDate IS NULL)
		SET @flags = 1
	ELSE
		SET @flags = 0

		-- Listing a specified page
		DECLARE @LastRecord INT, @Now DATETIME
		SELECT @LastRecord = @FirstRecord + @PageSize, @Now=GETDATE()
		
		
		DECLARE @SqlQuery NVARCHAR(4000),
				@OrderBy NVARCHAR(1000)
		IF ISNULL(@SortBy,'') = ''
		BEGIN
		 SET @OrderBy = 'ORDER BY  LastName, FirstName'
		 END
		 ELSE
		  SET @OrderBy = 'ORDER BY ' + @SortBy
		
		
		SELECT @SqlQuery = 'SELECT *
		  FROM (
				SELECT TOP (@LastRecord)
					   p.PersonId,
					   p.FirstName,
					   p.LastName,
					   p.PTODaysPerAnnum,
					   p.HireDate,
					   p.TerminationDate,
					   p.Alias,
					   p.DefaultPractice,
					   p.PracticeName,
					   p.PersonStatusId,
		               p.PersonStatusName,
					   p.EmployeeNumber,
					   ROW_NUMBER() OVER(' + @OrderBy + ') - 1 AS rownum,
		               p.SeniorityId,
		               p.SeniorityName,
					   p.ManagerId,
					   p.ManagerAlias,
					   p.ManagerFirstName,
					   p.ManagerLastName,
					   p.PracticeOwnedId,
					   p.PracticeOwnedName,
					   p.TelephoneNumber,
					   TS.PayPersonId,
					   TS.StartDate,
					   TS.EndDate,
					   TS.Amount,
					   TS.Timescale,
					   TS.AmountHourly,
					   TS.TimesPaidPerMonth,
					   TS.Terms,
					   TS.VacationDays,
					   TS.BonusAmount,
					   TS.BonusHoursToCollect,
					   TS.IsYearBonus,
					   TS.DefaultHoursPerDay,
					   TS.TimescaleName
				  FROM dbo.v_Person AS p
				  OUTER APPLY 
						(SELECT TOP 1 
							   pay.PersonId PayPersonId,
							   pay.StartDate,
							   pay.EndDate,
							   pay.Amount,
							   pay.Timescale,
							   pay.AmountHourly,
							   pay.TimesPaidPerMonth,
							   pay.Terms,
							   pay.VacationDays,
							   pay.BonusAmount,
							   pay.BonusHoursToCollect,
							   pay.IsYearBonus,
							   pay.DefaultHoursPerDay,
							   pay.TimescaleName
						  FROM dbo.v_Pay AS pay
						 WHERE p.PersonId = pay.PersonId
						   AND ((@Now >= pay.StartDate
						   AND @Now < pay.EndDateOrig) OR @Now < pay.StartDate)
						   ORDER BY pay.StartDate
						) TS
				 WHERE (   ( p.PersonStatusId = 1 AND @ShowAll = 0 AND @PracticeId IS NULL )
		                OR ( p.PersonStatusId = 1 AND @ShowAll = 0 AND @PracticeId = p.DefaultPractice)
		                OR ( @ShowAll = 1 AND @PracticeId IS NULL )
		                OR ( @ShowAll = 1 AND @PracticeId = p.DefaultPractice ) ) 
					AND ( p.FirstName LIKE @Looked OR p.LastName LIKE @Looked OR p.EmployeeNumber LIKE @Looked )
		            AND (   @RecruiterId IS NULL
		                 OR EXISTS (SELECT 1
		                              FROM dbo.RecruiterCommission AS c
		                             WHERE c.RecruitId = p.PersonId AND c.RecruiterId = @RecruiterId))
					AND ((@MaxSeniorityLevel IS NULL) OR (@MaxSeniorityLevel >= p.SeniorityId))' + @OrderBy + '
		       ) AS tmp
		 WHERE tmp.rownum BETWEEN @FirstRecord AND @LastRecord - 1'
		 

		EXEC sp_executeSql 
				@SqlQuery,		
				N'@FirstRecord	INT, @LastRecord	INT, @Looked	NVARCHAR(40), @Now	DATETIME, 
				@MaxSeniorityLevel	INT, @RecruiterId	INT, @PracticeId	INT, @ShowAll	BIT',				
				@FirstRecord = @FirstRecord, @LastRecord = @LastRecord,
				@RecruiterId = @RecruiterId, @PracticeId = @PracticeId, @Looked = @Looked,
				@MaxSeniorityLevel = @MaxSeniorityLevel, @ShowAll = @ShowAll, @Now = @Now
	END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAllSeniorityFilterWithCurrentPay].[@PageSize]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAllSeniorityFilterWithCurrentPay].[@PageNo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAllSeniorityFilterWithCurrentPay].[@Looked]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAllSeniorityFilterWithCurrentPay].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAllSeniorityFilterWithCurrentPay].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAllSeniorityFilterWithCurrentPay].[@SortBy]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[PersonListAllSeniorityFilterWithCurrentPay].[@RecruiterId]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[PersonListAllSeniorityFilterWithCurrentPay].[@PracticeId]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[PersonListAllSeniorityFilterWithCurrentPay].[@MaxSeniorityLevel]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[PersonListAllSeniorityFilterWithCurrentPay].[@ShowAll]" />
				</Entry>
				<Entry />
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAllSeniorityFilterWithCurrentPay].[@PracticeId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAllSeniorityFilterWithCurrentPay].[@ShowAll]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAllSeniorityFilterWithCurrentPay].[@PageSize]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAllSeniorityFilterWithCurrentPay].[@PageNo]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAllSeniorityFilterWithCurrentPay].[@Looked]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="40" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAllSeniorityFilterWithCurrentPay].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAllSeniorityFilterWithCurrentPay].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAllSeniorityFilterWithCurrentPay].[@RecruiterId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAllSeniorityFilterWithCurrentPay].[@MaxSeniorityLevel]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAllSeniorityFilterWithCurrentPay].[@SortBy]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="225" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="4053" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[PersonListAllSeniorityFilterWithCurrentPay]&#xD;&#xA;(&#xD;&#xA;&#x9;@PracticeId    INT, &#xD;&#xA;&#x9;@ShowAll       BIT,&#xD;&#xA;&#x9;@PageSize      INT,&#xD;&#xA;&#x9;@PageNo        INT,&#xD;&#xA;&#x9;@Looked&#x9;&#x9;   NVARCHAR(40),&#xD;&#xA;    @StartDate     DATETIME,&#xD;&#xA;    @EndDate       DATETIME,&#xD;&#xA;&#x9;@RecruiterId   INT,&#xD;&#xA;&#x9;@MaxSeniorityLevel&#x9;INT,&#xD;&#xA;&#x9;@SortBy&#x9;&#x9;&#x9;NVARCHAR(225) = NULL&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonListAllShort]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT p.PersonId,
	       p.FirstName,
	       p.LastName,
		   p.IsDefaultManager
	  FROM dbo.Person AS p
	 WHERE (@PracticeId IS NULL OR p.DefaultPractice = @PracticeId)
	   AND (@PersonStatusId IS NULL OR p.PersonStatusId = @PersonStatusId)
	   AND (   @StartDate IS NULL
	        OR @EndDate IS NULL
	        OR dbo.GetOverlappingPlacementDays(p.HireDate, ISNULL(p.TerminationDate, dbo.GetFutureDate()), @StartDate, @EndDate) = 1
	       )
	ORDER BY p.LastName, p.FirstName]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[IsDefaultManager]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAllShort].[@PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAllShort].[@PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAllShort].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListAllShort].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetOverlappingPlacementDays]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAllShort].[@PracticeId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAllShort].[@PersonStatusId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAllShort].[@StartDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListAllShort].[@EndDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="275" />
				<Property Name="Length" Value="964" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 11-06-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date: 11-20-2008&#xD;&#xA;-- Description:&#x9;Retrives the filtered list of persons.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.PersonListAllShort&#xD;&#xA;(&#xD;&#xA;&#x9;@PracticeId    INT = NULL,&#xD;&#xA;&#x9;@PersonStatusId INT = NULL,&#xD;&#xA;&#x9;@StartDate     DATETIME = NULL,&#xD;&#xA;    @EndDate       DATETIME = NULL&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonListBenchExpense]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	-- Listing all records
	SELECT p.PersonId, p.LastName, p.FirstName,
		   p.HireDate, ISNULL(p.TerminationDate, dbo.GetFutureDate()) AS TerminationDate,
		   dbo.MakeDate(p.Year, p.Month, 1) AS Month,
		   p.Revenue,
		   ISNULL(p.SalaryCogs, 0)/* + ISNULL(p.HourlyCogs, 0)*/ AS Cogs,
		   p.Revenue - (ISNULL(p.SalaryCogs, 0) + ISNULL(p.HourlyCogs, 0)) AS Margin,
		   p.PersonStatusId,
		   p.SeniorityId,
		   PersonStatusName = (SELECT Name FROM dbo.PersonStatus AS ps WHERE ps.PersonStatusId = p.PersonStatusId),
		   BenchStartDate =
			   (SELECT MIN(pcal.Date)
				  FROM dbo.PersonCalendarAuto AS pcal
				 WHERE pcal.PersonId = p.PersonId
				   AND pcal.Date BETWEEN p.MonthStart AND p.MonthEnd
				   AND pcal.DayOff = 0),
		   CASE
			   -- The person is busy during the month
			   WHEN p.FirstFreeDay IS NULL AND p.AvailableFrom IS NOT NULL THEN dbo.GetFutureDate()
			   -- The person is free during the month
			   WHEN p.AvailableFrom IS NULL THEN NULL
			   -- The person becomes free within the month
			   ELSE p.FirstFreeDay
		   END AS AvailableFrom,
		   CASE WHEN HourlyCogs IS NULL OR HourlyCogs = 0 THEN 2 ELSE 1 END AS Timescale
	  FROM (
			SELECT p.PersonId, p.LastName, p.FirstName, p.HireDate, p.TerminationDate,
				   DATEPART(yyyy, cal.Date) AS Year, DATEPART(mm, cal.Date) AS Month,

				   CAST(ISNULL(SUM(
					   CASE 
						   WHEN mp.ProjectStatusId IN (3,2) -- Active & Projected projects
						   THEN ms.HoursPerDay * mp.MilestoneHourlyRevenue
						   ELSE 0
					   END), 0) AS DECIMAL(18,2)) AS Revenue,

				   /* Compute an expense for a month for the salaried persons*/
				   -- Overheads
				   (SELECT CAST(ISNULL(SUM(
							   CASE o.IsPercentage
								   WHEN 0
								   THEN o.HourlyRate * 8 * 20 / ([dbo].[GetDaysInMonth](cal1.Date))
								   ELSE (pay.Amount * o.HourlyRate * 8 * 20) / (dbo.GetHoursPerYear() * 100 * [dbo].[GetDaysInMonth](cal1.Date))
							   END), 0) AS DECIMAL(18,2))
				   -- Salary
							+ dbo.ComputeMonthSalary(MAX(pay.Amount), p.HireDate, p.TerminationDate, MIN(cal1.Date))
				   -- Vacations
							+ MAX( (pay.Amount / dbo.GetHoursPerYear()) * pay.DefaultHoursPerDay * ISNULL(pay.VacationDays, 0) * 8 * 20 / (dbo.GetHoursPerYear()))
					  FROM dbo.Calendar AS cal1
						   INNER JOIN dbo.Pay AS pay
							   ON p.PersonId = pay.Person AND pay.StartDate <= cal1.Date AND pay.EndDate > cal1.Date
						   LEFT JOIN dbo.v_PersonOverheadRetrospective AS o
							   ON p.PersonId = o.PersonId AND o.Date = cal1.Date
					 WHERE cal1.Date BETWEEN MIN(cal.Date) AND MAX(cal.Date)
					   AND pay.Timescale = 2) AS SalaryCogs,

				   /* Compute an expense for a month for the hourly billed persons*/
				   -- TODO: compute the vacations expense
				   (SELECT SUM(DailyRate)
					  FROM dbo.v_MilestonePersonExpense AS e
					 WHERE e.PersonId = p.PersonId
					   AND e.Date BETWEEN MIN(cal.Date) AND MAX(cal.Date)
					   AND e.Timescale IN (1, 3, 4)
				   ) AS HourlyCogs,

				   p.PersonStatusId,
				   p.SeniorityId,
				   MIN(cal.Date) AS MonthStart,
				   MAX(cal.Date) AS MonthEnd,
				   MAX(ms.Date) AS AvailableFrom,
				   MIN(CASE WHEN ms.Date IS NULL AND pcal.DayOff = 0 THEN pcal.Date ELSE NULL END) AS FirstFreeDay,
				   MAX(pcal.Date) AS PersonMonthEnd
			  FROM dbo.Person AS p
				   LEFT JOIN dbo.Practice AS pr ON p.DefaultPractice = pr.PracticeId
				   INNER JOIN dbo.Calendar AS cal ON cal.Date BETWEEN p.HireDate AND ISNULL(p.TerminationDate, dbo.GetFutureDate())
				   LEFT JOIN dbo.v_MilestonePersonSchedule AS ms
					   ON ms.PersonId = p.PersonId AND ms.Date = cal.Date
				   LEFT JOIN dbo.v_MilestonePerson AS mp
					   ON mp.PersonId = p.PersonId AND ms.MilestoneId = mp.MilestoneId AND mp.StartDate = ms.EntryStartDate
				   LEFT JOIN dbo.PersonCalendarAuto AS pcal
					   ON pcal.Date = cal.Date AND pcal.PersonId = p.PersonId AND pcal.DayOff = 0
			 WHERE ISNULL(pr.IsCompanyInternal, 0) = 0
			   AND cal.Date BETWEEN @StartDate AND @EndDate
			   AND (p.PersonStatusId = 1 AND @ActivePersons = 1
					OR p.PersonStatusId = 3 AND @ProjectedPersons = 1)
			   /*AND (mp.ProjectStatusId = 2 AND @ProjectedProjects = 1
					OR mp.ProjectStatusId = 1 AND @ActiveProjects = 1
					OR mp.ProjectStatusId = 5 AND @ExperimentalProjects = 1)*/
			GROUP BY p.PersonId, p.LastName, p.FirstName, p.HireDate, p.TerminationDate, DATEPART(yyyy, cal.Date), DATEPART(mm, cal.Date), p.PersonStatusId, p.SeniorityId
			) AS p
	 WHERE 
		Revenue < (ISNULL(p.SalaryCogs, 0) + ISNULL(p.HourlyCogs, 0)) AND 
		dbo.GetCurrentPayType(p.PersonId) != 3 AND dbo.GetCurrentPayType(p.PersonId) != 4
	ORDER BY p.PersonId, p.LastName, p.FirstName, p.Year, p.Month

	/*
Person Status:

PersonStatusId	Name
1	Active
2	Terminated
3	Projected
4	Inactive



Project Status:

ProjectStatusId	Name
1	Inactive
2	Projected
3	Active
4	Completed
5	Experimental
	*/]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[EntryStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[DayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[decimal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneHourlyRevenue]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverheadRetrospective]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverheadRetrospective].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverheadRetrospective].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[decimal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverheadRetrospective].[IsPercentage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverheadRetrospective].[HourlyRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDaysInMonth]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetHoursPerYear]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ComputeMonthSalary]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[DefaultHoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[VacationDays]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Timescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonExpense]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonExpense].[DailyRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonExpense].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonExpense].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonExpense].[Timescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[IsCompanyInternal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListBenchExpense].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListBenchExpense].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListBenchExpense].[@ActivePersons]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListBenchExpense].[@ProjectedPersons]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[DayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetCurrentPayType]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListBenchExpense].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListBenchExpense].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListBenchExpense].[@ActivePersons]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListBenchExpense].[@ActiveProjects]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListBenchExpense].[@ProjectedPersons]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListBenchExpense].[@ProjectedProjects]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListBenchExpense].[@ExperimentalProjects]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="160" />
				<Property Name="Length" Value="5405" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Description:&#x9;List all persons that have some bench time&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.PersonListBenchExpense&#xD;&#xA;(&#xD;&#xA;&#x9;@StartDate   DATETIME,&#xD;&#xA;&#x9;@EndDate     DATETIME,&#xD;&#xA;&#x9;@ActivePersons BIT = 1,&#xD;&#xA;&#x9;@ActiveProjects BIT = 1,&#xD;&#xA;&#x9;@ProjectedPersons BIT = 1,&#xD;&#xA;&#x9;@ProjectedProjects BIT = 1,&#xD;&#xA;&#x9;@ExperimentalProjects BIT = 1&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonListBenchExpense_details]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
    SET NOCOUNT ON

	-- Listing all records
    SELECT  p.PersonId,
            p.LastName,
            p.FirstName,
            p.HireDate,
            ISNULL(p.TerminationDate, dbo.GetFutureDate()) AS TerminationDate,
            dbo.MakeDate(p.Year, p.Month, 1) AS Month,
            p.Revenue,
            ISNULL(p.SalaryCogs, 0) AS Cogs,
            p.Revenue - ISNULL(p.SalaryCogs, 0) AS Margin,
            p.Overheads,
            p.Salary,
            p.Vacations,
            2 AS Timescale
    FROM    ( SELECT    p.PersonId,
                        p.LastName,
                        p.FirstName,
                        p.HireDate,
                        p.TerminationDate,
                        DATEPART(yyyy, cal.Date) AS Year,
                        DATEPART(mm, cal.Date) AS Month,
                        SUM(CASE WHEN proj.ProjectStatusId IN ( 3, 2 ) -- Active & Projected projects
                                      THEN ( CASE WHEN cal.Date BETWEEN mpe.StartDate
                                                                AND     ISNULL(mpe.EndDate, m.ProjectedDeliveryDate)
                                                  THEN mpe.HoursPerDay
                                                  ELSE 0
                                             END )
                                      * ( CASE m.IsHourlyAmount
                                            WHEN 1 THEN mpe.Amount
                                            ELSE CAST(m.Amount
                                                 / mh.MilestoneHours AS DECIMAL(18, 2))
                                          END )
                                 ELSE 0
                            END) AS Revenue,

				   /* Compute an expense for a month for the salaried persons*/
	               -- Overheads
                        ( SELECT    CAST(ISNULL(SUM(CASE o.IsPercentage
                                                      WHEN 0
                                                      THEN o.HourlyRate * 8
                                                           * 20
                                                           / ( [dbo].[GetDaysInMonth](cal1.Date) )
                                                      ELSE ( pay.Amount
                                                             * o.HourlyRate
                                                             * 8 * 20 )
                                                           / ( dbo.GetHoursPerYear() * 100 * [dbo].[GetDaysInMonth](cal1.Date) )
                                                    END), 0) AS DECIMAL(18, 2))
	               -- Salary
                                    + dbo.ComputeMonthSalary(MAX(pay.Amount),
                                                             p.HireDate,
                                                             p.TerminationDate,
                                                             MIN(cal1.Date))
	               -- Vacations
                                    + MAX(( pay.Amount / dbo.GetHoursPerYear() )
                                          * pay.DefaultHoursPerDay
                                          * ISNULL(pay.VacationDays, 0) * 8
                                          * 20 / ( dbo.GetHoursPerYear() ))
                          FROM      dbo.Calendar AS cal1
                                    INNER JOIN dbo.Pay AS pay ON p.PersonId = pay.Person
                                                                 AND pay.StartDate <= cal1.Date
                                                                 AND pay.EndDate > cal1.Date
                                    LEFT JOIN dbo.v_PersonOverheadRetrospective
                                    AS o ON p.PersonId = o.PersonId
                                            AND o.Date = cal1.Date
                          WHERE     cal1.Date BETWEEN MIN(cal.Date) AND MAX(cal.Date)
                                    AND pay.Timescale = 2
                        ) AS SalaryCogs,
                        ( SELECT    MAX(( pay.Amount / dbo.GetHoursPerYear() )
                                          * pay.DefaultHoursPerDay
                                          * ISNULL(pay.VacationDays, 0) * 8
                                          * 20 / ( dbo.GetHoursPerYear() ))
                          FROM      dbo.Calendar AS cal1
                                    INNER JOIN dbo.Pay AS pay ON p.PersonId = pay.Person
                                                                 AND pay.StartDate <= cal1.Date
                                                                 AND pay.EndDate > cal1.Date
                                    LEFT JOIN dbo.v_PersonOverheadRetrospective
                                    AS o ON p.PersonId = o.PersonId
                                            AND o.Date = cal1.Date
                          WHERE     cal1.Date BETWEEN MIN(cal.Date) AND MAX(cal.Date)
                                    AND pay.Timescale = 2
                        ) AS Vacations,
                        ( SELECT    CAST(ISNULL(SUM(CASE o.IsPercentage
                                                      WHEN 0
                                                      THEN o.HourlyRate * 8
                                                           * 20
                                                           / ( [dbo].[GetDaysInMonth](cal1.Date) )
                                                      ELSE ( pay.Amount
                                                             * o.HourlyRate
                                                             * 8 * 20 )
                                                           / ( dbo.GetHoursPerYear() * 100 * [dbo].[GetDaysInMonth](cal1.Date) )
                                                    END), 0) AS DECIMAL(18, 2))
                          FROM      dbo.Calendar AS cal1
                                    INNER JOIN dbo.Pay AS pay ON p.PersonId = pay.Person
                                                                 AND pay.StartDate <= cal1.Date
                                                                 AND pay.EndDate > cal1.Date
                                    LEFT JOIN dbo.v_PersonOverheadRetrospective
                                    AS o ON p.PersonId = o.PersonId
                                            AND o.Date = cal1.Date
                          WHERE     cal1.Date BETWEEN MIN(cal.Date) AND MAX(cal.Date)
                                    AND pay.Timescale = 2
                        ) AS Overheads,
                        ( SELECT    dbo.ComputeMonthSalary(MAX(pay.Amount),
                                                             p.HireDate,
                                                             p.TerminationDate,
                                                             MIN(cal1.Date))
                          FROM      dbo.Calendar AS cal1
                                    INNER JOIN dbo.Pay AS pay ON p.PersonId = pay.Person
                                                                 AND pay.StartDate <= cal1.Date
                                                                 AND pay.EndDate > cal1.Date
                                    LEFT JOIN dbo.v_PersonOverheadRetrospective
                                    AS o ON p.PersonId = o.PersonId
                                            AND o.Date = cal1.Date
                          WHERE     cal1.Date BETWEEN MIN(cal.Date) AND MAX(cal.Date)
                                    AND pay.Timescale = 2
                        ) AS Salary,
                        p.PersonStatusId,
                        p.SeniorityId,
                        MIN(cal.Date) AS MonthStart,
                        MAX(cal.Date) AS MonthEnd
              FROM      dbo.Person AS p
                        INNER JOIN dbo.MilestonePerson AS mp ON p.PersonId = mp.PersonId
                        INNER JOIN dbo.MilestonePersonEntry AS mpe ON mp.MilestonePersonId = mpe.MilestonePersonId
                        INNER JOIN dbo.Milestone AS m ON m.MilestoneId = mp.MilestoneId
                        INNER JOIN dbo.Project AS proj ON m.ProjectId = proj.ProjectId
                        INNER JOIN dbo.PersonCalendarAuto AS cal 
							ON p.PersonId = cal.PersonId
							AND cal.Date BETWEEN p.HireDate AND ISNULL(p.TerminationDate, dbo.GetFutureDate())
							AND cal.DayOff = 0
                        INNER JOIN dbo.v_MilestoneHours AS mh ON mh.MilestoneId = m.MilestoneId
              WHERE     p.DefaultPractice <> 4
                        AND cal.Date BETWEEN @StartDate AND @EndDate
                        AND p.PersonStatusId != 4
                        AND p.PersonStatusId != 3                        
              GROUP BY  p.PersonId,
                        p.LastName,
                        p.FirstName,
                        p.HireDate,
                        p.TerminationDate,
                        DATEPART(yyyy, cal.Date),
                        DATEPART(mm, cal.Date),
                        p.PersonStatusId,
                        p.SeniorityId
            ) AS p
    WHERE   dbo.GetCurrentPayType(p.PersonId) = 2
            AND Revenue < ISNULL(p.SalaryCogs, 0)
    ORDER BY p.PersonId,
            p.LastName,
            p.FirstName,
            p.Year,
            p.Month]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[DayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneHours].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[IsHourlyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[Amount]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[decimal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneHours].[MilestoneHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverheadRetrospective]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverheadRetrospective].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverheadRetrospective].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[decimal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverheadRetrospective].[IsPercentage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverheadRetrospective].[HourlyRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDaysInMonth]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetHoursPerYear]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ComputeMonthSalary]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[DefaultHoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[VacationDays]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Timescale]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[decimal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListBenchExpense_details].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListBenchExpense_details].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetCurrentPayType]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListBenchExpense_details].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListBenchExpense_details].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="342" />
				<Property Name="Length" Value="9977" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 6-17-2008&#xD;&#xA;-- Updated by:  Anatoliy Lokshin&#xD;&#xA;-- Update date: 10-22-2008&#xD;&#xA;-- Updated by: Nikita Goncharenko&#xD;&#xA;-- Update date: 11-02-2009&#xD;&#xA;-- Description:&#x9;List all persons that have some bench time&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.PersonListBenchExpense_details&#xD;&#xA;    (&#xD;&#xA;      @StartDate DATETIME,&#xD;&#xA;      @EndDate DATETIME&#xD;&#xA;    )&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonListBenchExpense_fast]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	-- Listing all records
	SELECT p.PersonId, p.LastName, p.FirstName,
	       p.HireDate, ISNULL(p.TerminationDate, dbo.GetFutureDate()) AS TerminationDate,
	       dbo.MakeDate(p.Year, p.Month, 1) AS Month,
		   p.Revenue,
		   ISNULL(p.SalaryCogs, 0)/* + ISNULL(p.HourlyCogs, 0)*/ AS Cogs,
	       p.Revenue - (ISNULL(p.SalaryCogs, 0) + ISNULL(p.HourlyCogs, 0)) AS Margin,
            p.Overheads,
            p.Salary,
            p.Vacations,
	       p.PersonStatusId,
	       p.SeniorityId,
	       PersonStatusName = (SELECT Name FROM dbo.PersonStatus AS ps WHERE ps.PersonStatusId = p.PersonStatusId),
	       BenchStartDate =
	           (SELECT MIN(pcal.Date)
	              FROM dbo.PersonCalendarAuto AS pcal
	             WHERE pcal.PersonId = p.PersonId
	               AND pcal.Date BETWEEN p.MonthStart AND p.MonthEnd
	               AND pcal.DayOff = 0),
	       CASE
	           -- The person is busy during the month
	           WHEN p.FirstFreeDay IS NULL AND p.AvailableFrom IS NOT NULL THEN dbo.GetFutureDate()
	           -- The person is free during the month
	           WHEN p.AvailableFrom IS NULL THEN NULL
	           -- The person becomes free within the month
	           ELSE p.FirstFreeDay
	       END AS AvailableFrom,
	       CASE WHEN HourlyCogs IS NULL OR HourlyCogs = 0 THEN 2 ELSE 1 END AS Timescale
	  FROM (
			SELECT p.PersonId, p.LastName, p.FirstName, p.HireDate, p.TerminationDate,
				   DATEPART(yyyy, cal.Date) AS Year, DATEPART(mm, cal.Date) AS Month,

				   CAST(ISNULL(SUM(
	                   CASE 
	                       WHEN mp.ProjectStatusId IN (3,2) -- Active & Projected projects
	                       THEN ms.HoursPerDay * mp.MilestoneHourlyRevenue
	                       ELSE 0
	                   END), 0) AS DECIMAL(18,2)) AS Revenue,

				   /* Compute an expense for a month for the salaried persons*/
	               -- Overheads
				   (SELECT CAST(ISNULL(SUM(
							   CASE o.IsPercentage
							       WHEN 0
							       THEN o.HourlyRate * 8 * 20 / ([dbo].[GetDaysInMonth](cal1.Date))
							       ELSE (pay.Amount * o.HourlyRate * 8 * 20) / (dbo.GetHoursPerYear() * 100 * [dbo].[GetDaysInMonth](cal1.Date))
							   END), 0) AS DECIMAL(18,2))
	               -- Salary
	                        + dbo.ComputeMonthSalary(MAX(pay.Amount), p.HireDate, p.TerminationDate, MIN(cal1.Date))
	               -- Vacations
	                        + MAX( (pay.Amount / dbo.GetHoursPerYear()) * pay.DefaultHoursPerDay * ISNULL(pay.VacationDays, 0) * 8 * 20 / (dbo.GetHoursPerYear()))
					  FROM dbo.Calendar AS cal1
						   INNER JOIN dbo.Pay AS pay
							   ON p.PersonId = pay.Person AND pay.StartDate <= cal1.Date AND pay.EndDate > cal1.Date
						   LEFT JOIN dbo.v_PersonOverheadRetrospective AS o
							   ON p.PersonId = o.PersonId AND o.Date = cal1.Date
					 WHERE cal1.Date BETWEEN MIN(cal.Date) AND MAX(cal.Date)
					   AND pay.Timescale = 2) AS SalaryCogs,
                        ( SELECT    MAX(( pay.Amount / dbo.GetHoursPerYear() )
                                          * pay.DefaultHoursPerDay
                                          * ISNULL(pay.VacationDays, 0) * 8
                                          * 20 / ( dbo.GetHoursPerYear() ))
                          FROM      dbo.Calendar AS cal1
                                    INNER JOIN dbo.Pay AS pay ON p.PersonId = pay.Person
                                                                 AND pay.StartDate <= cal1.Date
                                                                 AND pay.EndDate > cal1.Date
                                    LEFT JOIN dbo.v_PersonOverheadRetrospective
                                    AS o ON p.PersonId = o.PersonId
                                            AND o.Date = cal1.Date
                          WHERE     cal1.Date BETWEEN MIN(cal.Date) AND MAX(cal.Date)
                                    AND pay.Timescale = 2
                        ) AS Vacations,
                        ( SELECT    CAST(ISNULL(SUM(CASE o.IsPercentage
                                                      WHEN 0
                                                      THEN o.HourlyRate * 8
                                                           * 20
                                                           / ( [dbo].[GetDaysInMonth](cal1.Date) )
                                                      ELSE ( pay.Amount
                                                             * o.HourlyRate
                                                             * 8 * 20 )
                                                           / ( dbo.GetHoursPerYear() * 100 * [dbo].[GetDaysInMonth](cal1.Date) )
                                                    END), 0) AS DECIMAL(18, 2))
                          FROM      dbo.Calendar AS cal1
                                    INNER JOIN dbo.Pay AS pay ON p.PersonId = pay.Person
                                                                 AND pay.StartDate <= cal1.Date
                                                                 AND pay.EndDate > cal1.Date
                                    LEFT JOIN dbo.v_PersonOverheadRetrospective
                                    AS o ON p.PersonId = o.PersonId
                                            AND o.Date = cal1.Date
                          WHERE     cal1.Date BETWEEN MIN(cal.Date) AND MAX(cal.Date)
                                    AND pay.Timescale = 2
                        ) AS Overheads,
                        ( SELECT    dbo.ComputeMonthSalary(MAX(pay.Amount),
                                                             p.HireDate,
                                                             p.TerminationDate,
                                                             MIN(cal1.Date))
                          FROM      dbo.Calendar AS cal1
                                    INNER JOIN dbo.Pay AS pay ON p.PersonId = pay.Person
                                                                 AND pay.StartDate <= cal1.Date
                                                                 AND pay.EndDate > cal1.Date
                                    LEFT JOIN dbo.v_PersonOverheadRetrospective
                                    AS o ON p.PersonId = o.PersonId
                                            AND o.Date = cal1.Date
                          WHERE     cal1.Date BETWEEN MIN(cal.Date) AND MAX(cal.Date)
                                    AND pay.Timescale = 2
                        ) AS Salary,

	               /* Compute an expense for a month for the hourly billed persons*/
	               -- TODO: compute the vacations expense
	               (SELECT SUM(DailyRate)
	                  FROM dbo.v_MilestonePersonExpense AS e
	                 WHERE e.PersonId = p.PersonId
	                   AND e.Date BETWEEN MIN(cal.Date) AND MAX(cal.Date)
	                   AND e.Timescale IN (1, 3, 4)
	               ) AS HourlyCogs,

	               p.PersonStatusId,
	               p.SeniorityId,
	               MIN(cal.Date) AS MonthStart,
	               MAX(cal.Date) AS MonthEnd,
	               MAX(ms.Date) AS AvailableFrom,
	               MIN(CASE WHEN ms.Date IS NULL AND pcal.DayOff = 0 THEN pcal.Date ELSE NULL END) AS FirstFreeDay,
	               MAX(pcal.Date) AS PersonMonthEnd
			  FROM dbo.Person AS p
	               INNER JOIN dbo.Calendar AS cal ON cal.Date BETWEEN p.HireDate AND ISNULL(p.TerminationDate, dbo.GetFutureDate())
	               LEFT JOIN dbo.v_MilestonePersonSchedule AS ms
	                   ON ms.PersonId = p.PersonId AND ms.Date = cal.Date
	               LEFT JOIN dbo.v_MilestonePerson AS mp
	                   ON mp.PersonId = p.PersonId AND ms.MilestoneId = mp.MilestoneId AND mp.StartDate = ms.EntryStartDate
	               LEFT JOIN dbo.PersonCalendarAuto AS pcal
	                   ON pcal.Date = cal.Date AND pcal.PersonId = p.PersonId AND pcal.DayOff = 0
			 WHERE p.DefaultPractice <> 4
			   AND cal.Date BETWEEN @StartDate AND @EndDate
			   AND p.PersonStatusId != 4
			GROUP BY p.PersonId, p.LastName, p.FirstName, p.HireDate, p.TerminationDate, DATEPART(yyyy, cal.Date), DATEPART(mm, cal.Date), p.PersonStatusId, p.SeniorityId
			) AS p
	 WHERE 
		Revenue < (ISNULL(p.SalaryCogs, 0) + ISNULL(p.HourlyCogs, 0)) AND 
		p.PersonStatusId != 3 AND p.PersonStatusId != 4 AND
		dbo.GetCurrentPayType(p.PersonId) != 3 AND dbo.GetCurrentPayType(p.PersonId) != 4
	ORDER BY p.PersonId, p.LastName, p.FirstName, p.Year, p.Month]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[EntryStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[DayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[decimal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneHourlyRevenue]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverheadRetrospective]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverheadRetrospective].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverheadRetrospective].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[decimal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverheadRetrospective].[IsPercentage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverheadRetrospective].[HourlyRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDaysInMonth]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetHoursPerYear]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ComputeMonthSalary]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[DefaultHoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[VacationDays]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Timescale]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[decimal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonExpense]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonExpense].[DailyRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonExpense].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonExpense].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonExpense].[Timescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListBenchExpense_fast].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListBenchExpense_fast].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[DayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetCurrentPayType]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListBenchExpense_fast].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListBenchExpense_fast].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="342" />
				<Property Name="Length" Value="9134" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 6-17-2008&#xD;&#xA;-- Updated by:  Anatoliy Lokshin&#xD;&#xA;-- Update date: 10-22-2008&#xD;&#xA;-- Updated by: Nikita Goncharenko&#xD;&#xA;-- Update date: 11-02-2009&#xD;&#xA;-- Description:&#x9;List all persons that have some bench time&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.PersonListBenchExpense_fast&#xD;&#xA;(&#xD;&#xA;&#x9;@StartDate   DATETIME,&#xD;&#xA;&#x9;@EndDate     DATETIME&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonListPracticeManager]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	DECLARE @Now DATETIME
	SET @Now = dbo.Today()

	-- Table variable to store list of salespersons user is allowed to see	
	DECLARE @SalespersonPermissions TABLE(
		PersonId INT NULL
	)
	-- Populate is with the data from the permissions table
	--		TargetType = 4 means that we are looking for the practice manager in the permissions table
	INSERT INTO @SalespersonPermissions (
		PersonId
	) SELECT prm.TargetId FROM dbo.Permission AS prm WHERE prm.PersonId = @PersonId AND prm.TargetType = 4
	
	-- If there are nulls in permission table, it means that eveything is allowed to be seen,
	--		so set @PersonId to NULL which will extract all records from the table
	DECLARE @NullsNumber INT
	SELECT @NullsNumber = COUNT(*) FROM @SalespersonPermissions AS sp WHERE sp.PersonId IS NULL 
	IF @NullsNumber > 0 SET @PersonId = NULL

	IF @EndDate IS NULL
	BEGIN
		SELECT @EndDate = p.EndDate
		  FROM dbo.Project AS p
		 WHERE p.ProjectId = @ProjectId
	END

	SELECT p.PersonId,
	       p.FirstName,
	       p.LastName,
	       p.PTODaysPerAnnum,
	       p.HireDate,
	       p.TerminationDate,
	       p.Alias,
	       p.DefaultPractice,
	       p.PracticeName,
	       p.PersonStatusId,
	       p.PersonStatusName,
		   p.EmployeeNumber,
	       p.SeniorityId,
	       p.SeniorityName,
	       p.ManagerId,
	       p.ManagerAlias,
	       p.ManagerFirstName,
	       p.ManagerLastName,
	       p.PracticeOwnedId,
	       p.PracticeOwnedName,
	       p.TelephoneNumber
	  FROM dbo.v_Person AS p
	 WHERE (p.PersonStatusId = 1 /* Active person only*/ OR @IncludeInactive = 1)
		AND (
			@PersonId IS NULL 
			OR  
			p.PersonId IN (SELECT * FROM @SalespersonPermissions)
		)
	   AND EXISTS (SELECT 1
	                 FROM dbo.DefaultCommission AS c
	                WHERE p.PersonId = c.PersonId
	                  AND [type] = 2
	                  AND (   @IncludeInactive = 1
	                       OR (@Now >= c.StartDate AND @Now < c.EndDate)))
	   AND (p.TerminationDate IS NULL OR p.TerminationDate > @EndDate OR @IncludeInactive = 1)
	ORDER BY p.LastName, p.FirstName]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Today]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListPracticeManager].[@SalespersonPermissions].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListPracticeManager].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListPracticeManager].[@SalespersonPermissions].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListPracticeManager].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListPracticeManager].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PTODaysPerAnnum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonStatusName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[EmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[SeniorityName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerAlias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerFirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerLastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeOwnedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeOwnedName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[TelephoneNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListPracticeManager].[@IncludeInactive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[EndDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[PersonListPracticeManager].[@SalespersonPermissions]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[PersonListPracticeManager].[@SalespersonPermissions].[PersonId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListPracticeManager].[@ProjectId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListPracticeManager].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListPracticeManager].[@IncludeInactive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListPracticeManager].[@PersonId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2310" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.PersonListPracticeManager&#xD;&#xA;(&#xD;&#xA;&#x9;@ProjectId         INT,&#xD;&#xA;&#x9;@EndDate           DATETIME,&#xD;&#xA;&#x9;@IncludeInactive   BIT,&#xD;&#xA;&#x9;@PersonId&#x9;&#x9;   INT = NULL&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonListProjectOwner]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	-- Table variable to store list of salespersons user is allowed to see	
    DECLARE @SalespersonPermissions TABLE ( PersonId INT NULL )
	-- Populate is with the data from the permissions table
	--		TargetType = 3 means that we are looking for the salespersons in the permissions table
    INSERT  INTO @SalespersonPermissions
            ( PersonId
	      )
            SELECT  prm.TargetId
            FROM    v_permissions AS prm
            WHERE   prm.PersonId = @PersonId
                    AND prm.PermissionTypeId = 4
	
	-- If there are nulls in permission table, it means that eveything is allowed to be seen,
	--		so set @PersonId to NULL which will extract all records from the table
    DECLARE @NullsNumber INT
    SELECT  @NullsNumber = COUNT(*)
    FROM    @SalespersonPermissions AS sp
    WHERE   sp.PersonId IS NULL 

    IF @NullsNumber > 0 
        SET @PersonId = NULL

	SELECT  DISTINCT 
			pers.PersonId ,
			pers.PTODaysPerAnnum ,
	        pers.HireDate ,
	        pers.TerminationDate,
	        pers.TelephoneNumber,
	        pers.DefaultPractice,
	        'Unknown' AS 'PracticeName',
	        pers.Alias ,
	        pers.FirstName ,
	        pers.LastName ,
	        pers.PersonStatusId ,
	        'Unknown' AS 'PersonStatusName',
	        pers.EmployeeNumber ,
	        pers.SeniorityId,
	        'Unknown' AS 'SeniorityName',
	        pers.ManagerId,
	        'Unknown' AS 'ManagerFirstName',	-- just stubs 
	        'Unknown' AS 'ManagerLastName'	-- just stubs
	FROM dbo.Project AS proj
	INNER JOIN dbo.Person AS pers ON proj.ProjectManagerId = pers.PersonId
	WHERE --(@EndDate BETWEEN proj.StartDate AND proj.EndDate) AND 
			(@IncludeInactive = 1 OR pers.PersonStatusId != 4)
            AND ( @PersonId IS NULL
                  OR pers.PersonId IN (
                  SELECT    *
                  FROM      @SalespersonPermissions )
                )
	order by pers.lastname, pers.firstname]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListProjectOwner].[@SalespersonPermissions].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Permissions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Permissions].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Permissions].[PersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListProjectOwner].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Permissions].[PermissionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListProjectOwner].[@SalespersonPermissions].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PTODaysPerAnnum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TelephoneNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[EmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListProjectOwner].[@IncludeInactive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[PersonListProjectOwner].[@SalespersonPermissions]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[PersonListProjectOwner].[@SalespersonPermissions].[PersonId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListProjectOwner].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListProjectOwner].[@IncludeInactive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListProjectOwner].[@PersonId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2129" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.PersonListProjectOwner&#xD;&#xA;(&#xD;&#xA;&#x9;@EndDate           DATETIME,&#xD;&#xA;&#x9;@IncludeInactive   BIT,&#xD;&#xA;&#x9;@PersonId INT = NULL&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonListRecruiter]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
    SET NOCOUNT ON

    IF @HireDate IS NULL
        AND @PersonId IS NOT NULL 
        BEGIN
            SELECT  @HireDate = p.HireDate
            FROM    dbo.Person AS p
            WHERE   PersonId = @PersonId
        END
    ELSE 
        IF @HireDate IS NULL 
            BEGIN
                SET @HireDate = GETDATE()
            END

    SELECT  p.PersonId ,
            p.FirstName ,
            p.LastName ,
            p.PTODaysPerAnnum ,
            p.HireDate ,
            p.TerminationDate ,
            p.Alias ,
            p.DefaultPractice ,
            p.PracticeName ,
            p.PersonStatusId ,
            p.PersonStatusName ,
            p.EmployeeNumber ,
            p.SeniorityId ,
            p.SeniorityName ,
            p.ManagerId ,
            p.ManagerAlias ,
            p.ManagerFirstName ,
            p.ManagerLastName ,
            p.PracticeOwnedId ,
            p.PracticeOwnedName,
            p.TelephoneNumber
    FROM    dbo.v_Person AS p
    WHERE   p.PersonStatusId = 1	-- Active person only
            /*AND ( EXISTS ( SELECT   *
                           FROM     v_UsersInRoles AS ur
                           WHERE    ur.UserName = p.Alias
                                    AND ur.RoleName = 'Recruiter' ) )*/
	   AND (   EXISTS (SELECT 1
	                     FROM dbo.DefaultRecruiterCommissionHeader AS c
	                    WHERE p.PersonId = c.PersonId
	                      AND @HireDate >= c.StartDate
	                      AND @HireDate < c.EndDate)
	        OR EXISTS (SELECT 1
	                     FROM dbo.RecruiterCommission AS rc
	                    WHERE rc.RecruitId = @PersonId AND rc.RecruiterId = p.PersonId)
	       )
    ORDER BY p.LastName ,
            p.FirstName]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[PersonListRecruiter].[@HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListRecruiter].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PTODaysPerAnnum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonStatusName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[EmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[SeniorityName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerAlias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerFirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerLastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeOwnedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeOwnedName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[TelephoneNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruitId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruiterId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListRecruiter].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListRecruiter].[@HireDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="305" />
				<Property Name="Length" Value="2219" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 8-04-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date: 12-01-2008&#xD;&#xA;-- Description:&#x9;Retrives the list of Persons who receives the Recruiting commissions.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.PersonListRecruiter&#xD;&#xA;    (&#xD;&#xA;      @PersonId INT ,&#xD;&#xA;      @HireDate DATETIME&#xD;&#xA;    )&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonListSalesperson]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
    SET NOCOUNT ON

    DECLARE @Now DATETIME
    SET @Now = dbo.Today()

	-- Table variable to store list of salespersons user is allowed to see	
    DECLARE @SalespersonPermissions TABLE ( PersonId INT NULL )
	-- Populate is with the data from the permissions table
	--		TargetType = 3 means that we are looking for the salespersons in the permissions table
    INSERT  INTO @SalespersonPermissions
            ( PersonId
	      )
            SELECT  prm.TargetId
            FROM    v_permissions AS prm
            WHERE   prm.PersonId = @PersonId
                    AND prm.PermissionTypeId = 3
	
	-- If there are nulls in permission table, it means that eveything is allowed to be seen,
	--		so set @PersonId to NULL which will extract all records from the table
    DECLARE @NullsNumber INT
    SELECT  @NullsNumber = COUNT(*)
    FROM    @SalespersonPermissions AS sp
    WHERE   sp.PersonId IS NULL 

    IF @NullsNumber > 0 
        SET @PersonId = NULL

        ;WITH    Salespersons
                  AS ( SELECT   p.PersonId ,
                                p.FirstName ,
                                p.LastName ,
                                p.PTODaysPerAnnum ,
                                p.HireDate ,
                                p.TerminationDate ,
                                p.Alias ,
                                p.DefaultPractice ,
                                p.PracticeName ,
                                p.PersonStatusId ,
                                p.PersonStatusName ,
                                p.EmployeeNumber ,
                                p.SeniorityId ,
                                p.SeniorityName ,
                                p.ManagerId ,
                                p.ManagerAlias ,
                                p.ManagerFirstName ,
                                p.ManagerLastName ,
                                p.PracticeOwnedId ,
                                p.PracticeOwnedName,
                                p.TelephoneNumber
                       FROM     dbo.v_Person AS p
                       WHERE    ( p.PersonStatusId = 1 /* Active person only */
                                  OR @IncludeInactive = 1
                                )
                                AND ( @PersonId IS NULL
                                      OR p.PersonId IN (
                                      SELECT    *
                                      FROM      @SalespersonPermissions )
                                    )
                                AND EXISTS ( SELECT 1
                                             FROM   dbo.DefaultCommission AS c
                                             WHERE  p.PersonId = c.PersonId
                                                    AND [type] = 1
                                                    AND ( @IncludeInactive = 1
                                                          OR ( @Now >= c.StartDate
                                                              AND @Now < c.EndDate
                                                             )
                                                        ) )
                       UNION ALL
                       SELECT   p.PersonId ,
                                p.FirstName ,
                                p.LastName ,
                                p.PTODaysPerAnnum ,
                                p.HireDate ,
                                p.TerminationDate ,
                                p.Alias ,
                                p.DefaultPractice ,
                                p.PracticeName ,
                                p.PersonStatusId ,
                                p.PersonStatusName ,
                                p.EmployeeNumber ,
                                p.SeniorityId ,
                                p.SeniorityName ,
                                p.ManagerId ,
                                p.ManagerAlias ,
                                p.ManagerFirstName ,
                                p.ManagerLastName ,
                                p.PracticeOwnedId ,
                                p.PracticeOwnedName,
                                p.TelephoneNumber
                       FROM     dbo.v_Person AS p
                                INNER JOIN dbo.aspnet_Users AS u ON p.Alias = u.UserName
                                INNER JOIN dbo.aspnet_UsersInRoles AS ur ON u.UserId = ur.UserId
                                INNER JOIN dbo.aspnet_Roles AS r ON ur.RoleId = r.RoleId
                       WHERE    r.RoleName = 'Salesperson' AND 
								(p.PersonStatusId = 1 OR p.PersonStatusId = 3)
                                AND ( @PersonId IS NULL
                                      OR p.PersonId IN (
                                      SELECT    *
                                      FROM      @SalespersonPermissions )
                                    )
                     )
        SELECT  DISTINCT *
        FROM    Salespersons AS s
        ORDER BY s.LastName ,
                s.FirstName]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Today]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListSalesperson].[@SalespersonPermissions].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Permissions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Permissions].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Permissions].[PersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListSalesperson].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Permissions].[PermissionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListSalesperson].[@SalespersonPermissions].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PTODaysPerAnnum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonStatusName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[EmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[SeniorityName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerAlias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerFirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerLastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeOwnedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeOwnedName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[TelephoneNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListSalesperson].[@IncludeInactive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PTODaysPerAnnum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonStatusName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[EmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[SeniorityName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerAlias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerFirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerLastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeOwnedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeOwnedName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[TelephoneNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[FirstName]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[PersonListSalesperson].[@SalespersonPermissions]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[PersonListSalesperson].[@SalespersonPermissions].[PersonId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[PersonListSalesperson].[CTE1].[Salespersons]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonListSalesperson].[CTE1].[Salespersons].[PersonId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Person].[PersonId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonListSalesperson].[CTE1].[Salespersons].[FirstName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Person].[FirstName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonListSalesperson].[CTE1].[Salespersons].[LastName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Person].[LastName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonListSalesperson].[CTE1].[Salespersons].[PTODaysPerAnnum]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Person].[PTODaysPerAnnum]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonListSalesperson].[CTE1].[Salespersons].[HireDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Person].[HireDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonListSalesperson].[CTE1].[Salespersons].[TerminationDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Person].[TerminationDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonListSalesperson].[CTE1].[Salespersons].[Alias]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Person].[Alias]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonListSalesperson].[CTE1].[Salespersons].[DefaultPractice]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Person].[DefaultPractice]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonListSalesperson].[CTE1].[Salespersons].[PracticeName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Person].[PracticeName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonListSalesperson].[CTE1].[Salespersons].[PersonStatusId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Person].[PersonStatusId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonListSalesperson].[CTE1].[Salespersons].[PersonStatusName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Person].[PersonStatusName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonListSalesperson].[CTE1].[Salespersons].[EmployeeNumber]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Person].[EmployeeNumber]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonListSalesperson].[CTE1].[Salespersons].[SeniorityId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Person].[SeniorityId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonListSalesperson].[CTE1].[Salespersons].[SeniorityName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Person].[SeniorityName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonListSalesperson].[CTE1].[Salespersons].[ManagerId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Person].[ManagerId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonListSalesperson].[CTE1].[Salespersons].[ManagerAlias]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Person].[ManagerAlias]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonListSalesperson].[CTE1].[Salespersons].[ManagerFirstName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Person].[ManagerFirstName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonListSalesperson].[CTE1].[Salespersons].[ManagerLastName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Person].[ManagerLastName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonListSalesperson].[CTE1].[Salespersons].[PracticeOwnedId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Person].[PracticeOwnedId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonListSalesperson].[CTE1].[Salespersons].[PracticeOwnedName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Person].[PracticeOwnedName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[PersonListSalesperson].[CTE1].[Salespersons].[TelephoneNumber]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Person].[TelephoneNumber]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListSalesperson].[@IncludeInactive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListSalesperson].[@PersonId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="5327" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.PersonListSalesperson&#xD;&#xA;    (&#xD;&#xA;      @IncludeInactive BIT ,&#xD;&#xA;      @PersonId INT = NULL&#xD;&#xA;    )&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonListSubordinates]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	DECLARE @PracticeManagerSeniorityId INT

	--Get the SeniorityId of the Practice Manager and store it in a variable
	SELECT @PracticeManagerSeniorityId = SeniorityId
	FROM dbo.Person
	WHERE PersonId = @PracticeManagerId

	SELECT p.PersonId,
	       p.FirstName,
	       p.LastName,
	       p.PTODaysPerAnnum,
	       p.HireDate,
	       p.TerminationDate,
	       p.Alias,
	       p.DefaultPractice,
	       p.PracticeName,
	       p.PersonStatusId,
	       p.PersonStatusName,
		   p.EmployeeNumber,
		   p.SeniorityId,
		   p.SeniorityName,
	       p.ManagerId,
	       p.ManagerAlias,
	       p.ManagerFirstName,
	       p.ManagerLastName,
	       p.PracticeOwnedId,
	       p.PracticeOwnedName, 
	       p.TelephoneNumber
	  FROM dbo.v_Person AS p
	  LEFT JOIN dbo.Practice AS pr ON p.DefaultPractice = pr.PracticeId
	 WHERE ISNULL(pr.IsCompanyInternal, 0) = 0
					AND p.SeniorityId > @PracticeManagerSeniorityId -- All the persons, having seniority level below the Practice Manager's seniority level
	ORDER BY p.LastName, p.FirstName]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonListSubordinates].[@PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PTODaysPerAnnum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonStatusName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[EmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[SeniorityName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerAlias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerFirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerLastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeOwnedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeOwnedName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[TelephoneNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[IsCompanyInternal]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonListSubordinates].[@PracticeManagerId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="302" />
				<Property Name="Length" Value="1474" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 8-29-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;11-20-2008&#xD;&#xA;-- Description:&#x9;Selects all subordinated persons for a specified practice manager.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.PersonListSubordinates&#xD;&#xA;(&#xD;&#xA;&#x9;@PracticeManagerId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonMilestoneWithFinancials]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
SELECT  p.ProjectId,
		p.Name AS 'ProjectName',
		p.ProjectStatusId,
		p.ProjectNumber,
		s.Name AS 'ProjectStatus',
		m.MilestoneId,
        m.Description AS 'MilestoneName',
        mp.MilestonePersonId,
        mpe.StartDate,
        mpe.EndDate,
        r.Name AS 'RoleName',
        f.Revenue,
        f.GrossMargin
FROM    dbo.Project AS p
		INNER JOIN dbo.ProjectStatus AS s ON p.ProjectStatusId = s.ProjectStatusId
		INNER JOIN dbo.Milestone AS m ON p.ProjectId = m.ProjectId
        INNER JOIN dbo.MilestonePerson AS mp ON m.MilestoneId = mp.MilestoneId
        INNER JOIN dbo.MilestonePersonEntry AS mpe ON mp.MilestonePersonId = mpe.MilestonePersonId
        LEFT JOIN dbo.PersonRole AS r ON mpe.PersonRoleId = r.PersonRoleId
        INNER JOIN v_FinancialsForMilestones AS f ON m.MilestoneId = f.MilestoneId
                                                     AND mp.PersonId = f.PersonId
WHERE   f.PersonId = @PersonId
ORDER BY mpe.StartDate
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectStatus].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonRole]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[PersonRoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonRole].[PersonRoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsForMilestones]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsForMilestones].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsForMilestones].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectStatus].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonRole].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsForMilestones].[Revenue]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsForMilestones].[GrossMargin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonMilestoneWithFinancials].[@PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonMilestoneWithFinancials].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1079" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[PersonMilestoneWithFinancials] &#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId         INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonOneOffList]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT p.PersonId,
	       p.FirstName,
	       p.LastName,
	       p.PTODaysPerAnnum,
	       p.HireDate,
	       p.TerminationDate,
	       p.Alias,
	       p.DefaultPractice,
	       p.PracticeName,
	       p.PersonStatusId,
	       p.PersonStatusName,
		   p.EmployeeNumber,
		   p.SeniorityId,
		   p.SeniorityName,
		   y.StartDate,
		   ISNULL(y.EndDate, dbo.GetFutureDate()) AS EndDate,
	       p.ManagerId,
	       p.ManagerAlias,
	       p.ManagerFirstName,
	       p.ManagerLastName,
	       p.PracticeOwnedId,
	       p.PracticeOwnedName, 
	       p.TelephoneNumber
	  FROM dbo.v_Person AS p
           INNER JOIN dbo.v_Pay AS y ON p.PersonId = y.PersonId
           LEFT JOIN dbo.Practice AS pr ON p.DefaultPractice = pr.PracticeId
	 WHERE p.PersonStatusId in (1,2,3) AND ISNULL(pr.IsCompanyInternal, 0) = 0
           AND @DateToday BETWEEN y.StartDate AND ISNULL(y.EndDate, dbo.GetFutureDate())
           AND ((@MaxSeniorityLevel IS NULL) OR (@MaxSeniorityLevel < p.SeniorityId))
     ORDER BY p.LastName]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PTODaysPerAnnum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PersonStatusName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[EmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[SeniorityName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Pay].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerAlias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerFirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[ManagerLastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeOwnedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[PracticeOwnedName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Person].[TelephoneNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[IsCompanyInternal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonOneOffList].[@DateToday]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonOneOffList].[@MaxSeniorityLevel]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonOneOffList].[@DateToday]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonOneOffList].[@MaxSeniorityLevel]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="9" />
				<Property Name="Length" Value="1177" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#x9;&#xD;&#xA;CREATE PROCEDURE dbo.PersonOneOffList&#xD;&#xA;(&#xD;&#xA;&#x9;@DateToday   DATETIME,&#xD;&#xA;&#x9;@MaxSeniorityLevel&#x9;INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonOverheadByPerson]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	DECLARE @today DATETIME
	SET @today = dbo.Today()

	SELECT o.PersonId,
	       o.Description,
	       o.Rate,
	       o.HoursToCollect,
	       o.StartDate,
	       o.EndDate,
	       o.IsPercentage,
	       o.OverheadRateTypeId,
	       o.OverheadRateTypeName,
	       o.BillRateMultiplier
	  FROM dbo.v_PersonOverhead AS o
	 WHERE o.PersonId = @PersonId
	   AND o.StartDate <= @today AND ISNULL(o.EndDate, dbo.GetFutureDate()) > @today]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Today]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverhead]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverhead].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverhead].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverhead].[Rate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverhead].[HoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverhead].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverhead].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverhead].[IsPercentage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverhead].[OverheadRateTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverhead].[OverheadRateTypeName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverhead].[BillRateMultiplier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonOverheadByPerson].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonOverheadByPerson].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="260" />
				<Property Name="Length" Value="809" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-28-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date: 7-22-2008&#xD;&#xA;-- Description:&#x9;Lists a person's overhead&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[PersonOverheadByPerson]&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonOverheadByTimescale]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	DECLARE @today DATETIME
	SET @today = dbo.Today()

	SELECT o.Description,
	       o.Rate,
	       o.HoursToCollect,
	       o.StartDate,
	       o.EndDate,
	       o.IsPercentage,
	       o.OverheadRateTypeId,
	       o.OverheadRateTypeName,
	       CASE o.OverheadRateTypeId
	           WHEN 2
	           THEN o.Rate
	           ELSE CAST(0 AS DECIMAL)
	       END AS BillRateMultiplier
	  FROM dbo.v_OverheadFixedRate AS o
	 WHERE EXISTS (SELECT 1
	                 FROM dbo.OverheadFixedRateTimescale AS t
	                WHERE t.OverheadFixedRateId = o.OverheadFixedRateId AND t.TimescaleId = @TimescaleId)
	   AND o.StartDate <= @today AND ISNULL(o.EndDate, dbo.GetFutureDate()) > @today
	   AND o.Inactive = 0]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Today]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[Rate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[HoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[IsPercentage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[OverheadRateTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[OverheadRateTypeName]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[decimal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale].[OverheadFixedRateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[OverheadFixedRateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale].[TimescaleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonOverheadByTimescale].[@TimescaleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[Inactive]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonOverheadByTimescale].[@TimescaleId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="280" />
				<Property Name="Length" Value="1121" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-28-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date: 7-30-2008&#xD;&#xA;-- Description:&#x9;Lists an overhead for the specified timescale&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[PersonOverheadByTimescale]&#xD;&#xA;(&#xD;&#xA;&#x9;@TimescaleId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100MultiStatementTableValuedFunction" Name="[dbo].[PersonPracticePermissions]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="ReturnTableVariable" Value="@result" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_Permissions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Permissions].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Permissions].[PermissionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Permissions].[PersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonPracticePermissions].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonPracticePermissions].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[PersonPracticePermissions].[TargetId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	-- Insert permissions from permissions table
	insert into @result
		select p.TargetId 
		from v_Permissions as p 
		where p.PermissionTypeId = 5 -- Practice 
				and p.PersonId = @PersonId

	-- Select top record from result set
	delete 
	from @result
	where TargetId IS NULL

	-- If it's null, then person has all permissions
	IF (@@RowCount > 0)
		-- Insert all targets
		insert into @result
			select pr.PracticeId
			from dbo.Practice as pr

	RETURN
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="603" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION dbo.PersonPracticePermissions&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId&#x9;INT&#xD;&#xA;)&#xD;&#xA;RETURNS &#xD;&#xA;@result table&#xD;&#xA;(&#xD;&#xA;&#x9;TargetId int&#xD;&#xA;)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonPracticePermissions].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100MultiStatementTableValuedFunction" Name="[dbo].[PersonProjectGroupPermissions]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="ReturnTableVariable" Value="@Result" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_Permissions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Permissions].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Permissions].[PermissionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Permissions].[PersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonProjectGroupPermissions].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonProjectGroupPermissions].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[GroupId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[PersonProjectGroupPermissions].[TargetId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	-- Insert permissions from permissions table
	insert into @result
		select p.TargetId 
		from v_Permissions as p 
		where p.PermissionTypeId = 2 -- Project Group 
				and p.PersonId = @PersonId

	-- Select top record from result set
	delete 
	from @result
	where TargetId IS NULL

	-- If it's null, then person has all permissions
	IF (@@RowCount > 0)
		-- Insert all targets
		insert into @result
			select pg.GroupId
			from dbo.ProjectGroup as pg

	RETURN
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="613" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION dbo.PersonProjectGroupPermissions&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId&#x9;INT&#xD;&#xA;)&#xD;&#xA;RETURNS &#xD;&#xA;@Result table&#xD;&#xA;(&#xD;&#xA;&#x9;TargetId int&#xD;&#xA;)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonProjectGroupPermissions].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100MultiStatementTableValuedFunction" Name="[dbo].[PersonProjectOwnerPermissions]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="ReturnTableVariable" Value="@result" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_Permissions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Permissions].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Permissions].[PermissionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Permissions].[PersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonProjectOwnerPermissions].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonProjectOwnerPermissions].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[PersonProjectOwnerPermissions].[TargetId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	-- Insert permissions from permissions table
	insert into @result
		select p.TargetId 
		from v_Permissions as p 
		where p.PermissionTypeId = 4 -- Project Owner 
				and p.PersonId = @PersonId

	-- Select top record from result set
	delete 
	from @result
	where TargetId IS NULL

	-- If it's null, then person has all permissions
	IF (@@RowCount > 0)
		-- Insert all targets
		insert into @result
			select p.PersonId
			from dbo.Person as p

	RETURN
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="606" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION dbo.PersonProjectOwnerPermissions&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId&#x9;INT&#xD;&#xA;)&#xD;&#xA;RETURNS &#xD;&#xA;@result table&#xD;&#xA;(&#xD;&#xA;&#x9;TargetId int&#xD;&#xA;)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonProjectOwnerPermissions].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[PersonRole]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[PersonRole].[PersonRoleId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[PersonRole].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonRoleListAll]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT r.PersonRoleId, r.Name
	  FROM dbo.PersonRole AS r
	ORDER BY r.PersonRoleId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[PersonRole]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonRole].[PersonRoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonRole].[Name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="244" />
				<Property Name="Length" Value="396" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--The source is &#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 7-9-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;List person roles&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[PersonRoleListAll]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonSetDefaultManager]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;

	UPDATE dbo.Person
	SET IsDefaultManager = 0
	WHERE IsDefaultManager = 1
		
	UPDATE dbo.Person
	SET IsDefaultManager = 1
	WHERE PersonId = @DefaultManagerId
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[IsDefaultManager]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonSetDefaultManager].[@DefaultManagerId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonSetDefaultManager].[@DefaultManagerId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="198" />
				<Property Name="Length" Value="467" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-01-21&#xD;&#xA;-- Description:&#x9;Sets default manager&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.PersonSetDefaultManager&#xD;&#xA;&#x9;@DefaultManagerId INT &#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonSetStatus]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	IF @PersonStatusId <> 1	-- Inactive (Terminated or Projected)
	BEGIN

		DECLARE @today DATETIME
		SET @today = dbo.Today()

		IF EXISTS(SELECT 1
				FROM dbo.v_MilestonePersonLight AS mp
			   WHERE mp.PersonId = @PersonID
				 AND mp.EndDate > @today)
		BEGIN
			RAISERROR (70006, 16, 1)
			RETURN
		END
	END
		
	UPDATE Person
		SET PersonStatusId = @PersonStatusId
		WHERE PersonId = @PersonID]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonSetStatus].[@PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Today]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonLight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonLight].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonSetStatus].[@PersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonLight].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonSetStatus].[@PersonID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonSetStatus].[@PersonStatusId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="302" />
				<Property Name="Length" Value="826" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Alexey Zvekov&#xD;&#xA;-- Create date: 7-1-1008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;11-18-2008&#xD;&#xA;-- Description:&#x9;Sets person status and&#xD;&#xA;-- implements inctivating person functionality&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[PersonSetStatus]&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonID int,&#xD;&#xA;&#x9;@PersonStatusId int&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonStatsByDateRange]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON	

	SELECT ISNULL(SUM(
			CASE	
				WHEN (p.ProjectStatusId = 2 AND @ShowProjected = 'TRUE') OR @ShowProjected IS NULL THEN f.PersonMilestoneDailyAmount 
				WHEN (p.ProjectStatusId = 3 AND @ShowCompleted = 'TRUE') OR @ShowCompleted IS NULL THEN f.PersonMilestoneDailyAmount 
				WHEN (p.ProjectStatusId = 4 AND @ShowActive = 'TRUE') OR @ShowActive IS NULL THEN f.PersonMilestoneDailyAmount 
				WHEN (p.ProjectStatusId = 5 AND @ShowExperimental = 'TRUE') OR @ShowExperimental IS NULL THEN f.PersonMilestoneDailyAmount 
				ELSE 0 
			END), 0) AS Revenue,
			dbo.MakeDate(YEAR(cal.Date), MONTH(cal.Date), 1) AS Date,
			dbo.MakeDate(YEAR(cal.Date), MONTH(cal.Date), NULL) as EndDate,
	       ISNULL(SUM(CASE WHEN pr.DefaultPractice <> 1 /* Non in offshore practice*/ THEN f.PersonHoursPerDay ELSE 0 END), 0) /
	       (SELECT COUNT(*) * 8
	          FROM dbo.Calendar AS c
	         WHERE c.Date BETWEEN dbo.MakeDate(YEAR(cal.Date), MONTH(cal.Date), 1) AND dbo.MakeDate(YEAR(cal.Date), MONTH(cal.Date), NULL)
	           AND c.DayOff = 0) AS VirtualConsultants,
	       EmployeesNumber = dbo.GetEmployeeNumber(dbo.MakeDate(YEAR(cal.Date), MONTH(cal.Date), 1), dbo.MakeDate(YEAR(cal.Date), MONTH(cal.Date), NULL)),
		   ConsultantsNumber = dbo.GetCounsultantsNumber(dbo.MakeDate(YEAR(cal.Date), MONTH(cal.Date), 1), dbo.MakeDate(YEAR(cal.Date), MONTH(cal.Date), NULL))
	  FROM dbo.Calendar AS cal
	       LEFT JOIN dbo.v_FinancialsRetrospective AS f
	          ON f.Date BETWEEN @StartDate AND @EndDate AND cal.Date = f.Date
	       LEFT JOIN dbo.Person AS pr ON f.PersonId = pr.PersonId
	       LEFT JOIN dbo.Project AS p ON f.ProjectId = p.ProjectId
	 WHERE cal.Date BETWEEN @StartDate AND @EndDate
       AND (   (@SalespersonId IS NULL AND @PracticeManagerId IS NULL)
	        OR EXISTS (SELECT 1
	                      FROM dbo.v_PersonProjectCommission AS c
	                     WHERE c.ProjectId = p.ProjectId AND c.PersonId = @SalespersonId AND c.CommissionType = 1
	                   UNION ALL
	                   SELECT 1
	                     FROM dbo.v_PersonProjectCommission AS c
	                    WHERE c.ProjectId = p.ProjectId AND c.PersonId = @PracticeManagerId AND c.CommissionType = 2 
	                   )
	       )
	GROUP BY YEAR(cal.Date), MONTH(cal.Date)
	ORDER BY YEAR(cal.Date), MONTH(cal.Date)]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Calendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatsByDateRange].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatsByDateRange].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatsByDateRange].[@ShowProjected]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonMilestoneDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatsByDateRange].[@ShowCompleted]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatsByDateRange].[@ShowActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatsByDateRange].[@ShowExperimental]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonHoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[DayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetEmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetCounsultantsNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatsByDateRange].[@SalespersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatsByDateRange].[@PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission].[CommissionType]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonStatsByDateRange].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonStatsByDateRange].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonStatsByDateRange].[@SalespersonId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonStatsByDateRange].[@PracticeManagerId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonStatsByDateRange].[@ShowProjected]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonStatsByDateRange].[@ShowCompleted]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonStatsByDateRange].[@ShowActive]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonStatsByDateRange].[@ShowExperimental]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2693" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.PersonStatsByDateRange&#xD;&#xA;(&#xD;&#xA;&#x9;@StartDate           DATETIME,&#xD;&#xA;&#x9;@EndDate             DATETIME,&#xD;&#xA;&#x9;@SalespersonId       INT = NULL,&#xD;&#xA;&#x9;@PracticeManagerId   INT = NULL,&#xD;&#xA;&#x9;@ShowProjected&#x9;&#x9; BIT = NULL,&#xD;&#xA;&#x9;@ShowCompleted&#x9;&#x9; BIT = NULL,&#xD;&#xA;    @ShowActive&#x9;&#x9;&#x9; BIT = NULL,&#xD;&#xA;&#x9;@ShowExperimental&#x9; BIT = NULL&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonStatsGetByMonth]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON	

	SELECT ISNULL(SUM(
			CASE	
				WHEN (p.ProjectStatusId = 2 AND @ShowProjected = 'TRUE') OR @ShowProjected IS NULL THEN f.PersonMilestoneDailyAmount 
				WHEN (p.ProjectStatusId = 3 AND @ShowCompleted = 'TRUE') OR @ShowCompleted IS NULL THEN f.PersonMilestoneDailyAmount 
				WHEN (p.ProjectStatusId = 4 AND @ShowActive = 'TRUE') OR @ShowActive IS NULL THEN f.PersonMilestoneDailyAmount 
				WHEN (p.ProjectStatusId = 5 AND @ShowExperimental = 'TRUE') OR @ShowExperimental IS NULL THEN f.PersonMilestoneDailyAmount 
				ELSE 0 
			END), 0) AS Revenue,
			dbo.MakeDate(YEAR(cal.Date), MONTH(cal.Date), 1) AS Date,
			dbo.MakeDate(YEAR(cal.Date), MONTH(cal.Date), NULL) as EndDate,
	       ISNULL(SUM(CASE WHEN pr.DefaultPractice <> 1 /* Non in offshore practice*/ THEN f.PersonHoursPerDay ELSE 0 END), 0) /
	       (SELECT COUNT(*) * 8
	          FROM dbo.Calendar AS c
	         WHERE c.Date BETWEEN dbo.MakeDate(YEAR(cal.Date), MONTH(cal.Date), 1) AND dbo.MakeDate(YEAR(cal.Date), MONTH(cal.Date), NULL)
	           AND c.DayOff = 0) AS VirtualConsultants,
	       EmployeesNumber = dbo.GetEmployeeNumber(dbo.MakeDate(YEAR(cal.Date), MONTH(cal.Date), 1), dbo.MakeDate(YEAR(cal.Date), MONTH(cal.Date), NULL)),
		   ConsultantsNumber = dbo.GetCounsultantsNumber(dbo.MakeDate(YEAR(cal.Date), MONTH(cal.Date), 1), dbo.MakeDate(YEAR(cal.Date), MONTH(cal.Date), NULL))
	  FROM dbo.Calendar AS cal
	       LEFT JOIN dbo.v_FinancialsRetrospective AS f
	          ON f.Date BETWEEN @StartDate AND @EndDate AND cal.Date = f.Date
	       LEFT JOIN dbo.Person AS pr ON f.PersonId = pr.PersonId
	       LEFT JOIN dbo.Project AS p ON f.ProjectId = p.ProjectId
	 WHERE cal.Date BETWEEN @StartDate AND @EndDate
       AND (   (@SalespersonId IS NULL AND @PracticeManagerId IS NULL)
	        OR EXISTS (SELECT 1
	                      FROM dbo.v_PersonProjectCommission AS c
	                     WHERE c.ProjectId = p.ProjectId AND c.PersonId = @SalespersonId AND c.CommissionType = 1
	                   UNION ALL
	                   SELECT 1
	                     FROM dbo.v_PersonProjectCommission AS c
	                    WHERE c.ProjectId = p.ProjectId AND c.PersonId = @PracticeManagerId AND c.CommissionType = 2 
	                   )
	       )
	GROUP BY YEAR(cal.Date), MONTH(cal.Date)
	ORDER BY YEAR(cal.Date), MONTH(cal.Date)]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Calendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatsGetByMonth].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatsGetByMonth].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatsGetByMonth].[@ShowProjected]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonMilestoneDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatsGetByMonth].[@ShowCompleted]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatsGetByMonth].[@ShowActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatsGetByMonth].[@ShowExperimental]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonHoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[DayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetEmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetCounsultantsNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatsGetByMonth].[@SalespersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatsGetByMonth].[@PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission].[CommissionType]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonStatsGetByMonth].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonStatsGetByMonth].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonStatsGetByMonth].[@SalespersonId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonStatsGetByMonth].[@PracticeManagerId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonStatsGetByMonth].[@ShowProjected]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonStatsGetByMonth].[@ShowCompleted]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonStatsGetByMonth].[@ShowActive]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonStatsGetByMonth].[@ShowExperimental]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2692" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.PersonStatsGetByMonth&#xD;&#xA;(&#xD;&#xA;&#x9;@StartDate           DATETIME,&#xD;&#xA;&#x9;@EndDate             DATETIME,&#xD;&#xA;&#x9;@SalespersonId       INT = NULL,&#xD;&#xA;&#x9;@PracticeManagerId   INT = NULL,&#xD;&#xA;&#x9;@ShowProjected&#x9;&#x9; BIT = NULL,&#xD;&#xA;&#x9;@ShowCompleted&#x9;&#x9; BIT = NULL,&#xD;&#xA;    @ShowActive&#x9;&#x9;&#x9; BIT = NULL,&#xD;&#xA;&#x9;@ShowExperimental&#x9; BIT = NULL&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[PersonStatus]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[PersonStatus].[PersonStatusId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[PersonStatus].[Name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonStatusListAll]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	
	SELECT s.PersonStatusId, s.Name
	  FROM dbo.PersonStatus AS s
	ORDER BY s.PersonStatusId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[PersonStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[Name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="209" />
				<Property Name="Length" Value="370" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--The source is &#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Alexey Zvekov&#xD;&#xA;-- Create date: 7-1-2008&#xD;&#xA;-- Description:&#x9;List person statuses&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[PersonStatusListAll]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonTimeEntries]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;
	
SELECT te.*, cal.CompanyDayOff, cal.DayOff, cal.Date, CAST(0 as bit) as 'ReadOnly'
  FROM v_TimeEntries AS te
  left join v_PersonCalendar as cal on te.PersonId = cal.PersonId and te.MilestoneDate = cal.Date
  
  WHERE 
	te.MilestoneDate BETWEEN @StartDate AND @EndDate
	AND te.PersonId = @PersonId  
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_TimeEntries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[MilestoneDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[CompanyDayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[DayOff]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonTimeEntries].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonTimeEntries].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonTimeEntries].[@PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonTimeEntries].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonTimeEntries].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonTimeEntries].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="209" />
				<Property Name="Length" Value="658" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Gonhcarenko&#xD;&#xA;-- Create date: 2009-12-08&#xD;&#xA;-- Description:&#x9;Get time entries for the person&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[PersonTimeEntries] &#xD;&#xA;&#x9;@PersonId INT,&#xD;&#xA;&#x9;@StartDate DATETIME,&#xD;&#xA;&#x9;@EndDate DATETIME&#x9;&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonUpdate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	IF EXISTS(SELECT 1
	            FROM dbo.[Person] AS p
	           WHERE p.[LastName] = @LastName AND p.[FirstName] = @FirstName AND p.[PersonId] <> @PersonId)
	BEGIN
		-- Person First and Last Name uniqueness violation
		RAISERROR (70001, 16, 1)
	END
	ELSE IF EXISTS(SELECT 1
	                 FROM dbo.[Person] AS p
	                WHERE p.[Alias] = @Alias AND p.[PersonId] <> @PersonId)
	BEGIN
		-- Person Email uniqueness violation
		RAISERROR (70002, 16, 1)
	END
	ELSE IF EXISTS(SELECT 1
	                 FROM dbo.[Person] AS p
	                WHERE p.[EmployeeNumber] = @EmployeeNumber AND p.[PersonId] <> @PersonId)
	BEGIN
		-- Person Employee Number uniqueness violation
		RAISERROR (70009, 16, 1)
	END
	ELSE
	BEGIN
		-- Start logging session
		EXEC dbo.SessionLogPrepare @UserLogin = @UserLogin
		
		-- Try to get default manager id
		--SELECT @ManagerId = p.PersonId FROM person AS p WHERE p.IsDefaultManager = 1

		UPDATE Person
		   SET FirstName = @FirstName,
			   LastName = @LastName,
			   PTODaysPerAnnum = ISNULL(@PTODaysPerAnnum, PTODaysPerAnnum),
			   HireDate = @HireDate, 
			   TerminationDate = @TerminationDate,
			   Alias = @Alias,
			   DefaultPractice = @DefaultPractice,
			   PersonStatusId = @PersonStatusId,
			   EmployeeNumber = @EmployeeNumber,
		       SeniorityId = @SeniorityId,
		       ManagerId = @ManagerId,
		       PracticeOwnedId = @PracticeOwnedId,
		       TelephoneNumber = @TelephoneNumber
		 WHERE PersonId = @PersonId

		IF @PersonStatusId = 2
		BEGIN
			-- Close a current compensation for the terminated persons
			UPDATE dbo.Pay
			   SET EndDate = @TerminationDate
			 WHERE Person = @PersonId AND EndDate >= dbo.GetFutureDate()
		END

		-- End logging session
		EXEC dbo.SessionLogUnprepare
	END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonUpdate].[@LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonUpdate].[@FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonUpdate].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonUpdate].[@Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[EmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonUpdate].[@EmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonUpdate].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PTODaysPerAnnum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonUpdate].[@PTODaysPerAnnum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonUpdate].[@HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonUpdate].[@TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonUpdate].[@DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonUpdate].[@PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[EmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonUpdate].[@SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonUpdate].[@ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PracticeOwnedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonUpdate].[@PracticeOwnedId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TelephoneNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonUpdate].[@TelephoneNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogUnprepare]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonUpdate].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonUpdate].[@FirstName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="40" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonUpdate].[@LastName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="40" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonUpdate].[@PTODaysPerAnnum]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonUpdate].[@HireDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonUpdate].[@TerminationDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonUpdate].[@Alias]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonUpdate].[@DefaultPractice]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonUpdate].[@PersonStatusId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonUpdate].[@EmployeeNumber]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="12" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonUpdate].[@SeniorityId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonUpdate].[@UserLogin]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonUpdate].[@ManagerId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonUpdate].[@PracticeOwnedId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonUpdate].[@TelephoneNumber]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="254" />
				<Property Name="Length" Value="2575" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 8-04-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date: 9-09-2008&#xD;&#xA;-- Description:&#x9;Updates the Person.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.PersonUpdate&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId        INT,&#xD;&#xA;&#x9;@FirstName       NVARCHAR(40),&#xD;&#xA;&#x9;@LastName        NVARCHAR(40),&#xD;&#xA;&#x9;@PTODaysPerAnnum INT,&#xD;&#xA;&#x9;@HireDate        DATETIME,&#xD;&#xA;&#x9;@TerminationDate DATETIME,&#xD;&#xA;&#x9;@Alias           NVARCHAR(100),&#xD;&#xA;&#x9;@DefaultPractice INT,&#xD;&#xA;&#x9;@PersonStatusId&#x9; INT,&#xD;&#xA;&#x9;@EmployeeNumber&#x9; NVARCHAR(12),&#xD;&#xA;&#x9;@SeniorityId     INT,&#xD;&#xA;&#x9;@UserLogin       NVARCHAR(255),&#xD;&#xA;&#x9;@ManagerId&#x9;&#x9; INT = NULL,&#xD;&#xA;&#x9;@PracticeOwnedId&#x9;INT = NULL, &#xD;&#xA;&#x9;@TelephoneNumber&#x9;NVARCHAR(20) = NULL &#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PersonWorkDaysNumber]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT COUNT(*) AS WorkDays
	  FROM dbo.v_PersonCalendar AS c
	 WHERE c.PersonId = @PersonId
	   AND c.Date BETWEEN @StartDate AND @EndDate
	   AND c.DayOff = 0]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_PersonCalendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonWorkDaysNumber].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonWorkDaysNumber].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonWorkDaysNumber].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[DayOff]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonWorkDaysNumber].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonWorkDaysNumber].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PersonWorkDaysNumber].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="277" />
				<Property Name="Length" Value="587" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 7-21-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Retrieves a number of work days for the specified person and period&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[PersonWorkDaysNumber]&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId    INT,&#xD;&#xA;&#x9;@StartDate   DATETIME,&#xD;&#xA;&#x9;@EndDate     DATETIME&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_BilledTime]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[BilledTime].[BilledTimeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[BilledTime]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_Calendar]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Calendar].[Date]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Calendar]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_Client]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Client].[ClientId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_CommissionType]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[CommissionType].[CommissionTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[CommissionType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_DefaultCommission]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[DefaultCommission].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[DefaultCommission].[StartDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[DefaultCommission].[EndDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[DefaultCommission].[type]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[DefaultCommission]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_DefaultRecruiterCommissionHeader]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[DefaultRecruiterCommissionHeader].[DefaultRecruiterCommissionHeaderId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionHeader]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_DefaultRecruiterCommissionItem]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[DefaultRecruiterCommissionItem].[DefaultRecruiterCommissionHeaderId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[DefaultRecruiterCommissionItem].[HoursToCollect]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[DefaultRecruiterCommissionItem]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_EmailTemplate]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[EmailTemplate].[EmailTemplateId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[EmailTemplate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_ExpenseBasis]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ExpenseBasis].[ExpenseBasisId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ExpenseBasis]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_ExpenseCategory]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ExpenseCategory].[ExpenseCategoryId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ExpenseCategory]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_MarginType]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[MarginType].[MarginTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[MarginType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_Milestone]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Milestone].[MilestoneId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_MilestonePerson]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_MilestonePersonEntry]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_MonthlyExpense]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[MonthlyExpense].[MonthlyExpenseId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[MonthlyExpense]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_Note]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Note].[NoteId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Note]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_NoteTarget]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[NoteTarget].[NoteTargetId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[NoteTarget]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_Opportunity]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Opportunity].[OpportunityId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Opportunity]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_OpportunityStatus]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[OpportunityStatus].[OpportunityStatusId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[OpportunityStatus]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_OpportunityTransition]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[OpportunityTransition].[OpportunityTransitionId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[OpportunityTransition]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_OpportunityTransitionStatus]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[OpportunityTransitionStatus].[OpportunityTransitionStatusId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[OpportunityTransitionStatus]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_OverheadAdministration]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[OverheadAdministration].[OverheadAdministrationId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[OverheadAdministration]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_OverheadFixedRate]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[OverheadFixedRate].[OverheadFixedRateId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[OverheadFixedRate]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_OverheadFixedRateTimescale]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[OverheadFixedRateTimescale].[OverheadFixedRateId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[OverheadFixedRateTimescale].[TimescaleId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_OverheadRateType]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[OverheadRateType].[OverheadRateTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[OverheadRateType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_Pay]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Pay].[Person]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Pay].[StartDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Pay].[EndDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Pay]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_Permission]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Permission].[PermissionId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Permission]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_PermissionTarget]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[PermissionTarget].[PermissionTypeID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PermissionTarget]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_Person]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Person].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_PersonCalendar]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[PersonCalendar].[Date]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[PersonCalendar].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PersonCalendar]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_PersonCalendarAuto]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[PersonCalendarAuto].[Date]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[PersonCalendarAuto].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_PersonRole]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[PersonRole].[PersonRoleId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PersonRole]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_PersonStatus]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[PersonStatus].[PersonStatusId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PersonStatus]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_Practice]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Practice].[PracticeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_Project]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Project].[ProjectId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_ProjectBillingInfo]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ProjectBillingInfo].[ProjectId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_ProjectExpense]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ProjectExpense].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ProjectExpense]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_ProjectStatus]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ProjectStatus].[ProjectStatusId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ProjectStatus]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_RecruiterCommission_1]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[RecruiterCommission].[RecruitId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[RecruiterCommission].[HoursToCollect]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[RecruiterCommission]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_RevenueType]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[RevenueType].[RevenueTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[RevenueType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_SalesCommission]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Commission].[CommissionId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_Seniority]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Seniority].[SeniorityId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Seniority]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_TimeEntries]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[TimeEntries].[TimeEntryId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[TimeEntries]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_Timescale]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Timescale].[TimescaleId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Timescale]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_TimeType]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[TimeType].[TimeTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[TimeType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_UserActivityLog]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[UserActivityLog].[ActivityID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[UserActivityLog]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_UserActivityType]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[UserActivityType].[ActivityTypeID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[UserActivityType]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_WeekPaidOption]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[WeekPaidOption].[WeekPaidOptionId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[WeekPaidOption]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[Practice]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Practice].[PracticeId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Practice].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Practice].[PracticeManagerId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Practice].[IsActive]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Practice].[IsCompanyInternal]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PracticeDelete]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;

	DELETE FROM Practice 
	 WHERE PracticeId = @PracticeId
 
 END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PracticeDelete].[@PracticeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PracticeDelete].[@PracticeId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="196" />
				<Property Name="Length" Value="349" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-02-26&#xD;&#xA;-- Description:&#x9;Practices routines&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.PracticeDelete &#xD;&#xA;&#x9;@PracticeId INT&#x9;&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PracticeGetById]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON	
	
	SELECT 
		p.PracticeId, 
		p.Name,
		p.IsActive,
		p.IsCompanyInternal,
		CASE 
			WHEN EXISTS(SELECT TOP 1 proj.PracticeId FROM dbo.Project proj WHERE proj.PracticeId = p.PracticeId)
				THEN CAST(1 AS BIT)
			WHEN EXISTS(SELECT TOP 1 pers.DefaultPractice FROM dbo.Person pers WHERE pers.DefaultPractice = p.PracticeId)
				THEN CAST(1 AS BIT)
			WHEN EXISTS(SELECT TOP 1 op.PracticeId FROM dbo.Opportunity op WHERE op.PracticeId = p.PracticeId)
				THEN CAST(1 AS BIT)
			ELSE CAST(0 AS BIT)
		END AS 'InUse',
		pers.FirstName,
		pers.LastName,
		pers.PersonId,
		pers.PersonStatusId,
		stat.[Name] AS 'PersonStatusName'		
	  FROM dbo.Practice AS p
	  LEFT JOIN dbo.Person AS pers ON p.PracticeManagerId = pers.PersonId
	  INNER JOIN dbo.PersonStatus AS stat ON pers.PersonStatusId = stat.PersonStatusId
	  WHERE @PracticeId IS NULL OR p.PracticeId = @PracticeId
	ORDER BY p.Name]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[IsCompanyInternal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PracticeGetById].[@PracticeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PracticeGetById].[@PracticeId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1003" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.PracticeGetById&#xD;&#xA;(&#xD;&#xA;&#x9;@PracticeId&#x9;&#x9;   INT = NULL&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PracticeInsert]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;
	
	IF EXISTS(SELECT 1 FROM dbo.Practice WHERE [Name] = @Name)
	BEGIN
		DECLARE @Error NVARCHAR(200)
		SET @Error = 'This Practice already exists. Please add a different Practice.'
		RAISERROR(@Error,16,1)
		RETURN
	END

	INSERT INTO dbo.Practice (
		[Name],
		PracticeManagerId,
		IsActive,
		IsCompanyInternal
	) VALUES ( 
		@Name,
		@PracticeManagerId,
		@IsActive,
		@IsCompanyInternal) 
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PracticeInsert].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[IsCompanyInternal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PracticeInsert].[@PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PracticeInsert].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PracticeInsert].[@IsCompanyInternal]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PracticeInsert].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PracticeInsert].[@PracticeManagerId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PracticeInsert].[@IsActive]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PracticeInsert].[@IsCompanyInternal]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="196" />
				<Property Name="Length" Value="776" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-02-26&#xD;&#xA;-- Description:&#x9;Practices routines&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.PracticeInsert &#xD;&#xA;&#x9;@Name VARCHAR(100),&#xD;&#xA;&#x9;@PracticeManagerId INT,&#xD;&#xA;&#x9;@IsActive BIT = 1,&#xD;&#xA;&#x9;@IsCompanyInternal BIT = 0 &#x9;&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PracticeListAll]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	
	-- Table variable to store list of salespersons user is allowed to see	
	DECLARE @SalespersonPermissions TABLE(
		PersonId INT NULL
	)
	-- Populate is with the data from the permissions table
	--		TargetType = 5 means that we are looking for the practices in the permissions table
	INSERT INTO @SalespersonPermissions (
		PersonId
	) SELECT prm.TargetId FROM dbo.Permission AS prm WHERE prm.PersonId = @PersonId AND prm.TargetType = 5
	
	-- If there are nulls in permission table, it means that eveything is allowed to be seen,
	--		so set @PersonId to NULL which will extract all records from the table
	DECLARE @NullsNumber INT
	SELECT @NullsNumber = COUNT(*) FROM @SalespersonPermissions AS sp WHERE sp.PersonId IS NULL 	
	IF @NullsNumber > 0 SET @PersonId = NULL
	
	SELECT 
		p.PracticeId, 
		p.Name,
		p.IsActive,
		p.IsCompanyInternal,
		CASE 
			WHEN EXISTS(SELECT TOP 1 proj.PracticeId FROM dbo.Project proj WHERE proj.PracticeId = p.PracticeId)
				THEN CAST(1 AS BIT)
			WHEN EXISTS(SELECT TOP 1 pers.DefaultPractice FROM dbo.Person pers WHERE pers.DefaultPractice = p.PracticeId)
				THEN CAST(1 AS BIT)
			WHEN EXISTS(SELECT TOP 1 op.PracticeId FROM dbo.Opportunity op WHERE op.PracticeId = p.PracticeId)
				THEN CAST(1 AS BIT)
			ELSE CAST(0 AS BIT)
		END AS 'InUse',
		pers.FirstName,
		pers.LastName,
		pers.PersonId,
		pers.PersonStatusId,
		stat.[Name] AS 'PersonStatusName'		
	  FROM dbo.Practice AS p
	  LEFT JOIN dbo.Person AS pers ON p.PracticeManagerId = pers.PersonId
	  INNER JOIN dbo.PersonStatus AS stat ON pers.PersonStatusId = stat.PersonStatusId
	  WHERE (
			@PersonId IS NULL 
			OR  
			p.PracticeId IN (SELECT * FROM @SalespersonPermissions)
		)
	ORDER BY p.Name]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PracticeListAll].[@SalespersonPermissions].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PracticeListAll].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PracticeListAll].[@SalespersonPermissions].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[IsCompanyInternal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[Name]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[PracticeListAll].[@SalespersonPermissions]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[PracticeListAll].[@SalespersonPermissions].[PersonId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PracticeListAll].[@PersonId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1835" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.PracticeListAll&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId&#x9;&#x9;   INT = NULL&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[PracticeUpdate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;

	UPDATE [dbo].[Practice]
	   SET [Name] = @Name,
		   PracticeManagerId = @PracticeManagerId,
		   IsActive = @IsActive,
		   IsCompanyInternal = @IsCompanyInternal
	 WHERE PracticeId = @PracticeId
 
 END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PracticeUpdate].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PracticeUpdate].[@PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PracticeUpdate].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[IsCompanyInternal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PracticeUpdate].[@IsCompanyInternal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PracticeUpdate].[@PracticeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PracticeUpdate].[@PracticeId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PracticeUpdate].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PracticeUpdate].[@PracticeManagerId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PracticeUpdate].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[PracticeUpdate].[@IsCompanyInternal]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="196" />
				<Property Name="Length" Value="590" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-02-26&#xD;&#xA;-- Description:&#x9;Practices routines&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.PracticeUpdate &#xD;&#xA;&#x9;@PracticeId INT,&#xD;&#xA;&#x9;@Name VARCHAR(100),&#xD;&#xA;&#x9;@PracticeManagerId INT,&#xD;&#xA;&#x9;@IsActive BIT,&#xD;&#xA;&#x9;@IsCompanyInternal BIT = 0&#x9;&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[Project]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Project].[ClientId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Project].[ProjectId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Project].[Discount]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Project].[Terms]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Project].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Project].[PracticeId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Project].[StartDate]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Project].[EndDate]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Project].[ProjectStatusId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Project].[ProjectNumber]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="12" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Project].[BuyerName]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Project].[OpportunityId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Project].[GroupId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Project].[IsChargeable]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Project].[ProjectManagerId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="48" />
		</Element>
		<Element Type="ISql100Index" Name="[dbo].[Project].[UN_ProjectNumber]">
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Project].[ProjectNumber]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[ProjectBillingInfo]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectBillingInfo].[ProjectId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectBillingInfo].[BillingContact]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectBillingInfo].[BillingPhone]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectBillingInfo].[BillingEmail]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectBillingInfo].[BillingType]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectBillingInfo].[BillingAddress1]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectBillingInfo].[BillingAddress2]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectBillingInfo].[BillingCity]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectBillingInfo].[BillingState]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectBillingInfo].[BillingZip]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectBillingInfo].[PurchaseOrder]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectBillingInfoDelete]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	DELETE
	  FROM dbo.ProjectBillingInfoNote
	 WHERE ProjectId = @ProjectId

	DELETE
	  FROM dbo.ProjectBillingInfo
	 WHERE ProjectId = @ProjectId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[ProjectBillingInfoDelete].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[ProjectId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectBillingInfoDelete].[@ProjectId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="252" />
				<Property Name="Length" Value="507" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 10-13-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Deletes the billing info for the project.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[ProjectBillingInfoDelete]&#xD;&#xA;(&#xD;&#xA;&#x9;@ProjectId         INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectBillingInfoGetById]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT bi.ProjectId,
	       bi.BillingContact,
	       bi.BillingPhone,
	       bi.BillingEmail,
	       bi.BillingType,
	       bi.BillingAddress1,
	       bi.BillingAddress2,
	       bi.BillingCity,
	       bi.BillingState,
	       bi.BillingZip,
	       bi.PurchaseOrder
	  FROM dbo.ProjectBillingInfo AS bi
	 WHERE bi.ProjectId = @ProjectId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[BillingContact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[BillingPhone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[BillingEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[BillingType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[BillingAddress1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[BillingAddress2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[BillingCity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[BillingState]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[BillingZip]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[PurchaseOrder]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfoGetById].[@ProjectId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectBillingInfoGetById].[@ProjectId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="263" />
				<Property Name="Length" Value="721" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 10-10-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Retrives the billing info for the specified project.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[ProjectBillingInfoGetById]&#xD;&#xA;(&#xD;&#xA;&#x9;@ProjectId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectBillingInfoSave]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	IF EXISTS(SELECT 1 FROM dbo.ProjectBillingInfo WHERE ProjectId = @ProjectId)
	BEGIN
		UPDATE dbo.ProjectBillingInfo
		   SET BillingContact = @BillingContact,
		       BillingPhone = @BillingPhone,
		       BillingEmail = @BillingEmail,
		       BillingType = @BillingType,
		       BillingAddress1 = @BillingAddress1,
		       BillingAddress2 = @BillingAddress2,
		       BillingCity = @BillingCity,
		       BillingState = @BillingState,
		       BillingZip = @BillingZip,
		       PurchaseOrder = @PurchaseOrder
		 WHERE ProjectId = @ProjectId
	END
	ELSE
	BEGIN
		INSERT INTO dbo.ProjectBillingInfo
		            (ProjectId, BillingContact, BillingPhone, BillingEmail, BillingType, BillingAddress1, BillingAddress2,
		             BillingCity, BillingState, BillingZip, PurchaseOrder)
		     VALUES (@ProjectId, @BillingContact, @BillingPhone, @BillingEmail, @BillingType, @BillingAddress1, @BillingAddress2,
		             @BillingCity, @BillingState, @BillingZip, @PurchaseOrder)
	END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfoSave].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[BillingContact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfoSave].[@BillingContact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[BillingPhone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfoSave].[@BillingPhone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[BillingEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfoSave].[@BillingEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[BillingType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfoSave].[@BillingType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[BillingAddress1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfoSave].[@BillingAddress1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[BillingAddress2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfoSave].[@BillingAddress2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[BillingCity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfoSave].[@BillingCity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[BillingState]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfoSave].[@BillingState]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[BillingZip]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfoSave].[@BillingZip]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[PurchaseOrder]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfoSave].[@PurchaseOrder]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectBillingInfo].[ProjectId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectBillingInfoSave].[@ProjectId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectBillingInfoSave].[@BillingContact]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectBillingInfoSave].[@BillingPhone]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectBillingInfoSave].[@BillingEmail]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectBillingInfoSave].[@BillingType]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectBillingInfoSave].[@BillingAddress1]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectBillingInfoSave].[@BillingAddress2]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectBillingInfoSave].[@BillingCity]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectBillingInfoSave].[@BillingState]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectBillingInfoSave].[@BillingZip]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectBillingInfoSave].[@PurchaseOrder]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="250" />
				<Property Name="Length" Value="1719" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 10-10-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Saves the billing info for the project.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[ProjectBillingInfoSave]&#xD;&#xA;(&#xD;&#xA;&#x9;@ProjectId         INT,&#xD;&#xA;&#x9;@BillingContact    NVARCHAR(100),&#xD;&#xA;&#x9;@BillingPhone      NVARCHAR(25),&#xD;&#xA;&#x9;@BillingEmail      NVARCHAR(100),&#xD;&#xA;&#x9;@BillingType       NVARCHAR(25),&#xD;&#xA;&#x9;@BillingAddress1   NVARCHAR(100),&#xD;&#xA;&#x9;@BillingAddress2   NVARCHAR(100),&#xD;&#xA;&#x9;@BillingCity       NVARCHAR(50),&#xD;&#xA;&#x9;@BillingState      NVARCHAR(50),&#xD;&#xA;&#x9;@BillingZip        NVARCHAR(10),&#xD;&#xA;&#x9;@PurchaseOrder     NVARCHAR(25)&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectedWorkloadGetByMilestone]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	
	SELECT mh.[MilestoneId],
	       mh.[PersonId],
	       mh.[MilestonePersonMonthHours] AS [Hours],
	       mh.[Month] AS [BilledDate],
	       mh.EntryStartDate
	  FROM dbo.v_MilestonePersonMonthHours AS mh
	 WHERE mh.[MilestoneId] = @MilestoneId
	ORDER BY mh.[PersonId], mh.[Month]]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_MilestonePersonMonthHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonMonthHours].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonMonthHours].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonMonthHours].[MilestonePersonMonthHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonMonthHours].[Month]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonMonthHours].[EntryStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectedWorkloadGetByMilestone].[@MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonMonthHours].[Month]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectedWorkloadGetByMilestone].[@MilestoneId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="309" />
				<Property Name="Length" Value="708" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 6-12-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;9-09-2008&#xD;&#xA;-- Description:&#x9;Retrives the projected workload for the specified milestone by the persons&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[ProjectedWorkloadGetByMilestone]&#xD;&#xA;(&#xD;&#xA;&#x9;@MilestoneId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectedWorkloadGetByPerson]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	
	SELECT mh.[MilestoneId],
	       mh.[PersonId],
	       mh.[MilestonePersonMonthHours] AS [Hours],
	       mh.[Month] AS [BilledDate]
	  FROM dbo.v_MilestonePersonMonthHours AS mh
	 WHERE mh.[PersonId] = @PersonId
	   AND mh.[Month] BETWEEN @StartDate AND @EndDate
	ORDER BY mh.[PersonId], mh.[Month]]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_MilestonePersonMonthHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonMonthHours].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonMonthHours].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonMonthHours].[MilestonePersonMonthHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonMonthHours].[Month]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectedWorkloadGetByPerson].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonMonthHours].[Month]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectedWorkloadGetByPerson].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectedWorkloadGetByPerson].[@EndDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectedWorkloadGetByPerson].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectedWorkloadGetByPerson].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectedWorkloadGetByPerson].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="236" />
				<Property Name="Length" Value="694" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 6-17-2008&#xD;&#xA;-- Description:&#x9;Retrives the projected workload for the person and the period&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.ProjectedWorkloadGetByPerson&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId    INT,&#xD;&#xA;&#x9;@StartDate   DATETIME,&#xD;&#xA;&#x9;@EndDate     DATETIME&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectedWorkloadGetByProject]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	
	SELECT mh.[MilestoneId],
	       mh.[PersonId],
	       mh.[MilestonePersonMonthHours] AS [Hours],
	       mh.[Month] AS [BilledDate],
	       mh.EntryStartDate
	  FROM dbo.v_MilestonePersonMonthHours AS mh
	 WHERE mh.[ProjectId] = @ProjectId AND mh.[Month] BETWEEN @StartDate AND @EndDate
	ORDER BY mh.[PersonId], mh.[Month]]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_MilestonePersonMonthHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonMonthHours].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonMonthHours].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonMonthHours].[MilestonePersonMonthHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonMonthHours].[Month]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonMonthHours].[EntryStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonMonthHours].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectedWorkloadGetByProject].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonMonthHours].[Month]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectedWorkloadGetByProject].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectedWorkloadGetByProject].[@EndDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectedWorkloadGetByProject].[@ProjectId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectedWorkloadGetByProject].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectedWorkloadGetByProject].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="307" />
				<Property Name="Length" Value="795" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 7-10-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;9-09-2008&#xD;&#xA;-- Description:&#x9;Retrives the projected workload for the specified project by the persons&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[ProjectedWorkloadGetByProject]&#xD;&#xA;(&#xD;&#xA;&#x9;@ProjectId   INT,&#xD;&#xA;&#x9;@StartDate   DATETIME,&#xD;&#xA;&#x9;@EndDate     DATETIME&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[ProjectExpense]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectExpense].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectExpense].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectExpense].[Amount]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectExpense].[Reimbursement]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectExpense].[MilestoneId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectExpenseDelete]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;

	DELETE FROM [dbo].[ProjectExpense]
	WHERE Id = @ExpenseId
end]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ProjectExpense]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpense].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpenseDelete].[@ExpenseId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectExpenseDelete].[@ExpenseId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="160" />
				<Property Name="Length" Value="319" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-04-20&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.ProjectExpenseDelete &#xD;&#xA;    @ExpenseId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectExpenseGetAllForMilestone]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;

    -- Insert statements for procedure here
	SELECT *
	from v_ProjectExpenses 
	where MilestoneId = @MilestoneId
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_ProjectExpenses]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_ProjectExpenses].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpenseGetAllForMilestone].[@MilestoneId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectExpenseGetAllForMilestone].[@MilestoneId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="160" />
				<Property Name="Length" Value="386" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-04-20&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.ProjectExpenseGetAllForMilestone &#xD;&#xA;&#x9;@MilestoneId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectExpenseGetById]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;

	SELECT * from v_ProjectExpenses where ExpenseId = @ExpenseId
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_ProjectExpenses]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_ProjectExpenses].[ExpenseId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpenseGetById].[@ExpenseId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectExpenseGetById].[@ExpenseId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="160" />
				<Property Name="Length" Value="322" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-04-20&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.ProjectExpenseGetById &#xD;&#xA;    @ExpenseId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectExpenseInsert]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;

	INSERT INTO [dbo].[ProjectExpense]
           ([Name]
           ,[Amount]
           ,[Reimbursement]
           ,[MilestoneId])
     VALUES
           (@ExpenseName 
           ,@ExpenseAmount
           ,@ExpenseReimbursement
           ,@MilestoneId)
	SELECT @ExpenseId = SCOPE_IDENTITY()

	SELECT @ExpenseId
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ProjectExpense]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpense].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpense].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpense].[Reimbursement]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpense].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpenseInsert].[@ExpenseName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpenseInsert].[@ExpenseAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpenseInsert].[@ExpenseReimbursement]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpenseInsert].[@MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpenseInsert].[@ExpenseId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectExpenseInsert].[@ExpenseId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectExpenseInsert].[@ExpenseName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectExpenseInsert].[@ExpenseAmount]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectExpenseInsert].[@ExpenseReimbursement]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectExpenseInsert].[@MilestoneId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="160" />
				<Property Name="Length" Value="720" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-04-20&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.ProjectExpenseInsert &#xD;&#xA;    @ExpenseId int out,&#xD;&#xA;    @ExpenseName nvarchar(50),&#xD;&#xA;    @ExpenseAmount decimal(18, 2),&#xD;&#xA;    @ExpenseReimbursement decimal(18, 2),&#xD;&#xA;&#x9;@MilestoneId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectExpenseUpdate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;

	if (@MilestoneId is NULL)
	begin
		Update [dbo].[ProjectExpense] Set 
				[Name] = @ExpenseName
			   ,[Amount] = @ExpenseAmount
			   ,[Reimbursement] = @ExpenseReimbursement
		 Where Id = @ExpenseId
	end
	else
	begin
		Update [dbo].[ProjectExpense] Set 
				[Name] = @ExpenseName
			   ,[Amount] = @ExpenseAmount
			   ,[Reimbursement] = @ExpenseReimbursement
			   ,[MilestoneId] = @MilestoneId
		 Where Id = @ExpenseId
	end
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ProjectExpenseUpdate].[@MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpense]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpense].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpenseUpdate].[@ExpenseName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpense].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpenseUpdate].[@ExpenseAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpense].[Reimbursement]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpenseUpdate].[@ExpenseReimbursement]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpense].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpenseUpdate].[@ExpenseId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpense].[MilestoneId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectExpenseUpdate].[@ExpenseId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectExpenseUpdate].[@ExpenseName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectExpenseUpdate].[@ExpenseAmount]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectExpenseUpdate].[@ExpenseReimbursement]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectExpenseUpdate].[@MilestoneId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="160" />
				<Property Name="Length" Value="843" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-04-20&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.ProjectExpenseUpdate &#xD;&#xA;    @ExpenseId int,&#xD;&#xA;    @ExpenseName nvarchar(50),&#xD;&#xA;    @ExpenseAmount decimal(18, 2),&#xD;&#xA;    @ExpenseReimbursement decimal(18, 2),&#xD;&#xA;&#x9;@MilestoneId int = null &#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectGetById]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT p.ClientId,
	       p.ProjectId,
	       p.Discount,
	       p.Terms,
	       p.Name,
	       p.PracticeManagerId,
	       p.PracticeId,
	       p.StartDate,
	       p.EndDate,
	       p.ClientName,
	       p.PracticeName,
	       p.ProjectStatusId,
	       p.ProjectStatusName,
		   p.ProjectNumber,
	       p.BuyerName,
	       p.OpportunityId,
	       p.GroupId,
	       p.ProjectIsChargeable,
	       p.ClientIsChargeable,
		   p.ProjectManagerId,
		   p.ProjectManagerFirstName,
		   p.ProjectManagerLastName
	  FROM dbo.v_Project AS p
	 WHERE p.ProjectId = @ProjectId
       AND (   (@SalespersonId IS NULL AND @PracticeManagerId IS NULL)
	        OR EXISTS (SELECT 1
	                      FROM dbo.v_PersonProjectCommission AS c
	                     WHERE c.ProjectId = p.ProjectId AND c.PersonId = @SalespersonId AND c.CommissionType = 1
	                   UNION ALL
	                   SELECT 1
	                     FROM dbo.v_PersonProjectCommission AS c
	                    WHERE c.ProjectId = p.ProjectId AND c.PersonId = @PracticeManagerId AND c.CommissionType = 2 
	                   )
	       )]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ClientName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[PracticeName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectStatusName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectIsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ClientIsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectManagerFirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectManagerLastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGetById].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGetById].[@SalespersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGetById].[@PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission].[CommissionType]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectGetById].[@ProjectId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectGetById].[@SalespersonId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectGetById].[@PracticeManagerId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="622" />
				<Property Name="Length" Value="1940" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-21-2008&#xD;&#xA;-- Updated by:&#x9;Anton Kramarenko&#xD;&#xA;-- Update date: 02-20-2009&#xD;&#xA;-- Updated by:&#x9;Anton Kolesnikov&#xD;&#xA;-- Update date: 07-16-2009&#xD;&#xA;-- Description:&#x9;Retrives a Project record&#xD;&#xA;-- =============================================&#xD;&#xA;-- Arguments:&#xD;&#xA;--     @ProjectId - an ID of the project to be retrieved&#xD;&#xA;--     @SalespersonId - determines an ID of the salesperson to filter the list for&#xD;&#xA;--     @PracticeManagerId - determines an ID of the practice manager to filter the list for&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.ProjectGetById&#xD;&#xA;(&#xD;&#xA;&#x9;@ProjectId&#x9;         INT,&#xD;&#xA;&#x9;@SalespersonId       INT = NULL,&#xD;&#xA;&#x9;@PracticeManagerId   INT = NULL&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectGetByNumber]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT p.ProjectId	      
	  FROM dbo.v_Project AS p
	 WHERE p.ProjectNumber = @ProjectNumber]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGetByNumber].[@ProjectNumber]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectGetByNumber].[@ProjectNumber]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="24" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="270" />
				<Property Name="Length" Value="466" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Description:&#x9;Retrives a Project Id&#xD;&#xA;-- =============================================&#xD;&#xA;-- Arguments:&#xD;&#xA;--     @ProjectNumber - a Number of the project to be retrieved.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.ProjectGetByNumber&#xD;&#xA;(&#xD;&#xA;&#x9;@ProjectNumber nvarchar(24)&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[ProjectGroup]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectGroup].[GroupId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Property Name="IdentitySeed" Value="0" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectGroup].[ClientId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectGroup].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="75" />
			<AttachedAnnotation Disambiguator="36" />
		</Element>
		<Element Type="ISql100Index" Name="[dbo].[ProjectGroup].[IND_ProjGroup_ClientName]">
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ProjectGroup].[ClientId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ProjectGroup].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[ProjectGroup]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectGroupDelete]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[

	SET NOCOUNT ON;
	DECLARE @Result INT,
			@Result_Success INT, @Result_GroupWasNotFound INT, @Result_GroupInUse INT
	SELECT	@Result_Success = 0,
			@Result_GroupWasNotFound = 1,
			@Result_GroupInUse = 2
		
	SET @Result = CASE
		WHEN NOT EXISTS(SELECT 1 FROM ProjectGroup WHERE GroupId = @GroupId)
			THEN @Result_GroupWasNotFound
		WHEN EXISTS(SELECT 1 FROM Project WHERE GroupId = @GroupId)
			THEN @Result_GroupInUse
		ELSE
			@Result_Success
		END
	
	IF @Result = @Result_Success
		DELETE ProjectGroup WHERE GroupId = @GroupId

	SELECT @Result Result]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroupDelete].[@GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[GroupId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectGroupDelete].[@GroupId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="632" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE ProjectGroupDelete&#xD;&#xA;&#x9;@GroupId&#x9;&#x9;INT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectGroupInsert]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	IF NOT EXISTS(SELECT 1 FROM Client WHERE ClientId=@ClientId)
		OR EXISTS(SELECT 1 FROM ProjectGroup WHERE ClientId=@ClientId AND Name=@Name)
		SET @GroupId = -1
	ELSE
	BEGIN
		INSERT ProjectGroup(ClientId, Name) VALUES (@ClientId, @Name)
		SET @GroupId = SCOPE_IDENTITY()
	END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroupInsert].[@ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroupInsert].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroupInsert].[@GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[Name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectGroupInsert].[@GroupId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectGroupInsert].[@ClientId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectGroupInsert].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="402" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE ProjectGroupInsert&#xD;&#xA;&#x9;@GroupId&#x9;INT OUT,&#xD;&#xA;&#x9;@ClientId&#x9;INT,&#xD;&#xA;&#x9;@Name&#x9;&#x9;NVARCHAR(100)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectGroupListAll]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON;

	DECLARE @GroupPermissions TABLE(
		PersonId INT NULL
	)

	-- Populate is with the data from the permissions table
	--		TargetType = 1 means that we are looking for the clients in the permissions table
	INSERT INTO @GroupPermissions (
		PersonId
	) SELECT prm.TargetId FROM dbo.v_Permissions AS prm WHERE prm.PersonId = @PersonId AND prm.PermissionTypeID = 2
	
	-- If there are nulls in permission table, it means that eveything is allowed to be seen,
	--		so set @PersonId to NULL which will extract all records from the table
	DECLARE @NullsNumber INT
	SELECT @NullsNumber = COUNT(*) FROM @GroupPermissions AS sp WHERE sp.PersonId IS NULL 	
	IF @NullsNumber > 0 SET @PersonId = NULL

	IF @ProjectId IS NOT NULL
		SELECT
				pg.GroupId
				, pg.ClientId
				, pg.Name
				, 1 InUse
			FROM ProjectGroup pg
				INNER JOIN Project p ON pg.GroupId = p.GroupId				
			WHERE p.ProjectId = @ProjectId 
					AND (@PersonId IS NULL OR pg.GroupId IN (SELECT * FROM @GroupPermissions))
	ELSE
	IF @ClientId IS NOT NULL 
			SELECT
				GroupId
				, ClientId
				, Name
				, ISNULL((SELECT TOP 1 1 FROM Project WHERE GroupId = ProjectGroup.GroupId), 0) InUse
			FROM ProjectGroup
			WHERE ((@ClientId IS NULL) OR (ClientId = @ClientId))
					AND (@PersonId IS NULL OR GroupId IN (SELECT * FROM @GroupPermissions))
	ELSE 
			SELECT
				  pg.ClientId
				, cl.[Name] AS 'ClientName'
				, pg.GroupId
				, pg.[Name]
				, ISNULL((SELECT TOP 1 1 FROM Project WHERE GroupId = pg.GroupId), 0) InUse
			FROM ProjectGroup AS pg
			INNER JOIN dbo.Client AS cl ON pg.ClientId = cl.ClientId
			WHERE(@PersonId IS NULL OR pg.GroupId IN (SELECT * FROM @GroupPermissions))
			ORDER BY cl.ClientId, pg.GroupId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroupListAll].[@GroupPermissions].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Permissions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Permissions].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Permissions].[PersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroupListAll].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Permissions].[PermissionTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroupListAll].[@GroupPermissions].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroupListAll].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroupListAll].[@ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[GroupId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[ProjectGroupListAll].[@GroupPermissions]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectGroupListAll].[@GroupPermissions].[PersonId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectGroupListAll].[@ClientId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectGroupListAll].[@ProjectId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectGroupListAll].[@PersonId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1868" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.ProjectGroupListAll&#xD;&#xA;&#x9;@ClientId&#x9;INT = NULL,&#xD;&#xA;&#x9;@ProjectId&#x9;INT = NULL,&#xD;&#xA;&#x9;@PersonId&#x9;INT = NULL&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectGroupRenameByClient]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON;
	DECLARE @Result INT,
			@Result_Success INT, @Result_GroupWasNotFound INT, @Result_GroupMustBeUniq INT
	SELECT	@Result_Success = 0,
			@Result_GroupWasNotFound = 1,
			@Result_GroupMustBeUniq = 2
		
	SET @Result = CASE
		WHEN NOT EXISTS(SELECT 1 FROM ProjectGroup WHERE ClientId = @ClientId AND Name = @OldGroupName)
			THEN @Result_GroupWasNotFound
		WHEN EXISTS(SELECT 1 FROM ProjectGroup WHERE ClientId = @ClientId AND Name = @NewGroupName)
			THEN @Result_GroupMustBeUniq
		ELSE
			@Result_Success
		END
	
	IF @Result = 0
		UPDATE ProjectGroup
			SET Name = @NewGroupName
			WHERE ClientId = @ClientId AND Name = @OldGroupName

	SELECT @Result Result]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroupRenameByClient].[@ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroupRenameByClient].[@OldGroupName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroupRenameByClient].[@NewGroupName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[ClientId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectGroupRenameByClient].[@ClientId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectGroupRenameByClient].[@OldGroupName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectGroupRenameByClient].[@NewGroupName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="821" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE ProjectGroupRenameByClient&#xD;&#xA;&#x9;@ClientId&#x9;&#x9;INT,&#xD;&#xA;&#x9;@OldGroupName&#x9;NVARCHAR(100),&#xD;&#xA;&#x9;@NewGroupName&#x9;NVARCHAR(100)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectInactivate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	UPDATE dbo.Project
	   SET Inactive = 1
	 WHERE ProjectId = @ProjectId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectInactivate].[@ProjectId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectInactivate].[@ProjectId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="198" />
				<Property Name="Length" Value="359" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-21-1008&#xD;&#xA;-- Description:&#x9;Mark a project inactive&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.ProjectInactivate&#xD;&#xA;(&#xD;&#xA;&#x9;@ProjectId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectInsert]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	-- Generating Project Number
	DECLARE @ProjectNumber NVARCHAR(12)
	EXEC dbo.GenerateNewProjectNumber @ProjectNumber OUTPUT ;

	-- Start logging session
	EXEC dbo.SessionLogPrepare @UserLogin = @UserLogin

	-- Inserting Project
	INSERT INTO dbo.Project
	            (ClientId, Discount, Terms, Name, PracticeId,
	             ProjectStatusId, ProjectNumber, BuyerName, GroupId, IsChargeable, ProjectManagerId, OpportunityId)
	     VALUES (@ClientId, @Discount, @Terms, @Name, @PracticeId,
	             @ProjectStatusId, @ProjectNumber, @BuyerName, @GroupId, @IsChargeable, @ProjectManagerId, @OpportunityId)

	-- End logging session
	EXEC dbo.SessionLogUnprepare

	SET @ProjectId = SCOPE_IDENTITY()]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GenerateNewProjectNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectInsert].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectInsert].[@ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectInsert].[@Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectInsert].[@Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectInsert].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectInsert].[@PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectInsert].[@ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectInsert].[@BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectInsert].[@GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectInsert].[@IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectInsert].[@ProjectManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectInsert].[@OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogUnprepare]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectInsert].[@ProjectId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectInsert].[@ProjectId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectInsert].[@ClientId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectInsert].[@Discount]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectInsert].[@Terms]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectInsert].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectInsert].[@PracticeId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectInsert].[@ProjectStatusId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectInsert].[@BuyerName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectInsert].[@UserLogin]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectInsert].[@GroupId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectInsert].[@IsChargeable]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectInsert].[@ProjectManagerId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectInsert].[@OpportunityId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1162" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE dbo.ProjectInsert&#xD;&#xA;(&#xD;&#xA;&#x9;@ProjectId          INT OUT,&#xD;&#xA;&#x9;@ClientId           INT,&#xD;&#xA;&#x9;@Discount           DECIMAL(18,2),&#xD;&#xA;&#x9;@Terms              INT,&#xD;&#xA;&#x9;@Name               NVARCHAR(100),&#xD;&#xA;&#x9;@PracticeId         INT,&#xD;&#xA;&#x9;@ProjectStatusId    INT,&#xD;&#xA;&#x9;@BuyerName          NVARCHAR(100),&#xD;&#xA;&#x9;@UserLogin          NVARCHAR(255),&#xD;&#xA;&#x9;@GroupId&#x9;&#x9;&#x9;INT,&#xD;&#xA;&#x9;@IsChargeable&#x9;&#x9;BIT,&#xD;&#xA;&#x9;@ProjectManagerId&#x9;INT,&#xD;&#xA;&#x9;@OpportunityId&#x9;&#x9;INT = NULL&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectListAll]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON;

	SELECT p.ClientId,
		   p.ProjectId,
		   p.Discount,
		   p.Terms,
		   p.Name,
		   p.PracticeManagerId,
		   p.PracticeId,
		   p.StartDate,
		   p.EndDate,
		   p.ClientName,
		   p.PracticeName,
		   p.ProjectStatusId,
		   p.ProjectStatusName,
		   p.ProjectNumber,
	       p.BuyerName,
           p.OpportunityId,
           p.GroupId,
	       p.ClientIsChargeable,
	       p.ProjectIsChargeable,
		   p.ProjectManagerId,
		   p.ProjectManagerFirstName,
		   p.ProjectManagerLastName
	  FROM dbo.v_Project AS p
	 WHERE (p.ClientId = @ClientId OR @ClientId IS NULL)
	   AND (p.GroupId = @ProjectGroupId OR @ProjectGroupId IS NULL)
	   AND (p.PracticeId = @PracticeId OR @PracticeId IS NULL)
	   AND (   (@ShowProjected = 1 AND p.ProjectStatusId = 2)
            OR (@ShowActive = 1 AND p.ProjectStatusId = 3)
            OR (@ShowCompleted = 1 AND p.ProjectStatusId = 4)
	        OR (@ShowExperimental = 1 AND (p.ProjectStatusId = 5 OR p.ProjectStatusId = 1)))
       AND (   (@SalespersonId IS NULL AND @PracticeManagerId IS NULL)
	        OR EXISTS (SELECT 1
	                      FROM dbo.v_PersonProjectCommission AS c
	                     WHERE c.ProjectId = p.ProjectId AND c.PersonId = @SalespersonId AND c.CommissionType = 1
	                   UNION ALL
	                   SELECT 1
	                     FROM dbo.v_PersonProjectCommission AS c
	                    WHERE c.ProjectId = p.ProjectId AND c.PersonId = @PracticeManagerId AND c.CommissionType = 2 
	                   )
	       )
	ORDER BY p.Name]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ClientName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[PracticeName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectStatusName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ClientIsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectIsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectManagerFirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectManagerLastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectListAll].[@ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectListAll].[@ProjectGroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectListAll].[@PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectListAll].[@ShowProjected]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectListAll].[@ShowActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectListAll].[@ShowCompleted]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectListAll].[@ShowExperimental]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectListAll].[@SalespersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectListAll].[@PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission].[CommissionType]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectListAll].[@ClientId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectListAll].[@ShowProjected]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectListAll].[@ShowCompleted]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectListAll].[@ShowActive]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectListAll].[@ShowExperimental]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectListAll].[@SalespersonId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectListAll].[@PracticeManagerId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectListAll].[@PracticeId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectListAll].[@ProjectGroupId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="1254" />
				<Property Name="Length" Value="3211" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;7-17-2008&#xD;&#xA;-- Updated by:&#x9;Anton Kramarenko&#xD;&#xA;-- Update date: 02-20-2009&#xD;&#xA;-- Updated by:&#x9;Anton Kolesnikov&#xD;&#xA;-- Update date: 07-16-2009&#xD;&#xA;-- Updated by:&#x9;Anton Kolesnikov&#xD;&#xA;-- Update date: 08-06-2009&#xD;&#xA;-- Description:&#x9;Lists the projects those fall into the specified conditions.&#xD;&#xA;-- =============================================&#xD;&#xA;-- Arguments:&#xD;&#xA;--     @ClientId - determines an ID of the Client to select the projects associated with&#xD;&#xA;--     @ShowProjected - determines do include the projected projects into the result&#xD;&#xA;--     @ShowCompleted - determines do include the completed projects into the result&#xD;&#xA;--     @ShowActive - determines do include active projects into the result&#xD;&#xA;--     @ShowExperimental - determines do include experimental projects into the result&#xD;&#xA;--     @SalespersonId - determines an ID of the salesperson to filter the list for&#xD;&#xA;--     @PracticeManagerId - determines an ID of the practice manager to filter the list for&#xD;&#xA;--     @PracticeId - determines an ID of the practice to filter the list for&#xD;&#xA;--     @ProjectGroupId - determines an ID of the project group to filter the list for&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.ProjectListAll&#xD;&#xA;(&#xD;&#xA;&#x9;@ClientId              INT = NULL, &#xD;&#xA;&#x9;@ShowProjected         BIT = 0,&#xD;&#xA;&#x9;@ShowCompleted         BIT = 0,&#xD;&#xA;    @ShowActive            BIT = 0,&#xD;&#xA;&#x9;@ShowExperimental      BIT = 0,&#xD;&#xA;&#x9;@SalespersonId         INT = NULL,&#xD;&#xA;&#x9;@PracticeManagerId     INT = NULL,&#xD;&#xA;&#x9;@PracticeId            INT = NULL,&#xD;&#xA;&#x9;@ProjectGroupId        INT = NULL&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectListAllMultiParameters]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
	SET NOCOUNT ON ;

	-- Convert client ids from string to table
	declare @ClientsList table (Id int)
	insert into @ClientsList
	select * FROM dbo.ConvertStringListIntoTable(@ClientIds)

	-- Convert practice ids from string to table
	declare @PracticesList table (Id int)
	insert into @PracticesList
	select * FROM dbo.ConvertStringListIntoTable(@PracticeIds)

	-- Convert project group ids from string to table
	declare @ProjectGroupsList table (Id int)
	insert into @ProjectGroupsList
	select * FROM dbo.ConvertStringListIntoTable(@ProjectGroupIds)

	-- Convert project owner ids from string to table
	declare @ProjectOwnersList table (Id int)
	insert into @ProjectOwnersList
	select * FROM dbo.ConvertStringListIntoTable(@ProjectOwnerIds)

	-- Convert salesperson ids from string to table
	declare @SalespersonsList table (Id int)
	insert into @SalespersonsList
	select * FROM dbo.ConvertStringListIntoTable(@SalespersonIds)
	union all
	-- All persons with Role = Salesperson
	select PersonId from v_UsersInRoles where RoleName = 'Salesperson'
	union all
	-- All persons that have commission
	SELECT c.PersonId FROM dbo.DefaultCommission AS c
    WHERE [type] = 1 AND dbo.IsDateRangeWithingTimeInterval(c.StartDate, c.EndDate, @StartDate, @EndDate) = 1
	union all
	-- All persons that have project commission
	SELECT com.PersonId FROM dbo.Commission AS com
    WHERE com.CommissionType = 1
	/*union all
	-- All active persons
	select PersonId from Person where PersonStatusId = 1*/
	
	SELECT  p.ClientId,
			p.ProjectId,
			p.Discount,
			p.Terms,
			p.Name,
			p.PracticeManagerId,
			p.PracticeId,
			p.StartDate,
			p.EndDate,
			p.ClientName,
			p.PracticeName,
			p.ProjectStatusId,
			p.ProjectStatusName,
			p.ProjectNumber,
			p.BuyerName,
			p.OpportunityId,
			p.GroupId,
	       p.ClientIsChargeable,
	       p.ProjectIsChargeable,
		   p.ProjectManagerId,
		   p.ProjectManagerFirstName,
		   p.ProjectManagerLastName,
		   c.PersonId as 'SalespersonId',
		   c.CommissionType
	FROM	dbo.v_Project AS p
	left join dbo.v_PersonProjectCommission AS c on c.ProjectId = p.ProjectId
	WHERE	    (c.CommissionType is NULL OR c.CommissionType = 1)
		    AND (dbo.IsDateRangeWithingTimeInterval(p.StartDate, p.EndDate, @StartDate, @EndDate) = 1 OR (p.StartDate IS NULL AND p.EndDate IS NULL))
			AND ( @ClientIds IS NULL OR p.ClientId IN (select * from @ClientsList) )
			AND ( @ProjectGroupIds IS NULL OR p.GroupId IN (SELECT * from @ProjectGroupsList) )
			AND ( @PracticeIds IS NULL OR p.PracticeId IN (SELECT * FROM @PracticesList) OR p.PracticeId IS NULL )
			AND ( @ProjectOwnerIds IS NULL OR p.ProjectManagerId IN (SELECT * FROM @ProjectOwnersList) )
			AND (    @SalespersonIds IS NULL 
				  OR c.PersonId IN (SELECT * FROM @SalespersonsList)
				  OR c.PersonId is null
			)
			AND (    ( @ShowProjected = 1 AND p.ProjectStatusId = 2 )
				  OR ( @ShowActive = 1 AND p.ProjectStatusId = 3 )
				  OR ( @ShowCompleted = 1 AND p.ProjectStatusId = 4 )
				  OR ( @ShowExperimental = 1 AND p.ProjectStatusId = 5 )
			)			
	ORDER BY CASE p.ProjectStatusId
			   WHEN 2 THEN p.StartDate
			   ELSE p.EndDate
			 END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ProjectListAllMultiParameters].[@ClientIds]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConvertStringListIntoTable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectListAllMultiParameters].[@PracticeIds]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectListAllMultiParameters].[@ProjectGroupIds]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectListAllMultiParameters].[@ProjectOwnerIds]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectListAllMultiParameters].[@SalespersonIds]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_UsersInRoles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_UsersInRoles].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_UsersInRoles].[RoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[IsDateRangeWithingTimeInterval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DefaultCommission].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectListAllMultiParameters].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectListAllMultiParameters].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[CommissionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ClientName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[PracticeName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectStatusName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ClientIsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectIsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectManagerFirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectManagerLastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission].[CommissionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[IsDateRangeWithingTimeInterval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectListAllMultiParameters].[@ShowProjected]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectListAllMultiParameters].[@ShowActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectListAllMultiParameters].[@ShowCompleted]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectListAllMultiParameters].[@ShowExperimental]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[ProjectListAllMultiParameters].[@ClientsList]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectListAllMultiParameters].[@ClientsList].[Id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[ProjectListAllMultiParameters].[@PracticesList]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectListAllMultiParameters].[@PracticesList].[Id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[ProjectListAllMultiParameters].[@ProjectGroupsList]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectListAllMultiParameters].[@ProjectGroupsList].[Id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[ProjectListAllMultiParameters].[@ProjectOwnersList]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectListAllMultiParameters].[@ProjectOwnersList].[Id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[ProjectListAllMultiParameters].[@SalespersonsList]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectListAllMultiParameters].[@SalespersonsList].[Id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectListAllMultiParameters].[@ClientIds]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectListAllMultiParameters].[@ShowProjected]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectListAllMultiParameters].[@ShowCompleted]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectListAllMultiParameters].[@ShowActive]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectListAllMultiParameters].[@ShowExperimental]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectListAllMultiParameters].[@SalespersonIds]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectListAllMultiParameters].[@ProjectOwnerIds]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectListAllMultiParameters].[@PracticeIds]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectListAllMultiParameters].[@ProjectGroupIds]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectListAllMultiParameters].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectListAllMultiParameters].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="3621" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[ProjectListAllMultiParameters]&#xD;&#xA;&#x9;@ClientIds&#x9;&#x9;&#x9;VARCHAR(250) = NULL,&#xD;&#xA;&#x9;@ShowProjected&#x9;&#x9;BIT = 0,&#xD;&#xA;&#x9;@ShowCompleted&#x9;&#x9;BIT = 0,&#xD;&#xA;&#x9;@ShowActive&#x9;&#x9;&#x9;BIT = 0,&#xD;&#xA;&#x9;@ShowExperimental&#x9;&#x9;BIT = 0,&#xD;&#xA;&#x9;@SalespersonIds&#x9;&#x9;VARCHAR(250) = NULL,&#xD;&#xA;&#x9;@ProjectOwnerIds&#x9;VARCHAR(250) = NULL,&#xD;&#xA;&#x9;@PracticeIds&#x9;&#x9;&#x9;VARCHAR(250) = NULL,&#xD;&#xA;&#x9;@ProjectGroupIds&#x9;&#x9;VARCHAR(250) = NULL,&#xD;&#xA;&#x9;@StartDate&#x9;&#x9;&#x9;&#x9;DATETIME,&#xD;&#xA;&#x9;@EndDate&#x9;&#x9;&#x9;&#x9;DATETIME&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectListAllMultiParameters_batch]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[   
 SET NOCOUNT ON ;  

--WITH sq AS 
--( SELECT f.ProjectId,  
--        dbo.MakeDate(YEAR(MIN(f.Date)), MONTH(MIN(f.Date)), 1) AS FinancialDate,  
--        dbo.MakeDate(YEAR(MIN(f.Date)), MONTH(MIN(f.Date)), dbo.GetDaysInMonth(MIN(f.Date))) AS MonthEnd,  
--  
--        SUM(f.PersonMilestoneDailyAmount) AS Revenue,  
--  
--        SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) AS RevenueNet,  
--  
--        ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0) AS Cogs,  
--  
--        SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) -  
--        ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0) AS GrossMargin,  
--  
--        ISNULL(SUM(f.PersonHoursPerDay), 0) AS Hours,  
--  
--        SUM(f.PersonMilestoneDailyAmount - ISNULL(f.PayRate * f.PersonHoursPerDay, 0)) *  
--        (SELECT SUM(c.FractionOfMargin) FROM dbo.Commission AS c WHERE c.ProjectId = f.ProjectId AND c.CommissionType = 1) / 100 AS SalesCommission,  
--  
--        SUM((f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount -  
--             (ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * ISNULL(f.PersonHoursPerDay, 0)) *  
--            (f.PracticeManagementCommissionSub + CASE f.PracticeManagerId WHEN f.PersonId THEN f.PracticeManagementCommissionOwn ELSE 0 END)) / 100 AS PracticeManagementCommission  
--   FROM dbo.v_FinancialsRetrospective AS f  
--  WHERE f.Date BETWEEN @StartDate AND @EndDate  
--  GROUP BY f.ProjectId
--)   
 SELECT  p.ClientId,  
   p.ProjectId,  
   p.Discount,  
   p.Terms,  
   p.Name,  
   p.PracticeManagerId,  
   p.PracticeId,  
   p.StartDate,  
   p.EndDate,  
   p.ClientName,  
   p.PracticeName,  
   p.ProjectStatusId,  
   p.ProjectStatusName,  
   p.ProjectNumber,  
   p.BuyerName,  
   p.OpportunityId,  
   p.GroupId,  
        p.ClientIsChargeable,  
        p.ProjectIsChargeable,
 (SELECT mp.FirstName + ' ' + mp.LastName AS p
   FROM dbo.v_MilestonePerson AS mp  
WHERE mp.ProjectId = p.ProjectId
   FOR XML PATH('div'), TYPE) AS emp
 FROM dbo.v_Project AS p
 
 WHERE (  
     (  
    ( @ClientIds IS NULL OR  
     p.ClientId IN (  
     SELECT *  
     FROM   dbo.ConvertStringListIntoTable(@ClientIds) )  
    )  
    AND ( @ProjectGroupIds IS NULL OR  
     p.GroupId IN (  
     SELECT *  
     FROM   dbo.ConvertStringListIntoTable(@ProjectGroupIds) )  
     )  
   )  
   AND ( @PracticeIds IS NULL OR  
     p.PracticeId IN (  
       SELECT *  
       FROM   dbo.ConvertStringListIntoTable(@PracticeIds) )  
    )  
   AND ( ( @SalespersonIds IS NULL  
     AND @PracticeManagerIds IS NULL  
      )  
      OR EXISTS ( SELECT 1  
         FROM   dbo.v_PersonProjectCommission AS c  
         WHERE  c.ProjectId = p.ProjectId  
          AND c.PersonId IN (  
            SELECT *  
            FROM   dbo.ConvertStringListIntoTable(@SalespersonIds)  
          )  
          AND c.CommissionType = 1  
         UNION ALL  
         SELECT 1  
         FROM   dbo.v_PersonProjectCommission AS c  
         WHERE  c.ProjectId = p.ProjectId  
          AND c.PersonId IN (  
            SELECT *  
            FROM   dbo.ConvertStringListIntoTable(@PracticeManagerIds)  
          )  
          AND c.CommissionType = 2 )  
    )  
   )  
   AND ( ( @ShowProjected = 1  
     AND p.ProjectStatusId = 2  
      )  
      OR ( @ShowActive = 1  
        AND p.ProjectStatusId = 3  
      )  
      OR ( @ShowCompleted = 1  
        AND p.ProjectStatusId = 4  
      )  
      OR ( @ShowExperimental = 1  
        AND p.ProjectStatusId = 5  
      )  
    )  
 ORDER BY CASE p.ProjectStatusId  
      WHEN 2 THEN p.StartDate  
      ELSE p.EndDate  
    END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ClientName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[PracticeName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectStatusName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ClientIsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectIsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectListAllMultiParameters_batch].[@ClientIds]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConvertStringListIntoTable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectListAllMultiParameters_batch].[@ProjectGroupIds]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectListAllMultiParameters_batch].[@PracticeIds]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectListAllMultiParameters_batch].[@SalespersonIds]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectListAllMultiParameters_batch].[@PracticeManagerIds]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission].[CommissionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectListAllMultiParameters_batch].[@ShowProjected]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectListAllMultiParameters_batch].[@ShowActive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectListAllMultiParameters_batch].[@ShowCompleted]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectListAllMultiParameters_batch].[@ShowExperimental]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectListAllMultiParameters_batch].[@ClientIds]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectListAllMultiParameters_batch].[@ShowProjected]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectListAllMultiParameters_batch].[@ShowCompleted]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectListAllMultiParameters_batch].[@ShowActive]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectListAllMultiParameters_batch].[@ShowExperimental]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectListAllMultiParameters_batch].[@SalespersonIds]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectListAllMultiParameters_batch].[@PracticeManagerIds]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectListAllMultiParameters_batch].[@PracticeIds]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectListAllMultiParameters_batch].[@ProjectGroupIds]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="234" />
				<Property Name="Length" Value="4455" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- exec dbo.ProjectListAllMultiParameters_batch @ClientIds=default,@ShowProjected=1,@ShowCompleted=1,@ShowActive=1,@ShowExperimental=0,@SalespersonIds=default,@PracticeManagerIds=default,@PracticeIds=default,@ProjectGroupIds=default&#xD;&#xA;CREATE PROCEDURE dbo.ProjectListAllMultiParameters_batch  &#xD;&#xA; @ClientIds   VARCHAR(250) = NULL,  &#xD;&#xA; @ShowProjected  BIT = 0,  &#xD;&#xA; @ShowCompleted  BIT = 0,  &#xD;&#xA; @ShowActive   BIT = 0,  &#xD;&#xA; @ShowExperimental  BIT = 0,  &#xD;&#xA; @SalespersonIds  VARCHAR(250) = NULL,  &#xD;&#xA; @PracticeManagerIds VARCHAR(250) = NULL,  &#xD;&#xA; @PracticeIds   VARCHAR(250) = NULL,  &#xD;&#xA; @ProjectGroupIds  VARCHAR(250) = NULL  &#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectMilestonesFinancials]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;

	With MilestoneFinancials as 
	(SELECT f.MilestoneId,
	       dbo.MakeDate(YEAR(MIN(f.Date)), MONTH(MIN(f.Date)), 1) AS FinancialDate,
	       dbo.MakeDate(YEAR(MIN(f.Date)), MONTH(MIN(f.Date)), dbo.GetDaysInMonth(MIN(f.Date))) AS MonthEnd,

	       SUM(f.PersonMilestoneDailyAmount) AS Revenue,

	       SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) AS RevenueNet,

	       ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0) AS Cogs,

--	       SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) -
--	       ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0) AS GrossMargin,

	       ISNULL(SUM(f.PersonHoursPerDay), 0) AS Hours,

	       (SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) -
	       ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0)) * 
	       ((SELECT SUM(c.FractionOfMargin) FROM dbo.Commission AS c WHERE c.ProjectId = f.ProjectId AND c.CommissionType = 1) / 100) AS SalesCommission,

	       SUM((f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount -
	            (ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * ISNULL(f.PersonHoursPerDay, 0)) *
	           (f.PracticeManagementCommissionSub + CASE f.PracticeManagerId WHEN f.PersonId THEN f.PracticeManagementCommissionOwn ELSE 0 END)) / 100 AS PracticeManagementCommission,
		   min(case when me.Expense is null then 0 else me.Expense end) as 'Expense',
		   min(case when me.ReimbursedExpense is null then 0 else me.ReimbursedExpense end) as 'ReimbursedExpense',
		   min(f.Discount) as Discount
	  FROM dbo.v_FinancialsRetrospective AS f
	  left join v_MilestoneExpenses as me on f.MilestoneId = me.MilestoneId
	 WHERE f.ProjectId = @ProjectId
	GROUP BY f.ProjectId, f.MilestoneId
	)
	select
		m.MilestoneId,
		m.Description as 'MilestoneName',
		m.IsChargeable,
		m.StartDate,
		m.ProjectedDeliveryDate,
		m.ConsultantsCanAdjust,
		0 as 'ExpectedHours',
		fin.FinancialDate,
		fin.MonthEnd,
		ISNULL(fin.Revenue, 0) as 'Revenue',
		ISNULL(((fin.Revenue + fin.ReimbursedExpense) * (1 - fin.Discount/100)), 0) as 'RevenueNet',
		fin.Cogs,
		ISNULL(((fin.Revenue + fin.ReimbursedExpense) * (1 - fin.Discount/100)) - fin.Cogs - fin.Expense, 0) as 'GrossMargin',
		fin.Hours,
		fin.SalesCommission,
		fin.PracticeManagementCommission,
		fin.Expense,
		fin.ReimbursedExpense,
		case 
			when fin.Revenue <> 0
				then (((fin.Revenue + fin.ReimbursedExpense) * (1 - fin.Discount/100)) - fin.Cogs - fin.Expense) * 100 / fin.Revenue
			else
				0
		end as 'TargetMargin'
	from dbo.Milestone as m
	left join MilestoneFinancials as fin on m.MilestoneId = fin.MilestoneId
	where m.ProjectId = @ProjectId
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneExpenses]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneExpenses].[milestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDaysInMonth]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonMilestoneDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonDiscountDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PayRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[OverheadRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonHoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[FractionOfMargin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[CommissionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagementCommissionSub]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagementCommissionOwn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneExpenses].[Expense]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneExpenses].[ReimbursedExpense]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectMilestonesFinancials].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ConsultantsCanAdjust]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[ProjectMilestonesFinancials].[CTE1].[MilestoneFinancials]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ProjectMilestonesFinancials].[CTE1].[MilestoneFinancials].[MilestoneId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_FinancialsRetrospective].[MilestoneId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ProjectMilestonesFinancials].[CTE1].[MilestoneFinancials].[FinancialDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[MakeDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ProjectMilestonesFinancials].[CTE1].[MilestoneFinancials].[MonthEnd]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[MakeDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ProjectMilestonesFinancials].[CTE1].[MilestoneFinancials].[Revenue]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ProjectMilestonesFinancials].[CTE1].[MilestoneFinancials].[RevenueNet]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ProjectMilestonesFinancials].[CTE1].[MilestoneFinancials].[Cogs]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ProjectMilestonesFinancials].[CTE1].[MilestoneFinancials].[Hours]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ProjectMilestonesFinancials].[CTE1].[MilestoneFinancials].[SalesCommission]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ProjectMilestonesFinancials].[CTE1].[MilestoneFinancials].[PracticeManagementCommission]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ProjectMilestonesFinancials].[CTE1].[MilestoneFinancials].[Expense]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ProjectMilestonesFinancials].[CTE1].[MilestoneFinancials].[ReimbursedExpense]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ProjectMilestonesFinancials].[CTE1].[MilestoneFinancials].[Discount]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectMilestonesFinancials].[@ProjectId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="207" />
				<Property Name="Length" Value="3111" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-06-11&#xD;&#xA;-- Description:&#x9;Project milestones financials&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.ProjectMilestonesFinancials &#xD;&#xA;&#x9;@ProjectId INT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectReactivate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	UPDATE dbo.Project
	   SET Inactive = 0
	 WHERE ProjectId = @ProjectId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectReactivate].[@ProjectId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectReactivate].[@ProjectId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="196" />
				<Property Name="Length" Value="357" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-21-1008&#xD;&#xA;-- Description:&#x9;Mark a project active&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.ProjectReactivate&#xD;&#xA;(&#xD;&#xA;&#x9;@ProjectId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectsCountByClient]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
		SELECT COUNT(*)
		  FROM dbo.v_Project AS p
		 WHERE p.ClientId = @ClientId
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectsCountByClient].[@ClientId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectsCountByClient].[@ClientId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="220" />
				<Property Name="Length" Value="375" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-02-22&#xD;&#xA;-- Description:&#x9;Counts number of projects for given client&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.ProjectsCountByClient&#xD;&#xA;&#x9;@ClientId INT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectSearchText]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	declare @PersonRole varchar(50)
	select @PersonRole = uir.RoleName
	from v_UsersInRoles as uir
    where uir.PersonId = @PersonId and uir.RoleName = 'Administrator' 

	if @PersonRole = 'Administrator' 
		set @PersonId = null

	DECLARE @SearchText NVARCHAR(257)
	SET @SearchText = '%' + ISNULL(@Looked, '') + '%'


	-- Convert client ids from string to table
	declare @ClientsList table (Id int)
	insert into @ClientsList
	select TargetId FROM dbo.PersonClientPermissions(@PersonId)

	-- Convert practice ids from string to table
	declare @PracticesList table (Id int)
	insert into @PracticesList
	select TargetId FROM dbo.PersonPracticePermissions(@PersonId)

	-- Convert project group ids from string to table
	declare @ProjectGroupsList table (Id int)
	insert into @ProjectGroupsList
	select TargetId FROM dbo.PersonProjectGroupPermissions(@PersonId)

	-- Convert project group ids from string to table
	declare @ProjectOwnerList table (Id int)
	insert into @ProjectOwnerList
	select TargetId FROM dbo.PersonProjectOwnerPermissions(@PersonId)

	-- Search for a project with milestone(s)
	;with FoundProjects as (
	SELECT m.ClientId,
	       m.ProjectId,
	       m.MilestoneId,
	       m.ClientName,
	       m.ProjectName,
	       m.Description,
	       m.ProjectStartDate,
	       m.ProjectEndDate,
	       m.ProjectNumber,
	       m.ProjectStatusId,
	       s.Name AS ProjectStatusName,
           m.GroupId
	  FROM dbo.v_Milestone AS m
	       INNER JOIN dbo.ProjectStatus AS s ON m.ProjectStatusId = s.ProjectStatusId
	 WHERE (
			m.ProjectName LIKE @SearchText COLLATE SQL_Latin1_General_CP1_CI_AS
	        OR m.ProjectNumber LIKE @SearchText COLLATE SQL_Latin1_General_CP1_CI_AS
	        OR m.ClientName LIKE @SearchText COLLATE SQL_Latin1_General_CP1_CI_AS
	        OR m.Description LIKE @SearchText COLLATE SQL_Latin1_General_CP1_CI_AS
	        OR m.BuyerName LIKE @SearchText COLLATE SQL_Latin1_General_CP1_CI_AS
	       )
		   AND (@PersonId is NULL OR m.ClientId in (select * from @ClientsList))
		   AND (@PersonId is NULL OR m.GroupId in (select * from @ProjectGroupsList))
		   AND (@PersonId is NULL OR m.ProjectManagerId in (select * from @ProjectOwnerList))   
	UNION ALL
	SELECT p.ClientId,
	       p.ProjectId,
	       NULL AS MilestoneId,
	       p.ClientName,
	       p.Name AS ProjectName,
	       NULL AS Description,
	       NULL AS ProjectStartDate,
	       NULL AS ProjectEndDate,
	       p.ProjectNumber,
	       p.ProjectStatusId,
	       p.ProjectStatusName,
           p.GroupId
	  FROM dbo.v_Project AS p
	 WHERE NOT EXISTS (SELECT 1 FROM dbo.Milestone AS m WHERE m.ProjectId = p.ProjectId)
	   AND (   
			p.Name LIKE @SearchText COLLATE SQL_Latin1_General_CP1_CI_AS
	        OR p.ProjectNumber LIKE @SearchText COLLATE SQL_Latin1_General_CP1_CI_AS
	        OR p.ClientName LIKE @SearchText COLLATE SQL_Latin1_General_CP1_CI_AS
	        OR p.BuyerName LIKE @SearchText COLLATE SQL_Latin1_General_CP1_CI_AS
	       )
	   AND (@PersonId is NULL OR p.ClientId in (select * from @ClientsList))
	   AND (@PersonId is NULL OR p.GroupId in (select * from @ProjectGroupsList))
	   AND (@PersonId is NULL OR p.PracticeId in (select * from @PracticesList))	
	   AND (@PersonId is NULL OR p.ProjectManagerId in (select * from @ProjectOwnerList))   
	)
	select distinct *
	from FoundProjects
	ORDER BY ProjectName, Description]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_UsersInRoles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_UsersInRoles].[RoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_UsersInRoles].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectSearchText].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectSearchText].[@Looked]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonClientPermissions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonClientPermissions].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonPracticePermissions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonPracticePermissions].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonProjectGroupPermissions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonProjectGroupPermissions].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonProjectOwnerPermissions]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonProjectOwnerPermissions].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectStatus].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ClientName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectEndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectStatus].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ClientName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectStatusName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[Description]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[ProjectSearchText].[@ClientsList]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectSearchText].[@ClientsList].[Id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[ProjectSearchText].[@PracticesList]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectSearchText].[@PracticesList].[Id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[ProjectSearchText].[@ProjectGroupsList]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectSearchText].[@ProjectGroupsList].[Id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[ProjectSearchText].[@ProjectOwnerList]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectSearchText].[@ProjectOwnerList].[Id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[ProjectSearchText].[CTE1].[FoundProjects]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ProjectSearchText].[CTE1].[FoundProjects].[ClientId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Milestone].[ClientId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ProjectSearchText].[CTE1].[FoundProjects].[ProjectId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Milestone].[ProjectId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ProjectSearchText].[CTE1].[FoundProjects].[MilestoneId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Milestone].[MilestoneId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ProjectSearchText].[CTE1].[FoundProjects].[ClientName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Milestone].[ClientName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ProjectSearchText].[CTE1].[FoundProjects].[ProjectName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Milestone].[ProjectName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ProjectSearchText].[CTE1].[FoundProjects].[Description]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Milestone].[Description]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ProjectSearchText].[CTE1].[FoundProjects].[ProjectStartDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Milestone].[ProjectStartDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ProjectSearchText].[CTE1].[FoundProjects].[ProjectEndDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Milestone].[ProjectEndDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ProjectSearchText].[CTE1].[FoundProjects].[ProjectNumber]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Milestone].[ProjectNumber]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ProjectSearchText].[CTE1].[FoundProjects].[ProjectStatusId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Milestone].[ProjectStatusId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ProjectSearchText].[CTE1].[FoundProjects].[ProjectStatusName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ProjectStatus].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ProjectSearchText].[CTE1].[FoundProjects].[GroupId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Milestone].[GroupId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectSearchText].[@Looked]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectSearchText].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="356" />
				<Property Name="Length" Value="3916" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 11-07-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date: 12-04-2008&#xD;&#xA;-- Updated by:&#x9;Anton Kolensikov&#xD;&#xA;-- Update date: 08-07-2009&#xD;&#xA;-- Description:&#x9;Retrives the list of projects by the specified conditions.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.ProjectSearchText&#xD;&#xA;(&#xD;&#xA;&#x9;@Looked              NVARCHAR(255),&#xD;&#xA;&#x9;@PersonId&#x9;&#x9;&#x9; INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectSetStatus]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
 SET NOCOUNT ON;
  
 UPDATE Project
  SET ProjectStatusId = @ProjectStatusId
  WHERE ProjectID = @ProjectID
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectSetStatus].[@ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectSetStatus].[@ProjectID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectSetStatus].[@ProjectID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectSetStatus].[@ProjectStatusId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="203" />
				<Property Name="Length" Value="415" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="----##############################################################################&#xD;&#xA;---- CREATE NEW STORED PROCEDURES&#xD;&#xA;----##############################################################################&#xD;&#xA;CREATE PROCEDURE [dbo].[ProjectSetStatus] &#xD;&#xA; @ProjectID int,&#xD;&#xA; @ProjectStatusId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectsListByClient]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	IF @Alias IS NULL   
		SELECT p.ClientId,
			   p.ProjectId,
			   p.Discount,
			   p.Terms,
			   p.Name,
			   p.PracticeManagerId,
			   p.PracticeId,
			   p.StartDate,
			   p.EndDate,
			   p.ClientName,
			   p.PracticeName,
			   p.ProjectStatusId,
			   p.ProjectStatusName,
			   p.ProjectNumber,
			   p.BuyerName,
			   p.OpportunityId,
			   p.GroupId,
			   p.ClientIsChargeable,
			   p.ProjectIsChargeable,
			   p.ProjectManagerId,
			   p.ProjectManagerFirstName,
			   p.ProjectManagerLastName
		  FROM dbo.v_Project AS p
		 WHERE p.ClientId = @ClientId
		ORDER BY p.Name
	ELSE 
	BEGIN 
		DECLARE @PersonId INT 
		
		SELECT @PersonId = PersonId 
		FROM dbo.Person
		WHERE Alias = @Alias;
	
		WITH Perms AS (
			SELECT TargetId,
				   TargetType
			FROM dbo.Permission 
			WHERE PersonId = @PersonId
		)
		SELECT p.ClientId,
			   p.ProjectId,
			   p.Discount,
			   p.Terms,
			   p.Name,
			   p.PracticeManagerId,
			   p.PracticeId,
			   p.StartDate,
			   p.EndDate,
			   p.ClientName,
			   p.PracticeName,
			   p.ProjectStatusId,
			   p.ProjectStatusName,
			   p.ProjectNumber,
			   p.BuyerName,
			   p.OpportunityId,
			   p.GroupId,
			   p.ClientIsChargeable,
			   p.ProjectIsChargeable,
			   p.ProjectManagerId,
			   p.ProjectManagerFirstName,
			   p.ProjectManagerLastName
		  FROM dbo.v_Project AS p
		 WHERE 
			p.ClientId = @ClientId AND
			(
				p.GroupId IN (SELECT TargetId FROM Perms AS s WHERE s.TargetType = 2) OR
				p.PracticeId IN (SELECT TargetId FROM Perms AS s WHERE s.TargetType = 5) OR
				p.PracticeManagerId IN (SELECT TargetId FROM Perms AS s WHERE s.TargetType = 4) OR
				EXISTS ( SELECT	1
							  FROM	 dbo.v_PersonProjectCommission AS c
							  WHERE	 c.ProjectId = p.ProjectId
										AND c.PersonId IN (SELECT TargetId FROM Perms AS s WHERE s.TargetType = 3)
										AND c.CommissionType = 1)
			)
		ORDER BY p.NAME
	END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectsListByClient].[@Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ClientName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[PracticeName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectStatusName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ClientIsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectIsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectManagerFirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectManagerLastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectsListByClient].[@ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonProjectCommission].[CommissionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Project].[Name]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[ProjectsListByClient].[CTE1].[Perms]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ProjectsListByClient].[CTE1].[Perms].[TargetId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Permission].[TargetId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[ProjectsListByClient].[CTE1].[Perms].[TargetType]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Permission].[TargetType]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectsListByClient].[@ClientId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectsListByClient].[@Alias]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="334" />
				<Property Name="Length" Value="2426" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-21-2008&#xD;&#xA;-- Updated by:&#x9;Anton Kramarenko&#xD;&#xA;-- Update date: 02-20-2009&#xD;&#xA;-- Updated by:&#x9;Anton Kolesnikov&#xD;&#xA;-- Update date: 07-16-2009&#xD;&#xA;-- Description:&#x9;List projects by the specified Client&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.ProjectsListByClient&#xD;&#xA;(&#xD;&#xA;&#x9;@ClientId INT,&#xD;&#xA;&#x9;@Alias VARCHAR(100) = NULL &#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[ProjectStatus]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectStatus].[ProjectStatusId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ProjectStatus].[Name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectStatusListAll]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON
	
	SELECT s.ProjectStatusId, s.Name
	  FROM dbo.ProjectStatus AS s
	ORDER BY s.ProjectStatusId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ProjectStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectStatus].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectStatus].[Name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="213" />
				<Property Name="Length" Value="378" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--The source is &#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 6-5-2008&#xD;&#xA;-- Description:&#x9;List project statuses&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[ProjectStatusListAll]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ProjectUpdate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	-- Start logging session
	EXEC dbo.SessionLogPrepare @UserLogin = @UserLogin

	UPDATE dbo.Project
	   SET ClientId			= @ClientId,
	       Discount			= @Discount,
	       Terms			= @Terms,
	       NAME				= @Name,
	       PracticeId		= @PracticeId,
	       ProjectStatusId	= @ProjectStatusId,
	       BuyerName		= @BuyerName,
	       GroupId			= @GroupId,
	       IsChargeable		= @IsChargeable,
	       ProjectManagerId = @ProjectManagerId	       
	 WHERE ProjectId = @ProjectId

	-- End logging session
	EXEC dbo.SessionLogUnprepare]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[SessionLogPrepare]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectUpdate].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectUpdate].[@ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectUpdate].[@Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectUpdate].[@Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectUpdate].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectUpdate].[@PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectUpdate].[@ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectUpdate].[@BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectUpdate].[@GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectUpdate].[@IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectUpdate].[@ProjectManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectUpdate].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogUnprepare]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectUpdate].[@ProjectId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectUpdate].[@ClientId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectUpdate].[@Discount]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectUpdate].[@Terms]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectUpdate].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectUpdate].[@PracticeId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectUpdate].[@ProjectStatusId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectUpdate].[@BuyerName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectUpdate].[@UserLogin]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectUpdate].[@GroupId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectUpdate].[@IsChargeable]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ProjectUpdate].[@ProjectManagerId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="321" />
				<Property Name="Length" Value="1283" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-21-2008&#xD;&#xA;-- Updated by:&#x9;Anton Kramarenko&#xD;&#xA;-- Update date: 02-20-2009&#xD;&#xA;-- Updated by:&#x9;Anton Kolesnikov&#xD;&#xA;-- Update date: 07-16-2009&#xD;&#xA;-- Description:&#x9;Inserts a Project record&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.ProjectUpdate&#xD;&#xA;(&#xD;&#xA;&#x9;@ProjectId          INT,&#xD;&#xA;&#x9;@ClientId           INT,&#xD;&#xA;&#x9;@Discount           DECIMAL(18,2),&#xD;&#xA;&#x9;@Terms              INT,&#xD;&#xA;&#x9;@Name               NVARCHAR(100),&#xD;&#xA;&#x9;@PracticeId         INT,&#xD;&#xA;&#x9;@ProjectStatusId    INT,&#xD;&#xA;&#x9;@BuyerName          NVARCHAR(100),&#xD;&#xA;&#x9;@UserLogin          NVARCHAR(255),&#xD;&#xA;&#x9;@GroupId&#x9;&#x9;&#x9;INT,&#xD;&#xA;&#x9;@IsChargeable&#x9;&#x9;BIT,&#xD;&#xA;&#x9;@ProjectManagerId&#x9;INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[RecruiterCommission]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RecruiterCommission].[RecruiterId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RecruiterCommission].[RecruitId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RecruiterCommission].[HoursToCollect]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RecruiterCommission].[Amount]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[RecruiterCommissionDelete]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	DELETE
	  FROM dbo.RecruiterCommission
	 WHERE RecruitId = @RecruitId
	   AND RecruiterId = @RecruiterId
	   AND HoursToCollect = @OLD_HoursToCollect]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[RecruiterCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruitId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommissionDelete].[@RecruitId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruiterId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommissionDelete].[@RecruiterId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[HoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommissionDelete].[@OLD_HoursToCollect]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[RecruiterCommissionDelete].[@RecruitId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[RecruiterCommissionDelete].[@RecruiterId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[RecruiterCommissionDelete].[@OLD_HoursToCollect]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="288" />
				<Property Name="Length" Value="609" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-21-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;12-01-2008&#xD;&#xA;-- Description:&#x9;Deletes a recruiter commission for the given recruit&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[RecruiterCommissionDelete]&#xD;&#xA;(&#xD;&#xA;&#x9;@RecruitId            INT,&#xD;&#xA;&#x9;@RecruiterId          INT,&#xD;&#xA;&#x9;@OLD_HoursToCollect   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[RecruiterCommissionListByRecruitId]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT c.RecruiterId,
	       c.RecruitId,
	       c.HoursToCollect,
	       c.Amount
	  FROM dbo.RecruiterCommission AS c
	 WHERE c.RecruitId = @RecruitId
	ORDER BY c.HoursToCollect]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[RecruiterCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruiterId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruitId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[HoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommissionListByRecruitId].[@RecruitId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[RecruiterCommissionListByRecruitId].[@RecruitId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="239" />
				<Property Name="Length" Value="537" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--The source is &#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-21-2008&#xD;&#xA;-- Description:&#x9;List recruiter commission by the given recruit&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[RecruiterCommissionListByRecruitId]&#xD;&#xA;(&#xD;&#xA;&#x9;@RecruitId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[RecruiterCommissionSave]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	IF EXISTS (SELECT 1
	             FROM dbo.RecruiterCommission AS c
	            WHERE c.RecruitId = @RecruitId
	              AND c.HoursToCollect = @OLD_HoursToCollect)
	BEGIN
		UPDATE dbo.RecruiterCommission
		   SET Amount = @Amount,
		       HoursToCollect = @HoursToCollect
		 WHERE RecruitId = @RecruitId
		   AND HoursToCollect = @OLD_HoursToCollect
	END
	ELSE
	BEGIN
		INSERT INTO dbo.RecruiterCommission
		            (RecruiterId, RecruitId, HoursToCollect, Amount)
		     VALUES (@RecruiterId, @RecruitId, @HoursToCollect, @Amount)
	END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[RecruiterCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruitId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommissionSave].[@RecruitId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[HoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommissionSave].[@OLD_HoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommissionSave].[@Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[HoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommissionSave].[@HoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruitId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruiterId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommissionSave].[@RecruiterId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[RecruiterCommissionSave].[@RecruiterId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[RecruiterCommissionSave].[@RecruitId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[RecruiterCommissionSave].[@HoursToCollect]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[RecruiterCommissionSave].[@Amount]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Scale" Value="2" />
									<Property Name="Precision" Value="18" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[RecruiterCommissionSave].[@OLD_HoursToCollect]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="285" />
				<Property Name="Length" Value="1083" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-21-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;8-29-2008&#xD;&#xA;-- Description:&#x9;Saves a recruiter commission for the given recruit&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[RecruiterCommissionSave]&#xD;&#xA;(&#xD;&#xA;&#x9;@RecruiterId          INT,&#xD;&#xA;&#x9;@RecruitId            INT,&#xD;&#xA;&#x9;@HoursToCollect       INT,&#xD;&#xA;&#x9;@Amount               DECIMAL(18,2),&#xD;&#xA;&#x9;@OLD_HoursToCollect   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[RecruiterGet]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;

	if @ShowAll = 1
		select @HasRecruiter = count(*)
			from Recruiter
			where RecruiterId = @RecruiterId
	else
		select @HasRecruiter = count(*)
			from Recruiter
			where RecruiterId = @RecruiterId
				and Inactive = 0
	select @HasRecruiter
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[RecruiterGet].[@ShowAll]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[RecruiterGet].[@HasRecruiter]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[RecruiterGet].[@RecruiterId]" />
				</Entry>
				<Entry />
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[RecruiterGet].[@RecruiterId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[RecruiterGet].[@ShowAll]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[RecruiterGet].[@HasRecruiter]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="207" />
				<Property Name="Length" Value="604" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Skip Sailors&#xD;&#xA;-- Create date: 5-10-2008&#xD;&#xA;-- Description:&#x9;Does a recruiter exist for a person?&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[RecruiterGet] &#xD;&#xA;&#x9;@RecruiterId int,&#xD;&#xA;&#x9;@ShowAll bit = 0,&#xD;&#xA;&#x9;@HasRecruiter bit = 0 output&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[RecruiterInactivate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;

	Update Recruiter
		set Inactive = 1
		where RecruiterId = @RecruiterId
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[RecruiterInactivate].[@RecruiterId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[RecruiterInactivate].[@RecruiterId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="196" />
				<Property Name="Length" Value="425" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Skip Sailors&#xD;&#xA;-- Create date: 5-10-2008&#xD;&#xA;-- Description:&#x9;Inactivare recruiter role&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[RecruiterInactivate] &#xD;&#xA;&#x9;-- Add the parameters for the stored procedure here&#xD;&#xA;&#x9;@RecruiterId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[RecruiterInsert]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;

	Insert Recruiter (RecruiterId) values (@RecruiterId)
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[RecruiterInsert].[@RecruiterId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[RecruiterInsert].[@RecruiterId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="199" />
				<Property Name="Length" Value="350" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;SkipSailors&#xD;&#xA;-- Create date: 5-10-2008&#xD;&#xA;-- Description:&#x9;Add a recruiter to the system&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[RecruiterInsert] &#xD;&#xA;&#x9;@RecruiterId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[RecruiterReactivate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;

	Update Recruiter
		set Inactive = 0
		where RecruiterId = @RecruiterId
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[RecruiterReactivate].[@RecruiterId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[RecruiterReactivate].[@RecruiterId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="198" />
				<Property Name="Length" Value="372" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Skip Sailors&#xD;&#xA;-- Create date: 5-10-2008&#xD;&#xA;-- Description:&#x9;reactivate a recruiter role&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[RecruiterReactivate]&#xD;&#xA;&#x9;@RecruiterId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[RevenueType]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RevenueType].[RevenueTypeId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RevenueType].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[Seniority]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Seniority].[SeniorityId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Seniority].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="30" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[SeniorityListAll]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT e.SeniorityId, e.Name
	  FROM dbo.Seniority AS e
	ORDER BY e.SeniorityId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Seniority]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Seniority].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Seniority].[Name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="243" />
				<Property Name="Length" Value="391" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 9-09-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date: &#xD;&#xA;-- Description:&#x9;Selects a list of the seniorities&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[SeniorityListAll]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[SessionLogPrepare]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	IF NOT EXISTS (SELECT 1 FROM tempdb.sys.objects WHERE name = '##SessionLogData')
	BEGIN
		CREATE TABLE dbo.##SessionLogData
		(
			SessionID         INT NOT NULL,
			UserLogin         NVARCHAR(255) NULL,
			PersonID          INT NULL,
			LastName          NVARCHAR(100) NULL,
			FirstName         NVARCHAR(100) NULL,
			SystemUser        NVARCHAR(255) NOT NULL DEFAULT SYSTEM_USER,
			Workstation       NVARCHAR(128) NULL DEFAULT HOST_NAME(),
			ApplicationName   NVARCHAR(128) NULL DEFAULT APP_NAME(),
			CONSTRAINT PK_SessionLogData PRIMARY KEY (SessionID)
		)
	END

	IF NOT EXISTS (SELECT 1 FROM dbo.##SessionLogData WHERE SessionID = @@SPID)
	BEGIN
		INSERT INTO dbo.##SessionLogData
					(SessionID, UserLogin, PersonID, LastName, FirstName)
		SELECT @@SPID, @UserLogin, MAX(p.PersonId), MAX(p.LastName), MAX(p.FirstName)
		  FROM dbo.Person AS p
		 WHERE p.Alias = @UserLogin
	END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[SessionLogPrepare].[##SessionLogData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare].[##SessionLogData].[SessionID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare].[##SessionLogData].[SessionID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare].[##SessionLogData].[UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare].[##SessionLogData].[PersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare].[##SessionLogData].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare].[##SessionLogData].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[SessionLogPrepare].[##SessionLogData]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[SessionLogPrepare].[##SessionLogData].[SessionID]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[SessionLogPrepare].[##SessionLogData].[UserLogin]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="255" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[SessionLogPrepare].[##SessionLogData].[PersonID]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[SessionLogPrepare].[##SessionLogData].[LastName]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[SessionLogPrepare].[##SessionLogData].[FirstName]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[SessionLogPrepare].[##SessionLogData].[SystemUser]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="255" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[SessionLogPrepare].[##SessionLogData].[Workstation]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="128" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[SessionLogPrepare].[##SessionLogData].[ApplicationName]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Property Name="Length" Value="128" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SessionLogPrepare].[@UserLogin]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="6" />
				<Property Name="Length" Value="1020" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;CREATE PROCEDURE [dbo].[SessionLogPrepare]&#xD;&#xA;(&#xD;&#xA;&#x9;@UserLogin     NVARCHAR(255)&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[SessionLogUnprepare]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	IF EXISTS (SELECT 1 FROM tempdb.sys.objects WHERE name = '##SessionLogData')
	BEGIN
		DELETE
		  FROM ##SessionLogData
		 WHERE SessionID = @@SPID
	END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry />
				<Entry />
				<Entry />
				<Entry />
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="261" />
				<Property Name="Length" Value="487" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 10-14-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Prepares the data for logging the user's activity.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[SessionLogUnprepare]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[SetNewManager]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;

	UPDATE dbo.Person
	SET ManagerId = @NewManagerId
	WHERE ManagerId = @OldManagerId
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SetNewManager].[@NewManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SetNewManager].[@OldManagerId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SetNewManager].[@OldManagerId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SetNewManager].[@NewManagerId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="194" />
				<Property Name="Length" Value="394" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-01-18&#xD;&#xA;-- Description:&#x9;Sets new manager&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.SetNewManager &#xD;&#xA;&#x9;@OldManagerId INT, &#xD;&#xA;&#x9;@NewManagerId INT &#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[TimeEntries]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TimeEntries].[TimeEntryId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TimeEntries].[EntryDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TimeEntries].[ModifiedDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TimeEntries].[MilestonePersonId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TimeEntries].[ActualHours]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[real]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TimeEntries].[ForecastedHours]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[real]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TimeEntries].[TimeTypeId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TimeEntries].[ModifiedBy]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TimeEntries].[Note]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="1000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TimeEntries].[IsReviewed]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TimeEntries].[MilestoneDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TimeEntries].[IsChargeable]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TimeEntries].[IsCorrect]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[TimeEntriesAll]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
    BEGIN
        SET NOCOUNT ON ;
        
    DECLARE @SameProjectCondition VARCHAR(1000)    
    
    -- Get users roles
    --DECLARE @RequesterId INT 
    --SET @RequesterId = 3526
    
    DECLARE @IsAdminOrPM BIT,
			 @FirstRecord INT,
			 @LastRecord INT
			 
	SET @FirstRecord = @PageSize * @PageNo
	SET @LastRecord = @FirstRecord + @PageSize
	
    
    ;WITH RequestersRoles AS (
		SELECT r.RoleName 
		FROM dbo.Person AS p
		INNER JOIN dbo.aspnet_Users AS u ON u.UserName = p.Alias
		INNER JOIN dbo.aspnet_UsersInRoles AS ur ON u.UserId = ur.UserId
		INNER JOIN dbo.aspnet_Roles AS r ON ur.RoleId = r.RoleId
		WHERE p.PersonId = @RequesterId
    )
    SELECT @IsAdminOrPM = 1
    FROM RequestersRoles AS roles 
    WHERE roles.RoleName = 'Administrator' OR roles.RoleName = 'Practice Manager'
    
    IF ISNULL(@IsAdminOrPM, 0) = 0
    BEGIN    
		SET @SameProjectCondition = ' ' + 
			'AND PersonID IN (SELECT persons.PersonId ' + 
			'FROM dbo.MilestonePerson AS persons ' + 
			'WHERE persons.MilestoneId IN( ' + 
			'	SELECT mp.MilestoneId  ' + 
			'	FROM dbo.MilestonePerson AS mp WHERE mp.PersonId = ' + CAST(@RequesterId AS VARCHAR) + 
			'))' 
    END
    ELSE
		SET @SameProjectCondition = '';
	
	
	/*
		---	Describe filtering conditions
	*/
	DECLARE @PersonIdCondition VARCHAR(max)
	SET @PersonIdCondition = ' AND ( PersonId IN (' + ISNULL(@PersonIds, ''' ''') + ') )' 
		
	DECLARE @MilestoneDateCondition VARCHAR(100)
	SET @MilestoneDateCondition = 
		CASE 
			WHEN (@MilestoneDateFrom IS NULL) OR (@MilestoneDateTo IS NULL) THEN ' '
			ELSE ' AND ( [MilestoneDate] BETWEEN ''' + CONVERT(VARCHAR(8), @MilestoneDateFrom, 10) + '''
                                         AND ''' + CONVERT(VARCHAR(8), @MilestoneDateTo, 10) + ''' )'
		END 
		
	DECLARE @ForecastedHoursCondition VARCHAR(100)
	SET @ForecastedHoursCondition = 
		CASE 
			WHEN @ForecastedHoursFrom IS NULL
                      OR @ForecastedHoursTo IS NULL THEN ' '
			ELSE ' AND ( ForecastedHours >= ' + CAST(@ForecastedHoursFrom AS VARCHAR) + '
                        AND ForecastedHours <= ' + CAST(@ForecastedHoursTo AS VARCHAR) + ' )'
		END 
		
	DECLARE @ActualHoursCondition VARCHAR(100)
	SET @ActualHoursCondition = 
		CASE 
			WHEN @ActualHoursFrom IS NULL OR @ActualHoursTo IS NULL THEN ' '
			ELSE ' AND ( ActualHours >= ' + CAST(@ActualHoursFrom AS VARCHAR) + '
                        AND ActualHours <= ' + CAST(@ActualHoursTo AS VARCHAR) + ' )'
		END 
		
	DECLARE @ProjectIdsCondition VARCHAR(MAX)
	SET @ProjectIdsCondition = ' AND ( ProjectId IN (' + ISNULL(@ProjectIds, ''' ''') + ') )'
		
	IF @IsProjectChargeable IS NOT NULL
		SET @ProjectIdsCondition = @ProjectIdsCondition + ' AND (IsProjectChargeable = ' + CAST(@IsProjectChargeable AS VARCHAR) + ')'
		
	DECLARE @MilestoneIdCondition VARCHAR(100)
	SET @MilestoneIdCondition = 
		CASE 
			WHEN @MilestoneId IS NULL THEN ' '
			ELSE ' AND ( MilestoneId = ' + CAST(@MilestoneId AS VARCHAR) + ' )'
		END 
		
	DECLARE @MilestonePersonIdCondition VARCHAR(100)
	SET @MilestonePersonIdCondition = 
		CASE 
			WHEN @MilestonePersonId IS NULL THEN ' '
			ELSE ' AND ( MilestonePersonId = ' + CAST(@MilestonePersonId AS VARCHAR) + ' )'
		END 
		
	DECLARE @TimeTypeIdCondition VARCHAR(100)
	SET @TimeTypeIdCondition = 
		CASE 
			WHEN @TimeTypeId IS NULL THEN ' '
			ELSE ' AND ( TimeTypeId = ' + CAST(@TimeTypeId AS VARCHAR) + ' )'
		END 
		
	DECLARE @NotesCondition VARCHAR(100)
	SET @NotesCondition = 
		CASE 
			WHEN @Notes IS NULL THEN ' '
			ELSE ' AND (Note LIKE ''%' + @Notes + '%'')'
		END 
		
	DECLARE @IsReviewedCondition VARCHAR(100)
	SET @IsReviewedCondition = 
		CASE 
			WHEN @IsReviewed IS NULL THEN ' '
			WHEN @IsReviewed = 2 THEN ' AND ( IsReviewed IS NULL )'
			ELSE ' AND ( IsReviewed = ' + CAST(@IsReviewed AS VARCHAR) + ' )'
		END 
		
	DECLARE @IsCorrectCondition VARCHAR(100)
	SET @IsCorrectCondition = 
		CASE 
			WHEN @IsCorrect IS NULL THEN ' '
			ELSE ' AND ( IsCorrect = ' + CAST(@IsCorrect AS VARCHAR) + ' )'
		END 
		
	DECLARE @IsChargeableCondition VARCHAR(100)
	SET @IsChargeableCondition = 
		CASE 
			WHEN @IsChargeable IS NULL THEN ' '
			ELSE ' AND ( IsChargeable = ' + CAST(@IsChargeable AS VARCHAR) + ' )'
		END 
		
	DECLARE @ModifiedByCondition VARCHAR(100)
	SET @ModifiedByCondition = 
		CASE 
			WHEN @ModifiedBy IS NULL THEN ' '
			ELSE ' AND ( ModifiedBy = ' + CAST(@ModifiedBy AS VARCHAR) + ' )'
		END 
		
	DECLARE @EntryDateCondition VARCHAR(100)
	SET @EntryDateCondition = 
		CASE 
			WHEN @EntryDateFrom IS NULL OR @EntryDateTo IS NULL THEN ' '
			ELSE ' AND ( [EntryDate] BETWEEN ''' + CONVERT(VARCHAR(8), @EntryDateFrom, 10) + ''' AND '''+ 
						CONVERT(VARCHAR(8), @EntryDateTo, 10) + ''')'
		END 
		
	DECLARE @ModifiedDateCondition VARCHAR(100)
	SET @ModifiedDateCondition = 
		CASE 
			WHEN @ModifiedDateFrom IS NULL OR @ModifiedDateTo IS NULL THEN ' '
			ELSE ' AND ( [ModifiedDate] BETWEEN ''' + CONVERT(VARCHAR(8), @ModifiedDateFrom, 10) + ''' AND ''' +     
						CONVERT(VARCHAR(8), @ModifiedDateTo, 10) + ''' )'
		END 
	DECLARE @query VARCHAR(max)
	IF @FirstRecord IS NULL
	BEGIN
		SET @query = '
			SELECT  *
			FROM    v_TimeEntries
			WHERE   1=1 ' 
				+ @PersonIdCondition 
				+ @MilestoneDateCondition 
				+ @ForecastedHoursCondition 
				+ @ActualHoursCondition 
				+ @ProjectIdsCondition 
				+ @MilestoneIdCondition 
				+ @MilestonePersonIdCondition
				+ @TimeTypeIdCondition 
				+ @NotesCondition 
				+ @IsReviewedCondition 
				+ @ModifiedByCondition 
				+ @IsChargeableCondition 
				+ @IsCorrectCondition
				+ @EntryDateCondition 
				+ @ModifiedDateCondition
				+ @SameProjectCondition
		 + ISNULL(@SortExpression, ' ')
	END
	ELSE
	BEGIN
		IF ISNULL(@SortExpression,'') = ''
		SET @SortExpression =' ORDER BY ModifiedDate '

		SET @query = '
			SELECT *
			FROM (
			SELECT  TOP ('+CONVERT(VARCHAR(10),@LastRecord)+') 
				*,
				ROW_NUMBER() OVER(' + @SortExpression + ') - 1 AS rownum
			FROM    v_TimeEntries
			WHERE   1=1 ' 
				+ @PersonIdCondition 
				+ @MilestoneDateCondition 
				+ @ForecastedHoursCondition 
				+ @ActualHoursCondition 
				+ @ProjectIdsCondition 
				+ @MilestoneIdCondition 
				+ @MilestonePersonIdCondition
				+ @TimeTypeIdCondition 
				+ @NotesCondition 
				+ @IsReviewedCondition 
				+ @ModifiedByCondition 
				+ @IsChargeableCondition 
				+ @IsCorrectCondition
				+ @EntryDateCondition 
				+ @ModifiedDateCondition
				+ @SameProjectCondition
				+ @SortExpression
				+ ') Temp WHERE rownum BETWEEN '
				+ CONVERT(VARCHAR(10),@FirstRecord)+ ' AND ' 
				+ CONVERT(VARCHAR(10),@LastRecord - 1)
	   --PRINT @query 
	END
	
	EXEC(@query)    
    
    END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesAll].[@PageSize]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesAll].[@PageNo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesAll].[@RequesterId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleName]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesAll].[@PersonIds]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesAll].[@MilestoneDateFrom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesAll].[@MilestoneDateTo]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesAll].[@ForecastedHoursFrom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesAll].[@ForecastedHoursTo]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesAll].[@ActualHoursFrom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesAll].[@ActualHoursTo]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesAll].[@ProjectIds]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesAll].[@IsProjectChargeable]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesAll].[@MilestoneId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesAll].[@MilestonePersonId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesAll].[@TimeTypeId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesAll].[@Notes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesAll].[@IsReviewed]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesAll].[@IsCorrect]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesAll].[@IsChargeable]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesAll].[@ModifiedBy]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesAll].[@EntryDateFrom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesAll].[@EntryDateTo]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesAll].[@ModifiedDateFrom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesAll].[@ModifiedDateTo]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesAll].[@SortExpression]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[TimeEntriesAll].[CTE1].[RequestersRoles]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[TimeEntriesAll].[CTE1].[RequestersRoles].[RoleName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[aspnet_Roles].[RoleName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesAll].[@PersonIds]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesAll].[@MilestoneDateFrom]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesAll].[@MilestoneDateTo]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesAll].[@ForecastedHoursFrom]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[real]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesAll].[@ForecastedHoursTo]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[real]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesAll].[@ActualHoursFrom]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[real]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesAll].[@ActualHoursTo]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[real]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesAll].[@ProjectIds]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesAll].[@MilestonePersonId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesAll].[@MilestoneId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesAll].[@TimeTypeId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesAll].[@Notes]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesAll].[@IsReviewed]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesAll].[@IsCorrect]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesAll].[@EntryDateFrom]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesAll].[@EntryDateTo]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesAll].[@ModifiedDateFrom]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesAll].[@ModifiedDateTo]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesAll].[@ModifiedBy]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesAll].[@SortExpression]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesAll].[@IsChargeable]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesAll].[@RequesterId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesAll].[@IsProjectChargeable]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesAll].[@PageSize]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesAll].[@PageNo]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="193" />
				<Property Name="Length" Value="7926" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita G.&#xD;&#xA;-- Create date: 2009-12-24&#xD;&#xA;-- Description:&#x9;Returns all time entries&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[TimeEntriesAll]&#xD;&#xA;    @PersonIds VARCHAR(MAX) = NULL,&#xD;&#xA;    @MilestoneDateFrom DATETIME = NULL,&#xD;&#xA;    @MilestoneDateTo DATETIME = NULL,&#xD;&#xA;    @ForecastedHoursFrom REAL = NULL,&#xD;&#xA;    @ForecastedHoursTo REAL = NULL,&#xD;&#xA;    @ActualHoursFrom REAL = NULL,&#xD;&#xA;    @ActualHoursTo REAL = NULL,&#xD;&#xA;    @ProjectIds VARCHAR(MAX) = NULL,&#xD;&#xA;    @MilestonePersonId INT = NULL,&#xD;&#xA;    @MilestoneId INT = NULL,&#xD;&#xA;    @TimeTypeId INT = NULL,&#xD;&#xA;    @Notes VARCHAR(50) = NULL,&#xD;&#xA;    @IsReviewed INT = NULL,&#xD;&#xA;    @IsCorrect BIT = NULL,&#xD;&#xA;    @EntryDateFrom DATETIME = NULL,&#xD;&#xA;    @EntryDateTo DATETIME = NULL,&#xD;&#xA;    @ModifiedDateFrom DATETIME = NULL,&#xD;&#xA;    @ModifiedDateTo DATETIME = NULL,&#xD;&#xA;    @ModifiedBy INT = NULL,&#xD;&#xA;    @SortExpression VARCHAR(500) = NULL,&#xD;&#xA;&#x9;@IsChargeable BIT = NULL,&#xD;&#xA;&#x9;@RequesterId INT,&#xD;&#xA;&#x9;@IsProjectChargeable BIT = NULL,&#xD;&#xA;&#x9;@PageSize      INT = NULL,&#xD;&#xA;&#x9;@PageNo        INT = NULL&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[TimeEntriesGetByManyPersons]">
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
	SET NOCOUNT ON;

	-- Convert project owner ids from string to table
	declare @PersonList table (Id int)
	insert into @PersonList
	select * FROM dbo.ConvertStringListIntoTable(@PersonIds)
		
	select te.*
	from v_TimeEntries as te
	where te.PersonId in (select Id from @PersonList)
		AND te.MilestoneDate between ISNULL(@StartDate, te.MilestoneDate) and ISNULL(@EndDate, te.MilestoneDate)
	order by te.ProjectId, te.MilestoneDate
RETURN 0]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[TimeEntriesGetByManyPersons].[@PersonIds]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConvertStringListIntoTable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetByManyPersons].[@PersonList].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[MilestoneDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetByManyPersons].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetByManyPersons].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[ProjectId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[TimeEntriesGetByManyPersons].[@PersonList]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[TimeEntriesGetByManyPersons].[@PersonList].[Id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetByManyPersons].[@PersonIds]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetByManyPersons].[@StartDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetByManyPersons].[@EndDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="692" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[TimeEntriesGetByManyPersons]&#xD;&#xA;&#x9;@PersonIds&#x9;varchar(max),&#xD;&#xA;&#x9;@StartDate&#x9;datetime = NULL,&#xD;&#xA;&#x9;@EndDate&#x9;datetime = NULL&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[TimeEntriesGetByPerson]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
	SET NOCOUNT ON;
	
	select te.*
	from v_TimeEntries as te
	where te.PersonId = @PersonId
		AND te.MilestoneDate between ISNULL(@StartDate, te.MilestoneDate) and ISNULL(@EndDate, te.MilestoneDate)
	order by te.ProjectId, te.MilestoneDate
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_TimeEntries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetByPerson].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[MilestoneDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetByPerson].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetByPerson].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[ProjectId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetByPerson].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetByPerson].[@StartDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetByPerson].[@EndDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="474" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE TimeEntriesGetByPerson&#xD;&#xA;&#x9;@PersonId&#x9;INT,&#xD;&#xA;&#x9;@StartDate&#x9;datetime = NULL,&#xD;&#xA;&#x9;@EndDate&#x9;datetime = NULL&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[TimeEntriesGetByProject]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
	SET NOCOUNT ON;
	
	select te.*
	from v_TimeEntries as te
	where te.ProjectId = @ProjectId
		AND te.MilestoneDate between ISNULL(@StartDate, te.MilestoneDate) and ISNULL(@EndDate, te.MilestoneDate)
		AND ((@PersonIds IS NULL) OR (te.PersonId IN (SELECT ResultId FROM dbo.ConvertStringListIntoTable(@PersonIds))))
	order by te.PersonId, te.MilestoneDate
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_TimeEntries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetByProject].[@ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[MilestoneDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetByProject].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetByProject].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetByProject].[@PersonIds]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConvertStringListIntoTable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConvertStringListIntoTable].[ResultId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetByProject].[@ProjectId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetByProject].[@StartDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetByProject].[@EndDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetByProject].[@PersonIds]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="628" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE TimeEntriesGetByProject&#xD;&#xA;&#x9;@ProjectId&#x9;INT,&#xD;&#xA;&#x9;@StartDate&#x9;datetime = NULL,&#xD;&#xA;&#x9;@EndDate&#x9;datetime = NULL,&#xD;&#xA;&#x9;@PersonIds  VARCHAR(MAX) = NULL&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[TimeEntriesGetCount]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
    BEGIN
        SET NOCOUNT ON ;
        
    DECLARE @SameProjectCondition VARCHAR(1000)    
    
    -- Get users roles
    --DECLARE @RequesterId INT 
    --SET @RequesterId = 3526
    
    DECLARE @IsAdminOrPM BIT 
    
    ;WITH RequestersRoles AS (
		SELECT r.RoleName 
		FROM dbo.Person AS p
		INNER JOIN dbo.aspnet_Users AS u ON u.UserName = p.Alias
		INNER JOIN dbo.aspnet_UsersInRoles AS ur ON u.UserId = ur.UserId
		INNER JOIN dbo.aspnet_Roles AS r ON ur.RoleId = r.RoleId
		WHERE p.PersonId = @RequesterId
    )
    SELECT @IsAdminOrPM = 1
    FROM RequestersRoles AS roles 
    WHERE roles.RoleName = 'Administrator' OR roles.RoleName = 'Practice Manager'
    
    IF ISNULL(@IsAdminOrPM, 0) = 0
    BEGIN    
		SET @SameProjectCondition = ' ' + 
			'AND PersonID IN (SELECT persons.PersonId ' + 
			'FROM dbo.MilestonePerson AS persons ' + 
			'WHERE persons.MilestoneId IN( ' + 
			'	SELECT mp.MilestoneId  ' + 
			'	FROM dbo.MilestonePerson AS mp WHERE mp.PersonId = ' + CAST(@RequesterId AS VARCHAR) + 
			'))' 
    END
    ELSE
		SET @SameProjectCondition = '';
	
	
	/*
		---	Describe filtering conditions
	*/
	DECLARE @PersonIdCondition VARCHAR(max)
	SET @PersonIdCondition = ' AND ( PersonId IN (' + ISNULL(@PersonIds, ''' ''') + ') )' 
		
	DECLARE @MilestoneDateCondition VARCHAR(100)
	SET @MilestoneDateCondition = 
		CASE 
			WHEN (@MilestoneDateFrom IS NULL) OR (@MilestoneDateTo IS NULL) THEN ' '
			ELSE ' AND ( [MilestoneDate] BETWEEN ''' + CONVERT(VARCHAR(8), @MilestoneDateFrom, 10) + '''
                                         AND ''' + CONVERT(VARCHAR(8), @MilestoneDateTo, 10) + ''' )'
		END 
		
	DECLARE @ForecastedHoursCondition VARCHAR(100)
	SET @ForecastedHoursCondition = 
		CASE 
			WHEN @ForecastedHoursFrom IS NULL
                      OR @ForecastedHoursTo IS NULL THEN ' '
			ELSE ' AND ( ForecastedHours >= ' + CAST(@ForecastedHoursFrom AS VARCHAR) + '
                        AND ForecastedHours <= ' + CAST(@ForecastedHoursTo AS VARCHAR) + ' )'
		END 
		
	DECLARE @ActualHoursCondition VARCHAR(100)
	SET @ActualHoursCondition = 
		CASE 
			WHEN @ActualHoursFrom IS NULL OR @ActualHoursTo IS NULL THEN ' '
			ELSE ' AND ( ActualHours >= ' + CAST(@ActualHoursFrom AS VARCHAR) + '
                        AND ActualHours <= ' + CAST(@ActualHoursTo AS VARCHAR) + ' )'
		END 
		
	DECLARE @ProjectIdsCondition VARCHAR(MAX)
	SET @ProjectIdsCondition = ' AND ( ProjectId IN (' + ISNULL(@ProjectIds, ''' ''') + ') )'
		
	IF @IsProjectChargeable IS NOT NULL
		SET @ProjectIdsCondition = @ProjectIdsCondition + ' AND (IsProjectChargeable = ' + CAST(@IsProjectChargeable AS VARCHAR) + ')'
		
	DECLARE @MilestoneIdCondition VARCHAR(100)
	SET @MilestoneIdCondition = 
		CASE 
			WHEN @MilestoneId IS NULL THEN ' '
			ELSE ' AND ( MilestoneId = ' + CAST(@MilestoneId AS VARCHAR) + ' )'
		END 
		
	DECLARE @MilestonePersonIdCondition VARCHAR(100)
	SET @MilestonePersonIdCondition = 
		CASE 
			WHEN @MilestonePersonId IS NULL THEN ' '
			ELSE ' AND ( MilestonePersonId = ' + CAST(@MilestonePersonId AS VARCHAR) + ' )'
		END 
		
	DECLARE @TimeTypeIdCondition VARCHAR(100)
	SET @TimeTypeIdCondition = 
		CASE 
			WHEN @TimeTypeId IS NULL THEN ' '
			ELSE ' AND ( TimeTypeId = ' + CAST(@TimeTypeId AS VARCHAR) + ' )'
		END 
		
	DECLARE @NotesCondition VARCHAR(100)
	SET @NotesCondition = 
		CASE 
			WHEN @Notes IS NULL THEN ' '
			ELSE ' AND (Note LIKE ''%' + @Notes + '%'')'
		END 
		
	DECLARE @IsReviewedCondition VARCHAR(100)
	SET @IsReviewedCondition = 
		CASE 
			WHEN @IsReviewed IS NULL THEN ' '
			WHEN @IsReviewed = 2 THEN ' AND ( IsReviewed IS NULL )'
			ELSE ' AND ( IsReviewed = ' + CAST(@IsReviewed AS VARCHAR) + ' )'
		END 
		
	DECLARE @IsCorrectCondition VARCHAR(100)
	SET @IsCorrectCondition = 
		CASE 
			WHEN @IsCorrect IS NULL THEN ' '
			ELSE ' AND ( IsCorrect = ' + CAST(@IsCorrect AS VARCHAR) + ' )'
		END 
		
	DECLARE @IsChargeableCondition VARCHAR(100)
	SET @IsChargeableCondition = 
		CASE 
			WHEN @IsChargeable IS NULL THEN ' '
			ELSE ' AND ( IsChargeable = ' + CAST(@IsChargeable AS VARCHAR) + ' )'
		END 
		
	DECLARE @ModifiedByCondition VARCHAR(100)
	SET @ModifiedByCondition = 
		CASE 
			WHEN @ModifiedBy IS NULL THEN ' '
			ELSE ' AND ( ModifiedBy = ' + CAST(@ModifiedBy AS VARCHAR) + ' )'
		END 
		
	DECLARE @EntryDateCondition VARCHAR(100)
	SET @EntryDateCondition = 
		CASE 
			WHEN @EntryDateFrom IS NULL OR @EntryDateTo IS NULL THEN ' '
			ELSE ' AND ( [EntryDate] BETWEEN ''' + CONVERT(VARCHAR(8), @EntryDateFrom, 10) + ''' AND '''+ 
						CONVERT(VARCHAR(8), @EntryDateTo, 10) + ''')'
		END 
		
	DECLARE @ModifiedDateCondition VARCHAR(100)
	SET @ModifiedDateCondition = 
		CASE 
			WHEN @ModifiedDateFrom IS NULL OR @ModifiedDateTo IS NULL THEN ' '
			ELSE ' AND ( [ModifiedDate] BETWEEN ''' + CONVERT(VARCHAR(8), @ModifiedDateFrom, 10) + ''' AND ''' +     
						CONVERT(VARCHAR(8), @ModifiedDateTo, 10) + ''' )'
		END 
		

	
	DECLARE @query VARCHAR(max)
	SET @query = '
        SELECT  COUNT(*) TimeEntriesCount
        FROM    v_TimeEntries
        WHERE   1=1 ' 
			+ @PersonIdCondition 
			+ @MilestoneDateCondition 
			+ @ForecastedHoursCondition 
			+ @ActualHoursCondition 
			+ @ProjectIdsCondition 
			+ @MilestoneIdCondition 
			+ @MilestonePersonIdCondition
			+ @TimeTypeIdCondition 
			+ @NotesCondition 
			+ @IsReviewedCondition 
			+ @ModifiedByCondition 
			+ @IsChargeableCondition 
			+ @IsCorrectCondition
			+ @EntryDateCondition 
			+ @ModifiedDateCondition
			+ @SameProjectCondition
    
   --PRINT @query 
    
   EXEC(@query)
    
    
    END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetCount].[@RequesterId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleName]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetCount].[@PersonIds]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetCount].[@MilestoneDateFrom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetCount].[@MilestoneDateTo]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetCount].[@ForecastedHoursFrom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetCount].[@ForecastedHoursTo]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetCount].[@ActualHoursFrom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetCount].[@ActualHoursTo]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetCount].[@ProjectIds]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetCount].[@IsProjectChargeable]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetCount].[@MilestoneId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetCount].[@MilestonePersonId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetCount].[@TimeTypeId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetCount].[@Notes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetCount].[@IsReviewed]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetCount].[@IsCorrect]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetCount].[@IsChargeable]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetCount].[@ModifiedBy]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetCount].[@EntryDateFrom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetCount].[@EntryDateTo]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetCount].[@ModifiedDateFrom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetCount].[@ModifiedDateTo]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[TimeEntriesGetCount].[CTE1].[RequestersRoles]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[TimeEntriesGetCount].[CTE1].[RequestersRoles].[RoleName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[aspnet_Roles].[RoleName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetCount].[@PersonIds]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetCount].[@MilestoneDateFrom]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetCount].[@MilestoneDateTo]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetCount].[@ForecastedHoursFrom]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[real]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetCount].[@ForecastedHoursTo]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[real]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetCount].[@ActualHoursFrom]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[real]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetCount].[@ActualHoursTo]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[real]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetCount].[@ProjectIds]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetCount].[@MilestonePersonId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetCount].[@MilestoneId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetCount].[@TimeTypeId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetCount].[@Notes]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetCount].[@IsReviewed]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetCount].[@IsCorrect]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetCount].[@EntryDateFrom]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetCount].[@EntryDateTo]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetCount].[@ModifiedDateFrom]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetCount].[@ModifiedDateTo]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetCount].[@ModifiedBy]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetCount].[@IsChargeable]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetCount].[@RequesterId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetCount].[@IsProjectChargeable]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="6514" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[TimeEntriesGetCount]&#xD;&#xA;    @PersonIds VARCHAR(MAX) = NULL,&#xD;&#xA;    @MilestoneDateFrom DATETIME = NULL,&#xD;&#xA;    @MilestoneDateTo DATETIME = NULL,&#xD;&#xA;    @ForecastedHoursFrom REAL = NULL,&#xD;&#xA;    @ForecastedHoursTo REAL = NULL,&#xD;&#xA;    @ActualHoursFrom REAL = NULL,&#xD;&#xA;    @ActualHoursTo REAL = NULL,&#xD;&#xA;    @ProjectIds VARCHAR(MAX) = NULL,&#xD;&#xA;    @MilestonePersonId INT = NULL,&#xD;&#xA;    @MilestoneId INT = NULL,&#xD;&#xA;    @TimeTypeId INT = NULL,&#xD;&#xA;    @Notes VARCHAR(50) = NULL,&#xD;&#xA;    @IsReviewed INT = NULL,&#xD;&#xA;    @IsCorrect BIT = NULL,&#xD;&#xA;    @EntryDateFrom DATETIME = NULL,&#xD;&#xA;    @EntryDateTo DATETIME = NULL,&#xD;&#xA;    @ModifiedDateFrom DATETIME = NULL,&#xD;&#xA;    @ModifiedDateTo DATETIME = NULL,&#xD;&#xA;    @ModifiedBy INT = NULL,&#xD;&#xA;&#x9;@IsChargeable BIT = NULL,&#xD;&#xA;&#x9;@RequesterId INT,&#xD;&#xA;&#x9;@IsProjectChargeable BIT = NULL&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[TimeEntriesGetTotals]">
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
    BEGIN
        SET NOCOUNT ON ;
        
    DECLARE @SameProjectCondition VARCHAR(1000)    
    
    -- Get users roles
    --DECLARE @RequesterId INT 
    --SET @RequesterId = 3526
    
    DECLARE @IsAdminOrPM BIT 
    
    ;WITH RequestersRoles AS (
		SELECT r.RoleName 
		FROM dbo.Person AS p
		INNER JOIN dbo.aspnet_Users AS u ON u.UserName = p.Alias
		INNER JOIN dbo.aspnet_UsersInRoles AS ur ON u.UserId = ur.UserId
		INNER JOIN dbo.aspnet_Roles AS r ON ur.RoleId = r.RoleId
		WHERE p.PersonId = @RequesterId
    )
    SELECT @IsAdminOrPM = 1
    FROM RequestersRoles AS roles 
    WHERE roles.RoleName = 'Administrator' OR roles.RoleName = 'Practice Manager'
    
    IF ISNULL(@IsAdminOrPM, 0) = 0
    BEGIN    
		SET @SameProjectCondition = ' ' + 
			'AND PersonID IN (SELECT persons.PersonId ' + 
			'FROM dbo.MilestonePerson AS persons ' + 
			'WHERE persons.MilestoneId IN( ' + 
			'	SELECT mp.MilestoneId  ' + 
			'	FROM dbo.MilestonePerson AS mp WHERE mp.PersonId = ' + CAST(@RequesterId AS VARCHAR) + 
			'))' 
    END
    ELSE
		SET @SameProjectCondition = '';
	
	
	/*
		---	Describe filtering conditions
	*/
	DECLARE @PersonIdCondition VARCHAR(max)
	SET @PersonIdCondition = ' AND ( PersonId IN (' + ISNULL(@PersonIds, ''' ''') + ') )' 
		
	DECLARE @MilestoneDateCondition VARCHAR(100)
	SET @MilestoneDateCondition = 
		CASE 
			WHEN (@MilestoneDateFrom IS NULL) OR (@MilestoneDateTo IS NULL) THEN ' '
			ELSE ' AND ( [MilestoneDate] BETWEEN ''' + CONVERT(VARCHAR(8), @MilestoneDateFrom, 10) + '''
                                         AND ''' + CONVERT(VARCHAR(8), @MilestoneDateTo, 10) + ''' )'
		END 
		
	DECLARE @ForecastedHoursCondition VARCHAR(100)
	SET @ForecastedHoursCondition = 
		CASE 
			WHEN @ForecastedHoursFrom IS NULL
                      OR @ForecastedHoursTo IS NULL THEN ' '
			ELSE ' AND ( ForecastedHours >= ' + CAST(@ForecastedHoursFrom AS VARCHAR) + '
                        AND ForecastedHours <= ' + CAST(@ForecastedHoursTo AS VARCHAR) + ' )'
		END 
		
	DECLARE @ActualHoursCondition VARCHAR(100)
	SET @ActualHoursCondition = 
		CASE 
			WHEN @ActualHoursFrom IS NULL OR @ActualHoursTo IS NULL THEN ' '
			ELSE ' AND ( ActualHours >= ' + CAST(@ActualHoursFrom AS VARCHAR) + '
                        AND ActualHours <= ' + CAST(@ActualHoursTo AS VARCHAR) + ' )'
		END 
		
	DECLARE @ProjectIdsCondition VARCHAR(MAX)
	SET @ProjectIdsCondition = ' AND ( ProjectId IN (' + ISNULL(@ProjectIds, ''' ''') + ') )'
		
	IF @IsProjectChargeable IS NOT NULL
		SET @ProjectIdsCondition = @ProjectIdsCondition + ' AND (IsProjectChargeable = ' + CAST(@IsProjectChargeable AS VARCHAR) + ')'
		
	DECLARE @MilestoneIdCondition VARCHAR(100)
	SET @MilestoneIdCondition = 
		CASE 
			WHEN @MilestoneId IS NULL THEN ' '
			ELSE ' AND ( MilestoneId = ' + CAST(@MilestoneId AS VARCHAR) + ' )'
		END 
		
	DECLARE @MilestonePersonIdCondition VARCHAR(100)
	SET @MilestonePersonIdCondition = 
		CASE 
			WHEN @MilestonePersonId IS NULL THEN ' '
			ELSE ' AND ( MilestonePersonId = ' + CAST(@MilestonePersonId AS VARCHAR) + ' )'
		END 
		
	DECLARE @TimeTypeIdCondition VARCHAR(100)
	SET @TimeTypeIdCondition = 
		CASE 
			WHEN @TimeTypeId IS NULL THEN ' '
			ELSE ' AND ( TimeTypeId = ' + CAST(@TimeTypeId AS VARCHAR) + ' )'
		END 
		
	DECLARE @NotesCondition VARCHAR(100)
	SET @NotesCondition = 
		CASE 
			WHEN @Notes IS NULL THEN ' '
			ELSE ' AND (Note LIKE ''%' + @Notes + '%'')'
		END 
		
	DECLARE @IsReviewedCondition VARCHAR(100)
	SET @IsReviewedCondition = 
		CASE 
			WHEN @IsReviewed IS NULL THEN ' '
			WHEN @IsReviewed = 2 THEN ' AND ( IsReviewed IS NULL )'
			ELSE ' AND ( IsReviewed = ' + CAST(@IsReviewed AS VARCHAR) + ' )'
		END 
		
	DECLARE @IsCorrectCondition VARCHAR(100)
	SET @IsCorrectCondition = 
		CASE 
			WHEN @IsCorrect IS NULL THEN ' '
			ELSE ' AND ( IsCorrect = ' + CAST(@IsCorrect AS VARCHAR) + ' )'
		END 
		
	DECLARE @IsChargeableCondition VARCHAR(100)
	SET @IsChargeableCondition = 
		CASE 
			WHEN @IsChargeable IS NULL THEN ' '
			ELSE ' AND ( IsChargeable = ' + CAST(@IsChargeable AS VARCHAR) + ' )'
		END 
		
	DECLARE @ModifiedByCondition VARCHAR(100)
	SET @ModifiedByCondition = 
		CASE 
			WHEN @ModifiedBy IS NULL THEN ' '
			ELSE ' AND ( ModifiedBy = ' + CAST(@ModifiedBy AS VARCHAR) + ' )'
		END 
		
	DECLARE @EntryDateCondition VARCHAR(100)
	SET @EntryDateCondition = 
		CASE 
			WHEN @EntryDateFrom IS NULL OR @EntryDateTo IS NULL THEN ' '
			ELSE ' AND ( [EntryDate] BETWEEN ''' + CONVERT(VARCHAR(8), @EntryDateFrom, 10) + ''' AND '''+ 
						CONVERT(VARCHAR(8), @EntryDateTo, 10) + ''')'
		END 
		
	DECLARE @ModifiedDateCondition VARCHAR(100)
	SET @ModifiedDateCondition = 
		CASE 
			WHEN @ModifiedDateFrom IS NULL OR @ModifiedDateTo IS NULL THEN ' '
			ELSE ' AND ( [ModifiedDate] BETWEEN ''' + CONVERT(VARCHAR(8), @ModifiedDateFrom, 10) + ''' AND ''' +     
						CONVERT(VARCHAR(8), @ModifiedDateTo, 10) + ''' )'
		END 
		

	
	DECLARE @query VARCHAR(max)
	SET @query = '
        SELECT  
			sum(ActualHours) as TotalActualHours,
			sum(ForecastedHours) as TotalForecastedHours
        FROM    v_TimeEntries
        WHERE   1=1 ' 
			+ @PersonIdCondition 
			+ @MilestoneDateCondition 
			+ @ForecastedHoursCondition 
			+ @ActualHoursCondition 
			+ @ProjectIdsCondition 
			+ @MilestoneIdCondition 
			+ @MilestonePersonIdCondition
			+ @TimeTypeIdCondition 
			+ @NotesCondition 
			+ @IsReviewedCondition 
			+ @ModifiedByCondition 
			+ @IsChargeableCondition 
			+ @IsCorrectCondition
			+ @EntryDateCondition 
			+ @ModifiedDateCondition
			+ @SameProjectCondition
    
   --PRINT @query 
    
   EXEC(@query)
    
end]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetTotals].[@RequesterId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleName]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetTotals].[@PersonIds]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetTotals].[@MilestoneDateFrom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetTotals].[@MilestoneDateTo]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetTotals].[@ForecastedHoursFrom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetTotals].[@ForecastedHoursTo]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetTotals].[@ActualHoursFrom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetTotals].[@ActualHoursTo]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetTotals].[@ProjectIds]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetTotals].[@IsProjectChargeable]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetTotals].[@MilestoneId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetTotals].[@MilestonePersonId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetTotals].[@TimeTypeId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetTotals].[@Notes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetTotals].[@IsReviewed]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetTotals].[@IsCorrect]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetTotals].[@IsChargeable]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetTotals].[@ModifiedBy]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetTotals].[@EntryDateFrom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetTotals].[@EntryDateTo]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetTotals].[@ModifiedDateFrom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesGetTotals].[@ModifiedDateTo]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[TimeEntriesGetTotals].[CTE1].[RequestersRoles]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[TimeEntriesGetTotals].[CTE1].[RequestersRoles].[RoleName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[aspnet_Roles].[RoleName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetTotals].[@PersonIds]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetTotals].[@MilestoneDateFrom]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetTotals].[@MilestoneDateTo]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetTotals].[@ForecastedHoursFrom]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[real]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetTotals].[@ForecastedHoursTo]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[real]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetTotals].[@ActualHoursFrom]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[real]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetTotals].[@ActualHoursTo]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[real]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetTotals].[@ProjectIds]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetTotals].[@MilestonePersonId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetTotals].[@MilestoneId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetTotals].[@TimeTypeId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetTotals].[@Notes]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetTotals].[@IsReviewed]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetTotals].[@IsCorrect]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetTotals].[@EntryDateFrom]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetTotals].[@EntryDateTo]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetTotals].[@ModifiedDateFrom]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetTotals].[@ModifiedDateTo]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetTotals].[@ModifiedBy]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetTotals].[@IsChargeable]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetTotals].[@RequesterId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesGetTotals].[@IsProjectChargeable]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="6571" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[TimeEntriesGetTotals]&#xD;&#xA;    @PersonIds VARCHAR(MAX) = NULL,&#xD;&#xA;    @MilestoneDateFrom DATETIME = NULL,&#xD;&#xA;    @MilestoneDateTo DATETIME = NULL,&#xD;&#xA;    @ForecastedHoursFrom REAL = NULL,&#xD;&#xA;    @ForecastedHoursTo REAL = NULL,&#xD;&#xA;    @ActualHoursFrom REAL = NULL,&#xD;&#xA;    @ActualHoursTo REAL = NULL,&#xD;&#xA;    @ProjectIds VARCHAR(MAX) = NULL,&#xD;&#xA;    @MilestonePersonId INT = NULL,&#xD;&#xA;    @MilestoneId INT = NULL,&#xD;&#xA;    @TimeTypeId INT = NULL,&#xD;&#xA;    @Notes VARCHAR(50) = NULL,&#xD;&#xA;    @IsReviewed INT = NULL,&#xD;&#xA;    @IsCorrect BIT = NULL,&#xD;&#xA;    @EntryDateFrom DATETIME = NULL,&#xD;&#xA;    @EntryDateTo DATETIME = NULL,&#xD;&#xA;    @ModifiedDateFrom DATETIME = NULL,&#xD;&#xA;    @ModifiedDateTo DATETIME = NULL,&#xD;&#xA;    @ModifiedBy INT = NULL,&#xD;&#xA;&#x9;@IsChargeable BIT = NULL,&#xD;&#xA;&#x9;@RequesterId INT,&#xD;&#xA;&#x9;@IsProjectChargeable BIT = NULL&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[TimeEntriesRemove]">
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	delete 
	from TimeEntries
	where 
		MilestonePersonId = @MilestonePersonId and 
		TimeTypeId = @TimeTypeId and 
		MilestoneDate between @StartDate and @EndDate]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[TimeEntries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesRemove].[@MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[TimeTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesRemove].[@TimeTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[MilestoneDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesRemove].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntriesRemove].[@EndDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesRemove].[@MilestonePersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesRemove].[@TimeTypeId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesRemove].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntriesRemove].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="302" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[TimeEntriesRemove]&#xD;&#xA;&#x9;@MilestonePersonId int, &#xD;&#xA;&#x9;@TimeTypeId int,&#xD;&#xA;&#x9;@StartDate datetime,&#xD;&#xA;&#x9;@EndDate datetime&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[TimeEntryAllMilestones]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;
	
        SELECT  DISTINCT m.MilestoneId,
                m.Description AS 'MilestoneName',
                proj.ProjectId,
                proj.[Name] AS 'ProjectName',
				proj.ProjectNumber
        FROM    TimeEntries AS te
                INNER JOIN dbo.MilestonePerson AS mp ON mp.MilestonePersonId = te.MilestonePersonId
                INNER JOIN dbo.MilestonePersonEntry AS mpe ON mp.MilestonePersonId = mpe.MilestonePersonId
                INNER JOIN dbo.Milestone AS m ON m.MilestoneId = mp.MilestoneId
                INNER JOIN dbo.Project AS proj ON proj.ProjectId = m.ProjectId
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[TimeEntries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectNumber]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="225" />
				<Property Name="Length" Value="908" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita G.&#xD;&#xA;-- Create date: 2009-12-25&#xD;&#xA;-- Description:&#x9;Retrieves all persons that have entered TE at least once&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE  PROCEDURE dbo.TimeEntryAllMilestones &#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[TimeEntryAllPersons]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;
	
    SELECT  DISTINCT objp.PersonId,
            objp.FirstName AS 'ObjectFirstName',
            objp.LastName AS 'ObjectLastName'
    FROM    TimeEntries AS te
            INNER JOIN dbo.MilestonePerson AS mp ON mp.MilestonePersonId = te.MilestonePersonId
            INNER JOIN dbo.MilestonePersonEntry AS mpe ON mp.MilestonePersonId = mpe.MilestonePersonId
            INNER JOIN dbo.Person AS objp ON objp.PersonId = mp.PersonId
	WHERE (te.MilestoneDate BETWEEN @EntryStartDate AND @EntryEndDate) OR @EntryStartDate IS NULL OR @EntryEndDate IS NULL
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[TimeEntries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[MilestoneDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryAllPersons].[@EntryStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryAllPersons].[@EntryEndDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryAllPersons].[@EntryStartDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryAllPersons].[@EntryEndDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="225" />
				<Property Name="Length" Value="931" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita G.&#xD;&#xA;-- Create date: 2009-12-25&#xD;&#xA;-- Description:&#x9;Retrieves all persons that have entered TE at least once&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE  PROCEDURE dbo.TimeEntryAllPersons&#xD;&#xA;&#x9;@EntryStartDate DATETIME = NULL,&#xD;&#xA;&#x9;@EntryEndDate DATETIME = NULL&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[TimeEntryHoursByManyPersonsProject]">
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON;

	-- Convert project owner ids from string to table
	declare @PersonList table (Id int)
	insert into @PersonList
	select * FROM dbo.ConvertStringListIntoTable(@PersonIds)

 	select te.MilestoneDate, te.ProjectId as [Id], te.ProjectName as [Name], SUM(te.ActualHours) as ActualHours
	from v_TimeEntries as te
	where te.MilestoneDate between @StartDate and @EndDate
			and te.PersonId in (select Id from @PersonList)
	group by te.MilestoneDate, te.ProjectId, te.ProjectName
	order by te.ProjectId
RETURN 0]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[TimeEntryHoursByManyPersonsProject].[@PersonIds]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ConvertStringListIntoTable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[MilestoneDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[ProjectName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[ActualHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryHoursByManyPersonsProject].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryHoursByManyPersonsProject].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryHoursByManyPersonsProject].[@PersonList].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[ProjectName]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[TimeEntryHoursByManyPersonsProject].[@PersonList]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql100SimpleColumn" Name="[dbo].[TimeEntryHoursByManyPersonsProject].[@PersonList].[Id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="ISql90TypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryHoursByManyPersonsProject].[@PersonIds]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryHoursByManyPersonsProject].[@StartDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryHoursByManyPersonsProject].[@EndDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="682" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[TimeEntryHoursByManyPersonsProject]&#xD;&#xA;&#x9;@PersonIds&#x9;varchar(max),&#xD;&#xA;&#x9;@StartDate&#x9;datetime = NULL,&#xD;&#xA;&#x9;@EndDate&#x9;datetime = NULL&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[TimeEntryHoursByPersonProject]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;

 	select te.MilestoneDate, te.ProjectId as [Id], te.ProjectName as [Name], SUM(te.ActualHours) as ActualHours
	from v_TimeEntries as te
	where te.MilestoneDate between @StartDate and @EndDate
			and te.PersonId = @PersonId
	group by te.MilestoneDate, te.ProjectId, te.ProjectName
	order by te.ProjectId
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_TimeEntries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[MilestoneDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[ProjectName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[ActualHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryHoursByPersonProject].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryHoursByPersonProject].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryHoursByPersonProject].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_TimeEntries].[ProjectName]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryHoursByPersonProject].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryHoursByPersonProject].[@StartDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryHoursByPersonProject].[@EndDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="465" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE TimeEntryHoursByPersonProject&#xD;&#xA;&#x9;@PersonId&#x9;INT,&#xD;&#xA;&#x9;@StartDate&#x9;datetime = NULL,&#xD;&#xA;&#x9;@EndDate&#x9;datetime = NULL&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[TimeEntryInsert]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
    BEGIN
        SET NOCOUNT ON ;
	
        BEGIN TRANSACTION
	
        --DECLARE @IsChargeable BIT
	
	-- If it's default milestone, create MPE for it
        IF @MilestonePersonId = 0 
            EXECUTE dbo.MilestonePersonEntryCreateProgrammatically @PersonId = @PersonId, --  int
                @MilestoneId = @DefaultMpId, @MilestoneDate = @PersonId, --  datetime
                @ActualHours = @ActualHours, --  real
                @DefaultMpId = @DefaultMpId,
                @NewMilestonePersonId = @MilestonePersonId OUTPUT
	
	--	Fill forecasted hours field if not present
        IF ( @ForecastedHours = 0 ) 
            BEGIN
                SELECT  @ForecastedHours = mpe.HoursPerDay
	--                  , @IsChargeable = m.IsChargeable
                FROM    dbo.MilestonePersonEntry AS mpe
                        INNER JOIN dbo.MilestonePerson AS mp ON mpe.MilestonePersonId = mp.MilestonePersonId
                        INNER JOIN dbo.Milestone AS m ON mp.MilestoneId = m.MilestoneId
                WHERE   mpe.MilestonePersonId = @MilestonePersonId
                        AND @MilestoneDate BETWEEN mpe.StartDate
                                           AND     ISNULL(mpe.EndDate,
                                                          dbo.GetFutureDate())
            END

	-- Check if the milestone date is inside corresponding milestone 
	--	start and end date interval
	IF NOT EXISTS (
					SELECT 1 
					FROM dbo.MilestonePersonEntry mpe
					WHERE mpe.MilestonePersonId = @MilestonePersonId
							AND @MilestoneDate BETWEEN mpe.StartDate AND ISNULL(mpe.EndDate, '2/3/2099'))
	BEGIN 
		DECLARE @MStart VARCHAR(20)
		DECLARE @MEnd VARCHAR(20)
		
		SELECT @MStart = CONVERT(VARCHAR, mpe.StartDate, 101), 
				 @MEnd = CONVERT(VARCHAR, mpe.EndDate, 101)
		FROM dbo.MilestonePersonEntry mpe
		WHERE mpe.MilestonePersonId = @MilestonePersonId	
		
		RAISERROR (N'The date you record time entry for should be between %s and %s.',
					16, 1, @MStart, @MEnd)
	END 
	ELSE 
        INSERT  INTO [dbo].[TimeEntries]
                ( [EntryDate] ,
                  [MilestoneDate] ,
                  [ModifiedDate] ,
                  [MilestonePersonId] ,
                  [ActualHours] ,
                  [ForecastedHours] ,
                  [TimeTypeId] ,
                  [ModifiedBy] ,
                  [Note] ,
                  [IsChargeable] ,
                  [IsCorrect]
                )
        VALUES  ( @EntryDate ,
                  @MilestoneDate ,
                  GETDATE() ,
                  @MilestonePersonId ,
                  @ActualHours ,
                  @ForecastedHours ,
                  @TimeTypeId ,
                  @ModifiedBy ,
                  @Note ,
                  @IsChargeable ,
                  @IsCorrect
                )
				
        SET @TimeEntryId = SCOPE_IDENTITY()				
				
        COMMIT 
    END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryInsert].[@MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryCreateProgrammatically]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryCreateProgrammatically].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryInsert].[@PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryCreateProgrammatically].[@MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryInsert].[@DefaultMpId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryCreateProgrammatically].[@MilestoneDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryCreateProgrammatically].[@ActualHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryInsert].[@ActualHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryCreateProgrammatically].[@DefaultMpId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntryCreateProgrammatically].[@NewMilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryInsert].[@ForecastedHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryInsert].[@MilestoneDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[EndDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[EntryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[MilestoneDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ModifiedDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ActualHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ForecastedHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[TimeTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ModifiedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[Note]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[IsCorrect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryInsert].[@EntryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryInsert].[@TimeTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryInsert].[@ModifiedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryInsert].[@Note]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryInsert].[@IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryInsert].[@IsCorrect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryInsert].[@TimeEntryId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryInsert].[@TimeEntryId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryInsert].[@EntryDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryInsert].[@MilestoneDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryInsert].[@MilestonePersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryInsert].[@ActualHours]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[real]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryInsert].[@ForecastedHours]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[real]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryInsert].[@TimeTypeId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryInsert].[@ModifiedBy]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryInsert].[@Note]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="1000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryInsert].[@IsChargeable]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryInsert].[@DefaultMpId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryInsert].[@IsCorrect]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryInsert].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="207" />
				<Property Name="Length" Value="3764" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2009-12-08&#xD;&#xA;-- Description:&#x9;Inserts new time entry record&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.TimeEntryInsert&#xD;&#xA;    @TimeEntryId INT OUT ,&#xD;&#xA;    @EntryDate DATETIME ,&#xD;&#xA;    @MilestoneDate DATETIME ,&#xD;&#xA;    @MilestonePersonId INT ,&#xD;&#xA;    @ActualHours REAL ,&#xD;&#xA;    @ForecastedHours REAL ,&#xD;&#xA;    @TimeTypeId INT ,&#xD;&#xA;    @ModifiedBy INT ,&#xD;&#xA;    @Note VARCHAR(1000) ,&#xD;&#xA;&#x9;@IsChargeable BIT,&#xD;&#xA;    @DefaultMpId INT ,&#xD;&#xA;    @IsCorrect BIT ,&#xD;&#xA;    @PersonId INT -- id of the person that this milestone is about&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;  -- it's needed when we're assiging person to the default&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;  --&#x9;milestone, so it's not possible to extract id&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;  --&#x9;from the milestonepersonid parameter&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[TimeEntryRemove]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;

	DELETE 
	FROM TimeEntries 
	WHERE TimeEntryId = @TimeEntryId
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[TimeEntries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[TimeEntryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryRemove].[@TimeEntryId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryRemove].[@TimeEntryId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="188" />
				<Property Name="Length" Value="345" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-02-02&#xD;&#xA;-- Description:&#x9;Removes TE&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.TimeEntryRemove&#xD;&#xA;&#x9;@TimeEntryId INT &#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[TimeEntryToggleIsChargeable]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	UPDATE dbo.TimeEntries
	SET IsChargeable = 1 - IsChargeable
	WHERE TimeEntryId = @TimeEntryId
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[TimeEntries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[TimeEntryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryToggleIsChargeable].[@TimeEntryId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryToggleIsChargeable].[@TimeEntryId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="196" />
				<Property Name="Length" Value="378" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-02-19&#xD;&#xA;-- Description:&#x9;Toggles is correct&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.TimeEntryToggleIsChargeable&#xD;&#xA;&#x9;@TimeEntryId INT &#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[TimeEntryToggleIsCorrect]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	UPDATE dbo.TimeEntries
	SET IsCorrect = 1 - IsCorrect
	WHERE TimeEntryId = @TimeEntryId
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[TimeEntries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[IsCorrect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[TimeEntryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryToggleIsCorrect].[@TimeEntryId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryToggleIsCorrect].[@TimeEntryId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="196" />
				<Property Name="Length" Value="369" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-02-19&#xD;&#xA;-- Description:&#x9;Toggles is correct&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.TimeEntryToggleIsCorrect&#xD;&#xA;&#x9;@TimeEntryId INT &#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[TimeEntryToggleIsReviewed]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	UPDATE dbo.TimeEntries
	SET IsReviewed =
	CASE
		WHEN IsReviewed IS NULL THEN 1
		WHEN IsReviewed = 1 THEN 0
		ELSE NULL
	END 
	WHERE TimeEntryId = @TimeEntryId
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[TimeEntries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[IsReviewed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[TimeEntryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryToggleIsReviewed].[@TimeEntryId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryToggleIsReviewed].[@TimeEntryId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="196" />
				<Property Name="Length" Value="448" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-02-19&#xD;&#xA;-- Description:&#x9;Toggles is correct&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.TimeEntryToggleIsReviewed&#xD;&#xA;&#x9;@TimeEntryId INT &#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[TimeEntryUpdate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;

	declare @OldIsReviewed bit

	-- To change TE status from declined according to #2110
	select @OldIsReviewed = [IsReviewed]
	from [dbo].[TimeEntries]
	WHERE TimeEntryId = @TimeEntryId
	
	UPDATE [dbo].[TimeEntries]
	   SET [EntryDate] = @EntryDate
		  ,[ModifiedDate] = GETDATE()
		  ,[MilestonePersonId] = @MilestonePersonId
		  ,[ActualHours] = @ActualHours
		  ,[ForecastedHours] = @ForecastedHours
		  ,[TimeTypeId] = @TimeTypeId
		  ,[ModifiedBy] = @ModifiedBy
		  ,[Note] = @Note
		  ,[IsChargeable] = @IsChargeable
		  ,[MilestoneDate] = @MilestoneDate
		  ,[IsReviewed] = case when @OldIsReviewed = 0 and @IsReviewed = 0 then NULL else @IsReviewed end
		  ,[IsCorrect] = @IsCorrect
	WHERE TimeEntryId = @TimeEntryId
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[IsReviewed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[TimeEntryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryUpdate].[@TimeEntryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[EntryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryUpdate].[@EntryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ModifiedDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryUpdate].[@MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ActualHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryUpdate].[@ActualHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ForecastedHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryUpdate].[@ForecastedHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[TimeTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryUpdate].[@TimeTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ModifiedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryUpdate].[@ModifiedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[Note]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryUpdate].[@Note]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryUpdate].[@IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[MilestoneDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryUpdate].[@MilestoneDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryUpdate].[@IsReviewed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[IsCorrect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntryUpdate].[@IsCorrect]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryUpdate].[@TimeEntryId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryUpdate].[@EntryDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryUpdate].[@MilestoneDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryUpdate].[@MilestonePersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryUpdate].[@ActualHours]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[real]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryUpdate].[@ForecastedHours]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[real]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryUpdate].[@TimeTypeId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryUpdate].[@ModifiedBy]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryUpdate].[@Note]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="1000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryUpdate].[@IsChargeable]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryUpdate].[@IsReviewed]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeEntryUpdate].[@IsCorrect]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="203" />
				<Property Name="Length" Value="1289" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2009-12-08&#xD;&#xA;-- Description:&#x9;Updates time entry record&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.TimeEntryUpdate&#xD;&#xA;&#x9;@TimeEntryId INT,&#xD;&#xA;&#x9;@EntryDate datetime,&#xD;&#xA;&#x9;@MilestoneDate datetime,&#xD;&#xA;&#x9;@MilestonePersonId int,&#xD;&#xA;&#x9;@ActualHours real,&#xD;&#xA;&#x9;@ForecastedHours real,&#xD;&#xA;&#x9;@TimeTypeId int,&#xD;&#xA;&#x9;@ModifiedBy int,&#xD;&#xA;&#x9;@Note varchar(1000),&#xD;&#xA;&#x9;@IsChargeable BIT,&#xD;&#xA;&#x9;@IsReviewed BIT = NULL,&#xD;&#xA;&#x9;@IsCorrect BIT   &#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[Timescale]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Timescale].[TimescaleId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Timescale].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[Timescale].[DefaultTerms]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[TimescaleGetById]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT t.TimescaleId, t.Name, t.DefaultTerms
	  FROM dbo.Timescale AS t
	 WHERE t.TimescaleId = @TimescaleId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Timescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Timescale].[TimescaleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Timescale].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Timescale].[DefaultTerms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimescaleGetById].[@TimescaleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimescaleGetById].[@TimescaleId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="258" />
				<Property Name="Length" Value="462" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--The source is &#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 7-3-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date: &#xD;&#xA;-- Description:&#x9;Retrives a timescale by its ID.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[TimescaleGetById]&#xD;&#xA;(&#xD;&#xA;&#x9;@TimescaleId   INT&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[TimeType]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TimeType].[TimeTypeId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TimeType].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[TimeType].[IsDefault]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[TimeTypeDelete]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;
	
	DELETE FROM TimeType WHERE TimeTypeId = @TimeTypeId
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[TimeType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeType].[TimeTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeTypeDelete].[@TimeTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeTypeDelete].[@TimeTypeId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="203" />
				<Property Name="Length" Value="343" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2009-11-30&#xD;&#xA;-- Description:&#x9;Remove existing time type&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE TimeTypeDelete&#xD;&#xA;&#x9;@TimeTypeId INT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[TimeTypeGetAll]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN

	WITH UsageInfo AS (
	SELECT 
		tt.TimeTypeId, 
		tt.[Name], 
		'True' AS InUse,
		tt.IsDefault
	FROM TimeType AS tt
	WHERE tt.TimeTypeId IN (SELECT DISTINCT(TimeTypeId) FROM TimeEntries)
	UNION 
	SELECT 
		tt.TimeTypeId, 
		tt.[Name], 
		'False' AS InUse,
		tt.IsDefault
	FROM TimeType AS tt
	WHERE tt.TimeTypeId NOT IN (SELECT DISTINCT(TimeTypeId) FROM TimeEntries)
	)
	SELECT * 
	FROM UsageInfo
	ORDER BY Name
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[TimeType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeType].[TimeTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeType].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeType].[IsDefault]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[TimeTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeType].[Name]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[TimeTypeGetAll].[CTE1].[UsageInfo]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[TimeTypeGetAll].[CTE1].[UsageInfo].[TimeTypeId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[TimeType].[TimeTypeId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[TimeTypeGetAll].[CTE1].[UsageInfo].[Name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[TimeType].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[TimeTypeGetAll].[CTE1].[UsageInfo].[InUse]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[TimeTypeGetAll].[CTE1].[UsageInfo].[IsDefault]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[TimeType].[IsDefault]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="207" />
				<Property Name="Length" Value="693" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2009-11-30&#xD;&#xA;-- Description:&#x9;Gets all avaliable time types&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.TimeTypeGetAll&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[TimeTypeInsert]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;

	IF EXISTS(SELECT 1 FROM dbo.TimeType WHERE [Name] = @Name)
	BEGIN
		DECLARE @Error NVARCHAR(200)
		SET @Error = 'This time type already exists. Please add a different time type.'
		RAISERROR(@Error,16,1)
		RETURN
	END

	INSERT INTO dbo.TimeType ([Name]) VALUES (@Name)
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeType].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeTypeInsert].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeType].[Name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeTypeInsert].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="198" />
				<Property Name="Length" Value="568" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2009-11-30&#xD;&#xA;-- Description:&#x9;Insert new time type&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.TimeTypeInsert&#xD;&#xA;&#x9;@Name VARCHAR(50)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[TimeTypeUpdate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON;
	
	UPDATE TimeType
	SET [Name] = @Name
	WHERE TimeTypeId = @TimeTypeId

	-- If IsDefault value has changed, update table	
	IF @IsDefault = 1
	BEGIN
		UPDATE TimeType
		SET IsDefault = 0
		
		UPDATE TimeType
		SET IsDefault = 1
		WHERE TimeTypeId = @TimeTypeId
	END
END]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[TimeType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeType].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeTypeUpdate].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeType].[TimeTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeTypeUpdate].[@TimeTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeTypeUpdate].[@IsDefault]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeType].[IsDefault]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeTypeUpdate].[@TimeTypeId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeTypeUpdate].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[TimeTypeUpdate].[@IsDefault]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="203" />
				<Property Name="Length" Value="610" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2009-11-30&#xD;&#xA;-- Description:&#x9;Update existing time type&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE dbo.TimeTypeUpdate&#xD;&#xA;&#x9;@TimeTypeId INT,&#xD;&#xA;&#x9;@Name VARCHAR(50),&#xD;&#xA;&#x9;@IsDefault BIT &#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[Today]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	DECLARE @Today DATETIME
	SET @Today = GETDATE()
	SET @Today =
		CAST(CAST(YEAR(@Today) AS VARCHAR) + '-' +
			CAST(MONTH(@Today) AS VARCHAR) + '-' +
			CAST(DAY(@Today) AS VARCHAR) AS DATETIME)

	RETURN @Today
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="235" />
							<Property Name="Length" Value="519" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="--The source is &#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-26-2008&#xD;&#xA;-- Description:&#x9;Gets a current date without the time part.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE FUNCTION [dbo].[Today]()&#xD;&#xA;RETURNS DATETIME&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[datetime]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DmlTrigger" Name="[dbo].[tr_Log_Notes]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="SqlTriggerType" Value="2" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
BEGIN
	SET NOCOUNT ON;

	-- Ensure the temporary table exists
	EXEC SessionLogPrepare @UserLogin = NULL

	;WITH NEW_VALUES AS
	(
		SELECT  i.[NoteId]
			   ,i.[PersonId]
			   ,n.LastName + ', ' + n.FirstName as 'By'
			   ,i.[CreateDate]
			   ,i.[NoteText]
			   ,i.TargetId
			   ,n.NoteTargetId
			   ,n.NoteTargetName
			   ,m.ProjectId as ParentTargetId
		FROM inserted AS i
			inner join v_Notes as n on n.NoteId = i.NoteId	
			left join dbo.Milestone m on n.NoteTargetId = 1 AND m.MilestoneId = i.TargetId
	),

	OLD_VALUES AS
	(
		SELECT  d.[NoteId]
			   ,d.[PersonId]
			   ,n.LastName + ', ' + n.FirstName as 'By'
			   ,d.[CreateDate]
			   ,d.[NoteText]
			   ,d.TargetId
			   ,n.NoteTargetId
			   ,n.NoteTargetName
			   ,m.ProjectId as ParentTargetId
		  FROM deleted AS d
			inner join v_Notes as n on n.NoteId = d.NoteId	
			left join dbo.Milestone m on n.NoteTargetId = 1 AND m.MilestoneId = d.TargetId
	)

	-- Log an activity
	INSERT INTO dbo.UserActivityLog
	            (ActivityTypeID,
	             SessionID,
	             SystemUser,
	             Workstation,
	             ApplicationName,
	             UserLogin,
	             PersonID,
	             LastName,
	             FirstName,
	             LogData)
	SELECT CASE
	           WHEN d.[NoteId] IS NULL THEN 3
	           WHEN i.[NoteId] IS NULL THEN 5
	           ELSE 4
	       END AS ActivityTypeID,
	       l.SessionID,
	       l.SystemUser,
	       l.Workstation,
	       l.ApplicationName,
	       l.UserLogin,
	       l.PersonID,
	       l.LastName,
	       l.FirstName,
	       LogData = (SELECT *
					    FROM NEW_VALUES
					         FULL JOIN OLD_VALUES ON NEW_VALUES.[NoteId] = OLD_VALUES.[NoteId]
			           WHERE NEW_VALUES.[NoteId] = ISNULL(i.[NoteId], d.[NoteId]) OR OLD_VALUES.[NoteId] = ISNULL(i.[NoteId], d.[NoteId])
					  FOR XML AUTO, ROOT('Note'), TYPE)
	  FROM inserted AS i
	       FULL JOIN deleted AS d ON i.[NoteId] = d.[NoteId]
	       INNER JOIN dbo.##SessionLogData AS l ON l.SessionID = @@SPID

END]]></Value>
			</Property>
			<Property Name="IsInsertTrigger" Value="True" />
			<Property Name="IsUpdateTrigger" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[SessionLogPrepare]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Notes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Notes].[NoteId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[NoteId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Notes].[NoteTargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[NoteId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Notes].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Notes].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[CreateDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[NoteText]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Notes].[NoteTargetName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[NoteId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[NoteId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[CreateDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[NoteText]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ActivityTypeID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SessionID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SystemUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[Workstation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[PersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LogData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[NoteId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[NoteId]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[Note].[NoteId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[NoteId]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[Note].[NoteId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[NoteId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[tr_Log_Notes].[CTE1].[NEW_VALUES]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Log_Notes].[CTE1].[NEW_VALUES].[NoteId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Note].[NoteId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Log_Notes].[CTE1].[NEW_VALUES].[PersonId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Note].[PersonId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Log_Notes].[CTE1].[NEW_VALUES].[By]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Log_Notes].[CTE1].[NEW_VALUES].[CreateDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Note].[CreateDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Log_Notes].[CTE1].[NEW_VALUES].[NoteText]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Note].[NoteText]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Log_Notes].[CTE1].[NEW_VALUES].[TargetId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Note].[TargetId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Log_Notes].[CTE1].[NEW_VALUES].[NoteTargetId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Notes].[NoteTargetId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Log_Notes].[CTE1].[NEW_VALUES].[NoteTargetName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Notes].[NoteTargetName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Log_Notes].[CTE1].[NEW_VALUES].[ParentTargetId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[ProjectId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[tr_Log_Notes].[CTE1].[OLD_VALUES]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Log_Notes].[CTE1].[OLD_VALUES].[NoteId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Note].[NoteId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Log_Notes].[CTE1].[OLD_VALUES].[PersonId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Note].[PersonId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Log_Notes].[CTE1].[OLD_VALUES].[By]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Log_Notes].[CTE1].[OLD_VALUES].[CreateDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Note].[CreateDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Log_Notes].[CTE1].[OLD_VALUES].[NoteText]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Note].[NoteText]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Log_Notes].[CTE1].[OLD_VALUES].[TargetId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Note].[TargetId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Log_Notes].[CTE1].[OLD_VALUES].[NoteTargetId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Notes].[NoteTargetId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Log_Notes].[CTE1].[OLD_VALUES].[NoteTargetName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Notes].[NoteTargetName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Log_Notes].[CTE1].[OLD_VALUES].[ParentTargetId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[ProjectId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parent">
				<Entry>
					<References Name="[dbo].[Note]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="194" />
				<Property Name="Length" Value="2376" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-07-08&#xD;&#xA;-- Description:&#x9;Adds notes to AL&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE TRIGGER [dbo].[tr_Log_Notes] &#xD;&#xA;   ON  [dbo].[Note] &#xD;&#xA;   AFTER INSERT, UPDATE&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90DmlTrigger" Name="[dbo].[tr_Membership_Log]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="SqlTriggerType" Value="2" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
BEGIN
	SET NOCOUNT ON;

	-- Ensure the temporary table exists
	EXEC SessionLogPrepare @UserLogin = NULL

	;WITH NEW_VALUES AS
	(
		SELECT 
			p.PersonId,
			u.userid,
			p.LastName + ', ' + p.FirstName as 'Name',
			p.Alias as 'Email',
			i.password as 'HashedPassword'
		  FROM inserted AS i
			left join dbo.aspnet_Users as u on i.userid = u.userid
			left join dbo.person as p on p.alias = u.username
	),

	OLD_VALUES AS
	(
		SELECT 
			p.PersonId,
			u.userid,
			p.LastName + ', ' + p.FirstName as 'Name',
			p.Alias as 'Email',
			d.password as 'HashedPassword'
		  FROM deleted AS d
			left join dbo.aspnet_Users as u on d.userid = u.userid
			left join dbo.person as p on p.alias = u.username
	)

	-- Log an activity
	INSERT INTO dbo.UserActivityLog
	            (ActivityTypeID,
	             SessionID,
	             SystemUser,
	             Workstation,
	             ApplicationName,
	             UserLogin,
	             PersonID,
	             LastName,
	             FirstName,
	             LogData)
	SELECT 4 as ActivityTypeID,
	       l.SessionID,
	       l.SystemUser,
	       l.Workstation,
	       l.ApplicationName,
	       l.UserLogin,
	       l.PersonID,
	       l.LastName,
	       l.FirstName,
	       LogData = (SELECT *
					    FROM NEW_VALUES
					         FULL JOIN OLD_VALUES ON NEW_VALUES.PersonID = OLD_VALUES.PersonID
			           WHERE (NEW_VALUES.userid = ISNULL(i.userid, d.userid)) OR (OLD_VALUES.userid = ISNULL(i.userid, d.userid))
					  FOR XML AUTO, ROOT('Membership'), TYPE)
	  FROM inserted AS i
	       FULL JOIN deleted AS d ON i.userid = d.userid
	       INNER JOIN dbo.##SessionLogData AS l ON l.SessionID = @@SPID
END]]></Value>
			</Property>
			<Property Name="IsInsertTrigger" Value="True" />
			<Property Name="IsUpdateTrigger" Value="True" />
			<Property Name="IsDeleteTrigger" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[SessionLogPrepare]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[Password]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[Password]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ActivityTypeID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SessionID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SystemUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[Workstation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[PersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LogData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[tr_Membership_Log].[CTE1].[NEW_VALUES]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Membership_Log].[CTE1].[NEW_VALUES].[PersonId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[PersonId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Membership_Log].[CTE1].[NEW_VALUES].[userid]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[aspnet_Users].[UserId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Membership_Log].[CTE1].[NEW_VALUES].[Name]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Membership_Log].[CTE1].[NEW_VALUES].[Email]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[Alias]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Membership_Log].[CTE1].[NEW_VALUES].[HashedPassword]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[aspnet_Membership].[Password]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[tr_Membership_Log].[CTE1].[OLD_VALUES]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Membership_Log].[CTE1].[OLD_VALUES].[PersonId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[PersonId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Membership_Log].[CTE1].[OLD_VALUES].[userid]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[aspnet_Users].[UserId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Membership_Log].[CTE1].[OLD_VALUES].[Name]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Membership_Log].[CTE1].[OLD_VALUES].[Email]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[Alias]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Membership_Log].[CTE1].[OLD_VALUES].[HashedPassword]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[aspnet_Membership].[Password]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parent">
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="194" />
				<Property Name="Length" Value="2034" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;&lt;Author,,Name&gt;&#xD;&#xA;-- Create date: &lt;Create Date,,&gt;&#xD;&#xA;-- Description:&#x9;&lt;Description,,&gt;&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE TRIGGER dbo.tr_Membership_Log&#xD;&#xA;   ON  dbo.[aspnet_Membership]&#xD;&#xA;   AFTER INSERT, UPDATE, DELETE&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90DmlTrigger" Name="[dbo].[tr_Milestone_Log]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="SqlTriggerType" Value="2" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	-- Ensure the temporary table exists
	EXEC SessionLogPrepare @UserLogin = NULL

	;WITH NEW_VALUES AS
	(
		SELECT i.MilestoneId,
		       i.Description AS Name,
		       i.ProjectId AS MilestoneProjectId,
		       p.Name AS ProjectName,
		       i.ActualDeliveryDate,
		       i.ProjectedDeliveryDate,
		       i.StartDate,
		       i.Amount,
		       i.ConsultantsCanAdjust,
		       i.IsChargeable,
		       i.IsHourlyAmount	       
		  FROM inserted AS i
		       INNER JOIN dbo.Project AS p ON i.ProjectId = p.ProjectId
	),

	OLD_VALUES AS
	(
		SELECT d.MilestoneId,
		       d.Description AS Name,
		       d.ProjectId AS MilestoneProjectId,
		       p.Name AS ProjectName,
		       d.ActualDeliveryDate,
		       d.ProjectedDeliveryDate,
		       d.StartDate,
		       d.Amount,
		       d.ConsultantsCanAdjust,
		       d.IsChargeable,
		       d.IsHourlyAmount	
		  FROM deleted AS d
		       INNER JOIN dbo.Project AS p ON d.ProjectId = p.ProjectId
	)

	-- Log an activity
	INSERT INTO dbo.UserActivityLog
	            (ActivityTypeID,
	             SessionID,
	             SystemUser,
	             Workstation,
	             ApplicationName,
	             UserLogin,
	             PersonID,
	             LastName,
	             FirstName,
	             LogData)
	SELECT CASE
	           WHEN d.MilestoneId IS NULL THEN 3
	           WHEN i.MilestoneId IS NULL THEN 5
	           ELSE 4
	       END AS ActivityTypeID,
	       l.SessionID,
	       l.SystemUser,
	       l.Workstation,
	       l.ApplicationName,
	       l.UserLogin,
	       l.PersonID,
	       l.LastName,
	       l.FirstName,
	       LogData = (SELECT *
					    FROM NEW_VALUES
					         FULL JOIN OLD_VALUES ON NEW_VALUES.MilestoneId = OLD_VALUES.MilestoneId
			           WHERE NEW_VALUES.MilestoneId = ISNULL(i.MilestoneId, d.MilestoneId) OR OLD_VALUES.MilestoneId = ISNULL(i.MilestoneId, d.MilestoneId)
					  FOR XML AUTO, ROOT('Milestone'), TYPE)
	  FROM inserted AS i
	       FULL JOIN deleted AS d ON i.MilestoneId = d.MilestoneId
	       INNER JOIN dbo.##SessionLogData AS l ON l.SessionID = @@SPID
	 WHERE i.MilestoneId IS NULL -- Deleted record
	    OR d.MilestoneId IS NULL -- Added record
	    OR ISNULL(i.Description, '') <> ISNULL(d.Description, '')
	    OR ISNULL(i.Amount, 0) <> ISNULL(d.Amount, 0)
	    OR i.StartDate <> d.StartDate
	    OR i.ProjectedDeliveryDate <> d.ProjectedDeliveryDate
	    OR ISNULL(i.ActualDeliveryDate, '1900-01-01') <> ISNULL(d.ActualDeliveryDate, '1900-01-01')
	    OR i.IsHourlyAmount <> d.IsHourlyAmount

END]]></Value>
			</Property>
			<Property Name="IsInsertTrigger" Value="True" />
			<Property Name="IsUpdateTrigger" Value="True" />
			<Property Name="IsDeleteTrigger" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[SessionLogPrepare]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ActualDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ConsultantsCanAdjust]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[IsHourlyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ActualDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ConsultantsCanAdjust]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[IsHourlyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ActivityTypeID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SessionID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SystemUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[Workstation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[PersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LogData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ActualDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ActualDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[IsHourlyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[IsHourlyAmount]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[tr_Milestone_Log].[CTE1].[NEW_VALUES]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Milestone_Log].[CTE1].[NEW_VALUES].[MilestoneId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[MilestoneId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Milestone_Log].[CTE1].[NEW_VALUES].[Name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[Description]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Milestone_Log].[CTE1].[NEW_VALUES].[MilestoneProjectId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[ProjectId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Milestone_Log].[CTE1].[NEW_VALUES].[ProjectName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Project].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Milestone_Log].[CTE1].[NEW_VALUES].[ActualDeliveryDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[ActualDeliveryDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Milestone_Log].[CTE1].[NEW_VALUES].[ProjectedDeliveryDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Milestone_Log].[CTE1].[NEW_VALUES].[StartDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[StartDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Milestone_Log].[CTE1].[NEW_VALUES].[Amount]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[Amount]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Milestone_Log].[CTE1].[NEW_VALUES].[ConsultantsCanAdjust]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[ConsultantsCanAdjust]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Milestone_Log].[CTE1].[NEW_VALUES].[IsChargeable]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[IsChargeable]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Milestone_Log].[CTE1].[NEW_VALUES].[IsHourlyAmount]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[IsHourlyAmount]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[tr_Milestone_Log].[CTE1].[OLD_VALUES]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Milestone_Log].[CTE1].[OLD_VALUES].[MilestoneId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[MilestoneId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Milestone_Log].[CTE1].[OLD_VALUES].[Name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[Description]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Milestone_Log].[CTE1].[OLD_VALUES].[MilestoneProjectId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[ProjectId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Milestone_Log].[CTE1].[OLD_VALUES].[ProjectName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Project].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Milestone_Log].[CTE1].[OLD_VALUES].[ActualDeliveryDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[ActualDeliveryDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Milestone_Log].[CTE1].[OLD_VALUES].[ProjectedDeliveryDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Milestone_Log].[CTE1].[OLD_VALUES].[StartDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[StartDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Milestone_Log].[CTE1].[OLD_VALUES].[Amount]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[Amount]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Milestone_Log].[CTE1].[OLD_VALUES].[ConsultantsCanAdjust]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[ConsultantsCanAdjust]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Milestone_Log].[CTE1].[OLD_VALUES].[IsChargeable]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[IsChargeable]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Milestone_Log].[CTE1].[OLD_VALUES].[IsHourlyAmount]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[IsHourlyAmount]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parent">
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="257" />
				<Property Name="Length" Value="2974" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 11-27-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Logs the changes in the dbo.Milestone table.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE TRIGGER dbo.tr_Milestone_Log&#xD;&#xA;ON dbo.[Milestone]&#xD;&#xA;AFTER INSERT, UPDATE, DELETE&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90DmlTrigger" Name="[dbo].[tr_Milestone_UpdateProjectPeriod]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="SqlTriggerType" Value="2" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	UPDATE dbo.Project
	   SET StartDate = (SELECT MIN(StartDate) FROM dbo.Milestone AS m WHERE m.ProjectId = Project.ProjectId),
	       EndDate = (SELECT MAX(ProjectedDeliveryDate) FROM dbo.Milestone AS m WHERE m.ProjectId = Project.ProjectId)
	 WHERE EXISTS (SELECT 1 FROM inserted AS i WHERE i.ProjectId = Project.ProjectId)
	    OR EXISTS (SELECT 1 FROM deleted AS i WHERE i.ProjectId = Project.ProjectId)]]></Value>
			</Property>
			<Property Name="IsInsertTrigger" Value="True" />
			<Property Name="IsUpdateTrigger" Value="True" />
			<Property Name="IsDeleteTrigger" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parent">
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="261" />
				<Property Name="Length" Value="792" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 8-12-2008&#xD;&#xA;-- Description:&#x9;Updates a Project's Start and End Dates according to the data in the Milestone table&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE TRIGGER tr_Milestone_UpdateProjectPeriod&#xD;&#xA;ON dbo.Milestone&#xD;&#xA;AFTER INSERT, UPDATE, DELETE&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90DmlTrigger" Name="[dbo].[tr_MilestonePerson_LogInsertUpdate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="SqlTriggerType" Value="2" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	-- Ensure the temporary table exists
	EXEC SessionLogPrepare @UserLogin = NULL

	;WITH NEW_VALUES AS
	(
		SELECT mp.ProjectId AS MilestoneProjectId,
		       mp.ProjectName,
		       mp.MilestoneId,
		       mp.MilestoneName AS Name,
		       mp.MilestonePersonId,
		       mp.LastName + ', ' + mp.FirstName AS FullName,
		       CONVERT(NVARCHAR(10), mp.StartDate, 101) AS StartDate,
		       CONVERT(NVARCHAR(10), mp.EndDate, 101) AS EndDate,
		       mp.RoleName,
		       mp.Amount,
		       mp.HoursPerDay		       
		  FROM inserted AS i
		       INNER JOIN dbo.v_MilestonePerson AS mp
		           ON i.MilestonePersonId = mp.MilestonePersonId AND i.StartDate = mp.StartDate
	)

	-- Log an activity
	INSERT INTO dbo.UserActivityLog
	            (ActivityTypeID,
	             SessionID,
	             SystemUser,
	             Workstation,
	             ApplicationName,
	             UserLogin,
	             PersonID,
	             LastName,
	             FirstName,
	             LogData)
	SELECT 4 AS ActivityTypeID,
	       l.SessionID,
	       l.SystemUser,
	       l.Workstation,
	       l.ApplicationName,
	       l.UserLogin,
	       l.PersonID,
	       l.LastName,
	       l.FirstName,
	       LogData = (SELECT *
					    FROM NEW_VALUES
			           WHERE NEW_VALUES.MilestonePersonId = mp.MilestonePersonId
	                     AND NEW_VALUES.StartDate = mp.StartDate
					  FOR XML AUTO, ROOT('MilestonePerson'), TYPE)
	  FROM inserted AS i
	       INNER JOIN dbo.v_MilestonePerson AS mp
	           ON i.MilestonePersonId = mp.MilestonePersonId AND i.StartDate = mp.StartDate
	       INNER JOIN dbo.##SessionLogData AS l ON l.SessionID = @@SPID

END]]></Value>
			</Property>
			<Property Name="IsInsertTrigger" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[SessionLogPrepare]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[ProjectName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestoneName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[FirstName]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[RoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ActivityTypeID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SessionID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SystemUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[Workstation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[PersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LogData]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[v_MilestonePerson].[StartDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[tr_MilestonePerson_LogInsertUpdate].[CTE1].[NEW_VALUES]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_MilestonePerson_LogInsertUpdate].[CTE1].[NEW_VALUES].[MilestoneProjectId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_MilestonePerson].[ProjectId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_MilestonePerson_LogInsertUpdate].[CTE1].[NEW_VALUES].[ProjectName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_MilestonePerson].[ProjectName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_MilestonePerson_LogInsertUpdate].[CTE1].[NEW_VALUES].[MilestoneId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_MilestonePerson].[MilestoneId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_MilestonePerson_LogInsertUpdate].[CTE1].[NEW_VALUES].[Name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_MilestonePerson].[MilestoneName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_MilestonePerson_LogInsertUpdate].[CTE1].[NEW_VALUES].[MilestonePersonId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_MilestonePerson].[MilestonePersonId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_MilestonePerson_LogInsertUpdate].[CTE1].[NEW_VALUES].[FullName]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_MilestonePerson_LogInsertUpdate].[CTE1].[NEW_VALUES].[StartDate]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_MilestonePerson_LogInsertUpdate].[CTE1].[NEW_VALUES].[EndDate]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_MilestonePerson_LogInsertUpdate].[CTE1].[NEW_VALUES].[RoleName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_MilestonePerson].[RoleName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_MilestonePerson_LogInsertUpdate].[CTE1].[NEW_VALUES].[Amount]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_MilestonePerson].[Amount]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_MilestonePerson_LogInsertUpdate].[CTE1].[NEW_VALUES].[HoursPerDay]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_MilestonePerson].[HoursPerDay]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parent">
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="257" />
				<Property Name="Length" Value="2087" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 11-27-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Logs the changes in the dbo.Milestone table.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE TRIGGER tr_MilestonePerson_LogInsertUpdate&#xD;&#xA;ON dbo.MilestonePersonEntry&#xD;&#xA;AFTER INSERT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90DmlTrigger" Name="[dbo].[tr_Opportunity_Log]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="SqlTriggerType" Value="2" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
BEGIN
	-- Ensure the temporary table exists
	EXEC SessionLogPrepare @UserLogin = NULL

	;WITH NEW_VALUES AS
	(
		SELECT i.OpportunityId 
			   ,i.[Name]
			   ,i.[ClientId]
			   ,opp.ClientName
			   ,i.[SalespersonId]
			   ,opp.SalespersonFirstName + ', ' + opp.SalespersonLastName as 'Salesperson'
			   ,i.[OpportunityStatusId]
			   ,opp.OpportunityStatusName
			   ,i.[Priority]
			   ,i.[ProjectedStartDate]
			   ,i.[ProjectedEndDate]
			   ,i.[OpportunityNumber]
			   ,i.[Description]
			   ,i.[PracticeId]
			   ,opp.PracticeName
			   ,i.[BuyerName]
			   ,i.[CreateDate]
			   ,i.[Pipeline]
			   ,i.[Proposed]
			   ,i.[SendOut]
			   ,i.[ProjectId]
			   ,i.[OpportunityIndex]
			   ,i.[RevenueType]
			   ,i.[OwnerId]
			   ,i.[GroupId]
			   ,opp.GroupName
			   ,i.[LastUpdated]
		  FROM inserted AS i
		       INNER JOIN v_Opportunity as opp ON i.OpportunityId = opp.OpportunityId
	),

	OLD_VALUES AS
	(
		SELECT d.OpportunityId
			   ,d.[Name]
			   ,d.[ClientId]
			   ,opp.ClientName
			   ,d.[SalespersonId]
			   ,opp.SalespersonFirstName + ', ' + opp.SalespersonLastName as 'Salesperson'
			   ,d.[OpportunityStatusId]
			   ,opp.OpportunityStatusName
			   ,d.[Priority]
			   ,d.[ProjectedStartDate]
			   ,d.[ProjectedEndDate]
			   ,d.[OpportunityNumber]
			   ,d.[Description]
			   ,d.[PracticeId]
			   ,opp.PracticeName
			   ,d.[BuyerName]
			   ,d.[CreateDate]
			   ,d.[Pipeline]
			   ,d.[Proposed]
			   ,d.[SendOut]
			   ,d.[ProjectId]
			   ,d.[OpportunityIndex]
			   ,d.[RevenueType]
			   ,d.[OwnerId]
			   ,d.[GroupId]
			   ,opp.GroupName
			   ,d.[LastUpdated]
		  FROM deleted AS d
		       INNER JOIN v_Opportunity as opp ON d.OpportunityId = opp.OpportunityId
	)

	-- Log an activity
	INSERT INTO dbo.UserActivityLog
	            (ActivityTypeID,
	             SessionID,
	             SystemUser,
	             Workstation,
	             ApplicationName,
	             UserLogin,
	             PersonID,
	             LastName,
	             FirstName,
	             LogData)
	SELECT CASE
	           WHEN d.OpportunityId IS NULL THEN 3
	           WHEN i.OpportunityId IS NULL THEN 5
	           ELSE 4
	       END AS ActivityTypeID,
	       l.SessionID,
	       l.SystemUser,
	       l.Workstation,
	       l.ApplicationName,
	       l.UserLogin,
	       l.PersonID,
	       l.LastName,
	       l.FirstName,
	       LogData = (SELECT *
					    FROM NEW_VALUES
					         FULL JOIN OLD_VALUES ON NEW_VALUES.OpportunityId = OLD_VALUES.OpportunityId
			           WHERE NEW_VALUES.OpportunityId = ISNULL(i.OpportunityId, d.OpportunityId) OR OLD_VALUES.OpportunityId = ISNULL(i.OpportunityId, d.OpportunityId)
					  FOR XML AUTO, ROOT('Opportunity'), TYPE)
	  FROM inserted AS i
	       FULL JOIN deleted AS d ON i.OpportunityId = d.OpportunityId
	       INNER JOIN dbo.##SessionLogData AS l ON l.SessionID = @@SPID
	 --WHERE i.OpportunityId IS NULL -- Deleted record
	 --   OR d.OpportunityId IS NULL -- Added record
END]]></Value>
			</Property>
			<Property Name="IsInsertTrigger" Value="True" />
			<Property Name="IsUpdateTrigger" Value="True" />
			<Property Name="InsertOrderRestriction" Value="2" />
			<Property Name="UpdateOrderRestriction" Value="2" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[SessionLogPrepare]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[ClientName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[SalespersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[SalespersonFirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[SalespersonLastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[OpportunityStatusName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Priority]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[ProjectedStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[ProjectedEndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[PracticeName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[CreateDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Pipeline]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Proposed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[SendOut]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[RevenueType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OwnerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Opportunity].[GroupName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[LastUpdated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[SalespersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Priority]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[ProjectedStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[ProjectedEndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[CreateDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Pipeline]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Proposed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[SendOut]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[RevenueType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OwnerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[LastUpdated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ActivityTypeID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SessionID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SystemUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[Workstation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[PersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LogData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityId]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityId]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[tr_Opportunity_Log].[CTE1].[NEW_VALUES]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[NEW_VALUES].[OpportunityId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[OpportunityId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[NEW_VALUES].[Name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[NEW_VALUES].[ClientId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[ClientId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[NEW_VALUES].[ClientName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Opportunity].[ClientName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[NEW_VALUES].[SalespersonId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[SalespersonId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[NEW_VALUES].[Salesperson]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[NEW_VALUES].[OpportunityStatusId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[OpportunityStatusId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[NEW_VALUES].[OpportunityStatusName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Opportunity].[OpportunityStatusName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[NEW_VALUES].[Priority]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[Priority]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[NEW_VALUES].[ProjectedStartDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[ProjectedStartDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[NEW_VALUES].[ProjectedEndDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[ProjectedEndDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[NEW_VALUES].[OpportunityNumber]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[OpportunityNumber]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[NEW_VALUES].[Description]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[Description]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[NEW_VALUES].[PracticeId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[PracticeId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[NEW_VALUES].[PracticeName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Opportunity].[PracticeName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[NEW_VALUES].[BuyerName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[BuyerName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[NEW_VALUES].[CreateDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[CreateDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[NEW_VALUES].[Pipeline]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[Pipeline]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[NEW_VALUES].[Proposed]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[Proposed]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[NEW_VALUES].[SendOut]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[SendOut]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[NEW_VALUES].[ProjectId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[ProjectId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[NEW_VALUES].[OpportunityIndex]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[OpportunityIndex]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[NEW_VALUES].[RevenueType]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[RevenueType]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[NEW_VALUES].[OwnerId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[OwnerId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[NEW_VALUES].[GroupId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[GroupId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[NEW_VALUES].[GroupName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Opportunity].[GroupName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[NEW_VALUES].[LastUpdated]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[LastUpdated]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[tr_Opportunity_Log].[CTE1].[OLD_VALUES]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[OLD_VALUES].[OpportunityId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[OpportunityId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[OLD_VALUES].[Name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[OLD_VALUES].[ClientId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[ClientId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[OLD_VALUES].[ClientName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Opportunity].[ClientName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[OLD_VALUES].[SalespersonId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[SalespersonId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[OLD_VALUES].[Salesperson]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[OLD_VALUES].[OpportunityStatusId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[OpportunityStatusId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[OLD_VALUES].[OpportunityStatusName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Opportunity].[OpportunityStatusName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[OLD_VALUES].[Priority]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[Priority]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[OLD_VALUES].[ProjectedStartDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[ProjectedStartDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[OLD_VALUES].[ProjectedEndDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[ProjectedEndDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[OLD_VALUES].[OpportunityNumber]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[OpportunityNumber]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[OLD_VALUES].[Description]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[Description]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[OLD_VALUES].[PracticeId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[PracticeId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[OLD_VALUES].[PracticeName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Opportunity].[PracticeName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[OLD_VALUES].[BuyerName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[BuyerName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[OLD_VALUES].[CreateDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[CreateDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[OLD_VALUES].[Pipeline]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[Pipeline]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[OLD_VALUES].[Proposed]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[Proposed]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[OLD_VALUES].[SendOut]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[SendOut]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[OLD_VALUES].[ProjectId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[ProjectId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[OLD_VALUES].[OpportunityIndex]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[OpportunityIndex]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[OLD_VALUES].[RevenueType]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[RevenueType]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[OLD_VALUES].[OwnerId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[OwnerId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[OLD_VALUES].[GroupId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[GroupId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[OLD_VALUES].[GroupName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[v_Opportunity].[GroupName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Opportunity_Log].[CTE1].[OLD_VALUES].[LastUpdated]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[LastUpdated]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parent">
				<Entry>
					<References Name="[dbo].[Opportunity]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="210" />
				<Property Name="Length" Value="3381" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2010-07-02&#xD;&#xA;-- Description:&#x9;Record opportunity changes to AL&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE TRIGGER tr_Opportunity_Log&#xD;&#xA;   ON  dbo.Opportunity&#xD;&#xA;   AFTER INSERT, UPDATE&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90DmlTrigger" Name="[dbo].[tr_OpportunityTransition_Log]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="SqlTriggerType" Value="2" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
BEGIN
	-- Ensure the temporary table exists
	EXEC SessionLogPrepare @UserLogin = NULL

	;WITH NEW_VALUES AS
	(
		SELECT i.[OpportunityTransitionId]
			   ,i.[OpportunityTransitionStatusId]
			   ,i.[TransitionDate]
			   ,i.[PersonId]
			   ,i.[NoteText]
			   ,i.OpportunityId
			   ,i.TargetPersonId 
			   ,opp.[Name] as 'OpportunityName'
			   ,pers.LastName + ', ' + pers.FirstName as 'Person'
			   ,transitionStatus.Name as 'TransitionType'
		  FROM inserted AS i
		       INNER JOIN Opportunity as opp ON i.OpportunityId = opp.OpportunityId
			   inner join person as pers on pers.PersonId = i.TargetPersonId
			   inner join OpportunityTransitionStatus as transitionStatus on transitionStatus.OpportunityTransitionStatusId = i.OpportunityTransitionStatusId
	),

	OLD_VALUES AS
	(
		SELECT d.[OpportunityTransitionId]
			   ,d.[OpportunityTransitionStatusId]
			   ,d.[TransitionDate]
			   ,d.[PersonId]
			   ,d.[NoteText]
			   ,d.OpportunityId 
			   ,d.TargetPersonId 
			   ,opp.[Name] as 'OpportunityName'
			   ,pers.LastName + ', ' + pers.FirstName as 'Person'
			   ,transitionStatus.Name as 'TransitionType'
		  FROM deleted AS d
		       INNER JOIN Opportunity as opp ON d.OpportunityId = opp.OpportunityId
			   inner join person as pers on pers.PersonId = d.TargetPersonId
			   inner join OpportunityTransitionStatus as transitionStatus on transitionStatus.OpportunityTransitionStatusId = d.OpportunityTransitionStatusId
	)

	-- Log an activity
	INSERT INTO dbo.UserActivityLog
	            (ActivityTypeID,
	             SessionID,
	             SystemUser,
	             Workstation,
	             ApplicationName,
	             UserLogin,
	             PersonID,
	             LastName,
	             FirstName,
	             LogData)
	SELECT CASE
	           WHEN d.OpportunityTransitionId IS NULL THEN 3
	           WHEN i.OpportunityTransitionId IS NULL THEN 5
	           ELSE 4
	       END AS ActivityTypeID,
	       l.SessionID,
	       l.SystemUser,
	       l.Workstation,
	       l.ApplicationName,
	       l.UserLogin,
	       l.PersonID,
	       l.LastName,
	       l.FirstName,
	       LogData = (SELECT *
					    FROM NEW_VALUES
					         FULL JOIN OLD_VALUES ON NEW_VALUES.OpportunityTransitionId = OLD_VALUES.OpportunityTransitionId
			           WHERE NEW_VALUES.OpportunityTransitionId = ISNULL(i.OpportunityTransitionId, d.OpportunityTransitionId) OR OLD_VALUES.OpportunityTransitionId = ISNULL(i.OpportunityTransitionId, d.OpportunityTransitionId)
					  FOR XML AUTO, ROOT('OpportunityTransition'), TYPE)
	  FROM inserted AS i
	       FULL JOIN deleted AS d ON i.OpportunityTransitionId = d.OpportunityTransitionId
	       INNER JOIN dbo.##SessionLogData AS l ON l.SessionID = @@SPID

END]]></Value>
			</Property>
			<Property Name="IsInsertTrigger" Value="True" />
			<Property Name="IsUpdateTrigger" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[SessionLogPrepare]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[TargetPersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionStatus].[OpportunityTransitionStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[OpportunityTransitionStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[OpportunityTransitionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[TransitionDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[NoteText]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[TargetPersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionStatus].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[TargetPersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[OpportunityTransitionStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[OpportunityTransitionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[TransitionDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[NoteText]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[TargetPersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ActivityTypeID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SessionID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SystemUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[Workstation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[PersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LogData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[OpportunityTransitionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[OpportunityTransitionId]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[OpportunityTransitionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[OpportunityTransitionId]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[OpportunityTransitionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[OpportunityTransitionId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[tr_OpportunityTransition_Log].[CTE1].[NEW_VALUES]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_OpportunityTransition_Log].[CTE1].[NEW_VALUES].[OpportunityTransitionId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OpportunityTransition].[OpportunityTransitionId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_OpportunityTransition_Log].[CTE1].[NEW_VALUES].[OpportunityTransitionStatusId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OpportunityTransition].[OpportunityTransitionStatusId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_OpportunityTransition_Log].[CTE1].[NEW_VALUES].[TransitionDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OpportunityTransition].[TransitionDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_OpportunityTransition_Log].[CTE1].[NEW_VALUES].[PersonId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OpportunityTransition].[PersonId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_OpportunityTransition_Log].[CTE1].[NEW_VALUES].[NoteText]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OpportunityTransition].[NoteText]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_OpportunityTransition_Log].[CTE1].[NEW_VALUES].[OpportunityId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OpportunityTransition].[OpportunityId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_OpportunityTransition_Log].[CTE1].[NEW_VALUES].[TargetPersonId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OpportunityTransition].[TargetPersonId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_OpportunityTransition_Log].[CTE1].[NEW_VALUES].[OpportunityName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_OpportunityTransition_Log].[CTE1].[NEW_VALUES].[Person]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_OpportunityTransition_Log].[CTE1].[NEW_VALUES].[TransitionType]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OpportunityTransitionStatus].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[tr_OpportunityTransition_Log].[CTE1].[OLD_VALUES]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_OpportunityTransition_Log].[CTE1].[OLD_VALUES].[OpportunityTransitionId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OpportunityTransition].[OpportunityTransitionId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_OpportunityTransition_Log].[CTE1].[OLD_VALUES].[OpportunityTransitionStatusId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OpportunityTransition].[OpportunityTransitionStatusId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_OpportunityTransition_Log].[CTE1].[OLD_VALUES].[TransitionDate]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OpportunityTransition].[TransitionDate]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_OpportunityTransition_Log].[CTE1].[OLD_VALUES].[PersonId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OpportunityTransition].[PersonId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_OpportunityTransition_Log].[CTE1].[OLD_VALUES].[NoteText]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OpportunityTransition].[NoteText]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_OpportunityTransition_Log].[CTE1].[OLD_VALUES].[OpportunityId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OpportunityTransition].[OpportunityId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_OpportunityTransition_Log].[CTE1].[OLD_VALUES].[TargetPersonId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OpportunityTransition].[TargetPersonId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_OpportunityTransition_Log].[CTE1].[OLD_VALUES].[OpportunityName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Opportunity].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_OpportunityTransition_Log].[CTE1].[OLD_VALUES].[Person]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_OpportunityTransition_Log].[CTE1].[OLD_VALUES].[TransitionType]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OpportunityTransitionStatus].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parent">
				<Entry>
					<References Name="[dbo].[OpportunityTransition]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2925" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE TRIGGER tr_OpportunityTransition_Log &#xD;&#xA;   ON  dbo.[OpportunityTransition] &#xD;&#xA;   AFTER INSERT, UPDATE&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90DmlTrigger" Name="[dbo].[tr_Person_Log]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="SqlTriggerType" Value="2" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	-- Ensure the temporary table exists
	EXEC SessionLogPrepare @UserLogin = NULL

	;WITH NEW_VALUES AS
	(
		SELECT i.PersonId,
		       i.PTODaysPerAnnum,
		       CONVERT(NVARCHAR(10), i.HireDate, 101) AS HireDate,
		       CONVERT(NVARCHAR(10), i.TerminationDate, 101) AS TerminationDate,
		       i.Alias,
		       p.Name AS DefaultPractice,
		       i.FirstName,
		       i.LastName,
		       s.Name AS PersonStatusName,
		       i.EmployeeNumber,
		       r.Name AS Seniority,
		       i.IsDefaultManager,
		       mngr.LastName + ', ' + mngr.FirstName as 'ManagerName',
			   i.TelephoneNumber
		  FROM inserted AS i
		       LEFT JOIN dbo.Practice AS p ON i.DefaultPractice = p.PracticeId
		       INNER JOIN dbo.PersonStatus AS s ON i.PersonStatusId = s.PersonStatusId
		       LEFT JOIN dbo.Seniority AS r ON i.SeniorityId = r.SeniorityId
		       INNER JOIN dbo.Person as mngr ON mngr.PersonId = i.ManagerId
	),

	OLD_VALUES AS
	(
		SELECT d.PersonId,
		       d.PTODaysPerAnnum,
		       CONVERT(NVARCHAR(10), d.HireDate, 101) AS HireDate,
		       CONVERT(NVARCHAR(10), d.TerminationDate, 101) AS TerminationDate,
		       d.Alias,
		       p.Name AS DefaultPractice,
		       d.FirstName,
		       d.LastName,
		       s.Name AS PersonStatusName,
		       d.EmployeeNumber,
		       r.Name AS Seniority,
		       d.IsDefaultManager,
		       mngr.LastName + ', ' + mngr.FirstName as 'ManagerName',
			   d.TelephoneNumber
		  FROM deleted AS d
		       LEFT JOIN dbo.Practice AS p ON d.DefaultPractice = p.PracticeId
		       INNER JOIN dbo.PersonStatus AS s ON d.PersonStatusId = s.PersonStatusId
		       LEFT JOIN dbo.Seniority AS r ON d.SeniorityId = r.SeniorityId
		       INNER JOIN dbo.Person as mngr ON mngr.PersonId = d.ManagerId
	)

	-- Log an activity
	INSERT INTO dbo.UserActivityLog
	            (ActivityTypeID,
	             SessionID,
	             SystemUser,
	             Workstation,
	             ApplicationName,
	             UserLogin,
	             PersonID,
	             LastName,
	             FirstName,
	             LogData)
	SELECT CASE
	           WHEN d.PersonID IS NULL THEN 3
	           WHEN i.PersonID IS NULL THEN 5
	           ELSE 4
	       END AS ActivityTypeID,
	       l.SessionID,
	       l.SystemUser,
	       l.Workstation,
	       l.ApplicationName,
	       l.UserLogin,
	       l.PersonID,
	       l.LastName,
	       l.FirstName,
	       LogData = (SELECT *
					    FROM NEW_VALUES
					         FULL JOIN OLD_VALUES ON NEW_VALUES.PersonID = OLD_VALUES.PersonID
			           WHERE NEW_VALUES.PersonID = ISNULL(i.PersonId, d.PersonID) OR OLD_VALUES.PersonID = ISNULL(i.PersonId, d.PersonID)
					  FOR XML AUTO, ROOT('Person'), TYPE)
	  FROM inserted AS i
	       FULL JOIN deleted AS d ON i.PersonID = d.PersonID
	       INNER JOIN dbo.##SessionLogData AS l ON l.SessionID = @@SPID

END]]></Value>
			</Property>
			<Property Name="IsInsertTrigger" Value="True" />
			<Property Name="IsUpdateTrigger" Value="True" />
			<Property Name="IsDeleteTrigger" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[SessionLogPrepare]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Seniority]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Seniority].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PTODaysPerAnnum]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[EmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Seniority].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[IsDefaultManager]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TelephoneNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PTODaysPerAnnum]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[EmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[IsDefaultManager]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TelephoneNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ActivityTypeID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SessionID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SystemUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[Workstation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[PersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LogData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[tr_Person_Log].[CTE1].[NEW_VALUES]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Person_Log].[CTE1].[NEW_VALUES].[PersonId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[PersonId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Person_Log].[CTE1].[NEW_VALUES].[PTODaysPerAnnum]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[PTODaysPerAnnum]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Person_Log].[CTE1].[NEW_VALUES].[HireDate]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Person_Log].[CTE1].[NEW_VALUES].[TerminationDate]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Person_Log].[CTE1].[NEW_VALUES].[Alias]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[Alias]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Person_Log].[CTE1].[NEW_VALUES].[DefaultPractice]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Practice].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Person_Log].[CTE1].[NEW_VALUES].[FirstName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[FirstName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Person_Log].[CTE1].[NEW_VALUES].[LastName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[LastName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Person_Log].[CTE1].[NEW_VALUES].[PersonStatusName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[PersonStatus].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Person_Log].[CTE1].[NEW_VALUES].[EmployeeNumber]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[EmployeeNumber]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Person_Log].[CTE1].[NEW_VALUES].[Seniority]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Seniority].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Person_Log].[CTE1].[NEW_VALUES].[IsDefaultManager]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[IsDefaultManager]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Person_Log].[CTE1].[NEW_VALUES].[ManagerName]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Person_Log].[CTE1].[NEW_VALUES].[TelephoneNumber]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[TelephoneNumber]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[tr_Person_Log].[CTE1].[OLD_VALUES]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Person_Log].[CTE1].[OLD_VALUES].[PersonId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[PersonId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Person_Log].[CTE1].[OLD_VALUES].[PTODaysPerAnnum]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[PTODaysPerAnnum]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Person_Log].[CTE1].[OLD_VALUES].[HireDate]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Person_Log].[CTE1].[OLD_VALUES].[TerminationDate]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Person_Log].[CTE1].[OLD_VALUES].[Alias]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[Alias]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Person_Log].[CTE1].[OLD_VALUES].[DefaultPractice]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Practice].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Person_Log].[CTE1].[OLD_VALUES].[FirstName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[FirstName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Person_Log].[CTE1].[OLD_VALUES].[LastName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[LastName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Person_Log].[CTE1].[OLD_VALUES].[PersonStatusName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[PersonStatus].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Person_Log].[CTE1].[OLD_VALUES].[EmployeeNumber]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[EmployeeNumber]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Person_Log].[CTE1].[OLD_VALUES].[Seniority]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Seniority].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Person_Log].[CTE1].[OLD_VALUES].[IsDefaultManager]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[IsDefaultManager]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Person_Log].[CTE1].[OLD_VALUES].[ManagerName]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Person_Log].[CTE1].[OLD_VALUES].[TelephoneNumber]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[TelephoneNumber]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parent">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="252" />
				<Property Name="Length" Value="3277" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 10-14-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Logs the changes in the dbo.Person table.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE TRIGGER dbo.tr_Person_Log&#xD;&#xA;ON dbo.[Person]&#xD;&#xA;AFTER INSERT, UPDATE, DELETE&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90DmlTrigger" Name="[dbo].[tr_Person_UpdateCalendar]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="SqlTriggerType" Value="2" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON

	-- Deleting redundand records
	DELETE pc
	  FROM dbo.PersonCalendarAuto AS pc
	       INNER JOIN inserted AS p ON pc.PersonId = p.PersonId
	 WHERE NOT EXISTS (SELECT 1
	                     FROM deleted AS d
	                    WHERE d.PersonId = p.PersonId
	                      AND d.HireDate = p.HireDate
	                      AND ISNULL(d.TerminationDate, '1900-01-01') = ISNULL(p.TerminationDate, '1900-01-01'))

	-- Inserting new records
	INSERT INTO dbo.PersonCalendarAuto
	            (Date, PersonId, DayOff)
	     SELECT c.Date, c.PersonId, c.DayOff
	       FROM dbo.v_PersonCalendar AS c
	            INNER JOIN inserted AS p ON c.PersonId = p.PersonId
	      WHERE NOT EXISTS (SELECT 1
	                          FROM deleted AS d
	                         WHERE d.PersonId = p.PersonId
	                           AND d.HireDate = p.HireDate
	                           AND ISNULL(d.TerminationDate, '1900-01-01') = ISNULL(p.TerminationDate, '1900-01-01'))

END]]></Value>
			</Property>
			<Property Name="IsInsertTrigger" Value="True" />
			<Property Name="IsUpdateTrigger" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[DayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[DayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TerminationDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parent">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="310" />
				<Property Name="Length" Value="1430" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 8-12-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date: 11-07-2008&#xD;&#xA;-- Description:&#x9;Updates a PersonCalendar table according to the data in the Person table&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE TRIGGER [dbo].[tr_Person_UpdateCalendar]&#xD;&#xA;ON [dbo].[Person]&#xD;&#xA;AFTER INSERT, UPDATE&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90DmlTrigger" Name="[dbo].[tr_PersonRoles_Log]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="SqlTriggerType" Value="2" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	-- Ensure the temporary table exists
	EXEC SessionLogPrepare @UserLogin = NULL

	;WITH NEW_VALUES AS
	(
		SELECT 
			p.PersonId,
			u.userid,
			r.roleid,
			p.LastName + ', ' + p.FirstName as 'Name',
			p.Alias as 'Email',
			r.RoleName as 'Role',
			'Set' as 'Action'
		  FROM inserted AS i
			left join dbo.aspnet_Roles as r on i.roleid = r.roleid
			left join dbo.aspnet_Users as u on i.userid = u.userid
			left join dbo.person as p on p.alias = u.username
	),

	OLD_VALUES AS
	(
		SELECT 
			p.PersonId,
			u.userid,
			r.roleid,
			p.LastName + ', ' + p.FirstName as 'Name',
			p.Alias as 'Email',
			r.RoleName as 'Role',
			'Unset' as 'Action'
		  FROM deleted AS d
			left join dbo.aspnet_Roles as r on d.roleid = r.roleid
			left join dbo.aspnet_Users as u on d.userid = u.userid
			left join dbo.person as p on p.alias = u.username
	)

	-- Log an activity
	INSERT INTO dbo.UserActivityLog
	            (ActivityTypeID,
	             SessionID,
	             SystemUser,
	             Workstation,
	             ApplicationName,
	             UserLogin,
	             PersonID,
	             LastName,
	             FirstName,
	             LogData)
	SELECT 4 as ActivityTypeID,
	       l.SessionID,
	       l.SystemUser,
	       l.Workstation,
	       l.ApplicationName,
	       l.UserLogin,
	       l.PersonID,
	       l.LastName,
	       l.FirstName,
	       LogData = (SELECT NEW_VALUES.PersonId, NEW_VALUES.[Name], NEW_VALUES.[Role], NEW_VALUES.[Action],
							 OLD_VALUES.PersonId, OLD_VALUES.[Name], OLD_VALUES.[Role], OLD_VALUES.[Action]
					    FROM NEW_VALUES
					         FULL JOIN OLD_VALUES ON NEW_VALUES.PersonID = OLD_VALUES.PersonID
			           WHERE (NEW_VALUES.userid = ISNULL(i.userid, d.userid) AND new_values.roleid=i.roleid) 
								OR (OLD_VALUES.userid = ISNULL(i.userid, d.userid) AND OLD_VALUES.roleid = d.roleid)
					  FOR XML AUTO, ROOT('Roles'), TYPE)
	  FROM inserted AS i
	       FULL JOIN deleted AS d ON i.userid = d.userid
	       INNER JOIN dbo.##SessionLogData AS l ON l.SessionID = @@SPID
END]]></Value>
			</Property>
			<Property Name="IsInsertTrigger" Value="True" />
			<Property Name="IsUpdateTrigger" Value="True" />
			<Property Name="IsDeleteTrigger" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[SessionLogPrepare]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ActivityTypeID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SessionID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SystemUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[Workstation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[PersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LogData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleName]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleName]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[RoleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[tr_PersonRoles_Log].[CTE1].[NEW_VALUES]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_PersonRoles_Log].[CTE1].[NEW_VALUES].[PersonId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[PersonId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_PersonRoles_Log].[CTE1].[NEW_VALUES].[userid]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[aspnet_Users].[UserId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_PersonRoles_Log].[CTE1].[NEW_VALUES].[roleid]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[aspnet_Roles].[RoleId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_PersonRoles_Log].[CTE1].[NEW_VALUES].[Name]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_PersonRoles_Log].[CTE1].[NEW_VALUES].[Email]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[Alias]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_PersonRoles_Log].[CTE1].[NEW_VALUES].[Role]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[aspnet_Roles].[RoleName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_PersonRoles_Log].[CTE1].[NEW_VALUES].[Action]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[tr_PersonRoles_Log].[CTE1].[OLD_VALUES]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_PersonRoles_Log].[CTE1].[OLD_VALUES].[PersonId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[PersonId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_PersonRoles_Log].[CTE1].[OLD_VALUES].[userid]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[aspnet_Users].[UserId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_PersonRoles_Log].[CTE1].[OLD_VALUES].[roleid]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[aspnet_Roles].[RoleId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_PersonRoles_Log].[CTE1].[OLD_VALUES].[Name]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_PersonRoles_Log].[CTE1].[OLD_VALUES].[Email]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[Alias]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_PersonRoles_Log].[CTE1].[OLD_VALUES].[Role]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[aspnet_Roles].[RoleName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_PersonRoles_Log].[CTE1].[OLD_VALUES].[Action]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parent">
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="194" />
				<Property Name="Length" Value="2425" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;&lt;Author,,Name&gt;&#xD;&#xA;-- Create date: &lt;Create Date,,&gt;&#xD;&#xA;-- Description:&#x9;&lt;Description,,&gt;&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE TRIGGER dbo.tr_PersonRoles_Log&#xD;&#xA;   ON  dbo.[aspnet_UsersInRoles]&#xD;&#xA;   AFTER INSERT, UPDATE, DELETE&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="ISql90DmlTrigger" Name="[dbo].[tr_Project_LogInsert]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="SqlTriggerType" Value="2" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	-- Ensure the temporary table exists
	EXEC SessionLogPrepare @UserLogin = NULL

	-- Log an activity
	INSERT INTO dbo.UserActivityLog
	            (ActivityTypeID,
	             SessionID,
	             SystemUser,
	             Workstation,
	             ApplicationName,
	             UserLogin,
	             PersonID,
	             LastName,
	             FirstName,
	             LogData)
	SELECT 3 AS ActivityTypeID /* insert only */,
	       l.SessionID,
	       l.SystemUser,
	       l.Workstation,
	       l.ApplicationName,
	       l.UserLogin,
	       l.PersonID,
	       l.LastName,
	       l.FirstName,
	       LogData = (SELECT NEW_VALUES.ProjectId, NEW_VALUES.Name
					    FROM inserted AS NEW_VALUES
			           WHERE NEW_VALUES.ProjectId = i.ProjectId
					  FOR XML AUTO, ROOT('Project'), TYPE)
	  FROM inserted AS i
	       INNER JOIN dbo.##SessionLogData AS l ON l.SessionID = @@SPID
END]]></Value>
			</Property>
			<Property Name="IsInsertTrigger" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[SessionLogPrepare]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ActivityTypeID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SessionID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SystemUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[Workstation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[PersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LogData]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parent">
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="257" />
				<Property Name="Length" Value="1275" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 11-25-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Logs the inserting into the dbo.Project table.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE TRIGGER tr_Project_LogInsert&#xD;&#xA;ON dbo.Project&#xD;&#xA;AFTER INSERT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90DmlTrigger" Name="[dbo].[tr_Project_LogUpdateDelete]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="SqlTriggerType" Value="2" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	-- Ensure the temporary table exists
	EXEC SessionLogPrepare @UserLogin = NULL

	;WITH NEW_VALUES AS
	(
		SELECT i.ProjectId,
		       i.Name,
		       c.Name AS ClientName,
		       i.Discount,
		       i.Terms,
		       p.PracticeManagerId,
		       pm.LastName + ', ' + pm.FirstName AS PracticeManagerFullName,
		       p.Name AS PracticeName,
		       CONVERT(NVARCHAR(10), i.StartDate, 101) AS StartDate,
		       CONVERT(NVARCHAR(10), i.EndDate, 101) AS EndDate,
		       s.Name AS ProjectStatusName,
		       i.ProjectNumber,
		       i.BuyerName
		  FROM inserted AS i
		       INNER JOIN dbo.Client AS c ON i.ClientId = c.ClientId
		       INNER JOIN dbo.Practice AS p ON i.PracticeId = p.PracticeId
		       INNER JOIN dbo.Person AS pm ON p.PracticeManagerId = pm.PersonId
		       INNER JOIN dbo.ProjectStatus AS s ON i.ProjectStatusId = s.ProjectStatusId
	),

	OLD_VALUES AS
	(
		SELECT d.ProjectId,
		       d.Name,
		       c.Name AS ClientName,
		       d.Discount,
		       d.Terms,
		       p.PracticeManagerId,
		       pm.LastName + ', ' + pm.FirstName AS PracticeManagerFullName,
		       p.Name AS PracticeName,
		       CONVERT(NVARCHAR(10), d.StartDate, 101) AS StartDate,
		       CONVERT(NVARCHAR(10), d.EndDate, 101) AS EndDate,
		       s.Name AS ProjectStatusName,
		       d.ProjectNumber,
		       d.BuyerName
		  FROM deleted AS d
		       INNER JOIN dbo.Client AS c ON d.ClientId = c.ClientId
		       INNER JOIN dbo.Practice AS p ON d.PracticeId = p.PracticeId
		       INNER JOIN dbo.Person AS pm ON p.PracticeManagerId = pm.PersonId
		       INNER JOIN dbo.ProjectStatus AS s ON d.ProjectStatusId = s.ProjectStatusId
	)

	-- Log an activity
	INSERT INTO dbo.UserActivityLog
	            (ActivityTypeID,
	             SessionID,
	             SystemUser,
	             Workstation,
	             ApplicationName,
	             UserLogin,
	             PersonID,
	             LastName,
	             FirstName,
	             LogData)
	SELECT CASE
	           WHEN d.ProjectId IS NULL THEN 3 -- Actually is redundant
	           WHEN i.ProjectId IS NULL THEN 5
	           ELSE 4
	       END AS ActivityTypeID,
	       l.SessionID,
	       l.SystemUser,
	       l.Workstation,
	       l.ApplicationName,
	       l.UserLogin,
	       l.PersonID,
	       l.LastName,
	       l.FirstName,
	       LogData = (SELECT *
					    FROM NEW_VALUES
					         FULL JOIN OLD_VALUES ON NEW_VALUES.ProjectId = OLD_VALUES.ProjectId
			           WHERE NEW_VALUES.ProjectId = ISNULL(i.ProjectId, d.ProjectId) OR OLD_VALUES.ProjectId = ISNULL(i.ProjectId, d.ProjectId)
					  FOR XML AUTO, ROOT('Project'), TYPE)
	  FROM inserted AS i
	       FULL JOIN deleted AS d ON i.ProjectId = d.ProjectId
	       INNER JOIN dbo.##SessionLogData AS l ON l.SessionID = @@SPID
	 WHERE i.ProjectId IS NULL -- deleted record
	    -- Detect changes
	    OR ISNULL(i.ClientId, 0) <> ISNULL(d.ClientId, 0)
	    OR ISNULL(i.Discount, 0) <> ISNULL(d.Discount, 0)
	    OR ISNULL(i.Terms, 0) <> ISNULL(d.Terms, 0)
	    OR i.Name <> d.Name
	    OR ISNULL(i.PracticeId, 0) <> ISNULL(d.PracticeId, 0)
	    OR ISNULL(i.ProjectStatusId, 0) <> ISNULL(d.ProjectStatusId, 0)
	    OR ISNULL(i.ProjectNumber, '') <> ISNULL(d.ProjectNumber, '')
	    OR ISNULL(i.BuyerName, '') <> ISNULL(d.BuyerName, '')

END]]></Value>
			</Property>
			<Property Name="IsUpdateTrigger" Value="True" />
			<Property Name="IsDeleteTrigger" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[SessionLogPrepare]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectStatus].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[Name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[StartDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectStatus].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Terms]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[StartDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ActivityTypeID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SessionID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SystemUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[Workstation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[PersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LogData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[BuyerName]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[tr_Project_LogUpdateDelete].[CTE1].[NEW_VALUES]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Project_LogUpdateDelete].[CTE1].[NEW_VALUES].[ProjectId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Project].[ProjectId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Project_LogUpdateDelete].[CTE1].[NEW_VALUES].[Name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Project].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Project_LogUpdateDelete].[CTE1].[NEW_VALUES].[ClientName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Client].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Project_LogUpdateDelete].[CTE1].[NEW_VALUES].[Discount]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Project].[Discount]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Project_LogUpdateDelete].[CTE1].[NEW_VALUES].[Terms]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Project].[Terms]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Project_LogUpdateDelete].[CTE1].[NEW_VALUES].[PracticeManagerId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Practice].[PracticeManagerId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Project_LogUpdateDelete].[CTE1].[NEW_VALUES].[PracticeManagerFullName]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Project_LogUpdateDelete].[CTE1].[NEW_VALUES].[PracticeName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Practice].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Project_LogUpdateDelete].[CTE1].[NEW_VALUES].[StartDate]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Project_LogUpdateDelete].[CTE1].[NEW_VALUES].[EndDate]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Project_LogUpdateDelete].[CTE1].[NEW_VALUES].[ProjectStatusName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ProjectStatus].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Project_LogUpdateDelete].[CTE1].[NEW_VALUES].[ProjectNumber]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Project].[ProjectNumber]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Project_LogUpdateDelete].[CTE1].[NEW_VALUES].[BuyerName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Project].[BuyerName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[tr_Project_LogUpdateDelete].[CTE1].[OLD_VALUES]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Project_LogUpdateDelete].[CTE1].[OLD_VALUES].[ProjectId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Project].[ProjectId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Project_LogUpdateDelete].[CTE1].[OLD_VALUES].[Name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Project].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Project_LogUpdateDelete].[CTE1].[OLD_VALUES].[ClientName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Client].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Project_LogUpdateDelete].[CTE1].[OLD_VALUES].[Discount]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Project].[Discount]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Project_LogUpdateDelete].[CTE1].[OLD_VALUES].[Terms]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Project].[Terms]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Project_LogUpdateDelete].[CTE1].[OLD_VALUES].[PracticeManagerId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Practice].[PracticeManagerId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Project_LogUpdateDelete].[CTE1].[OLD_VALUES].[PracticeManagerFullName]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Project_LogUpdateDelete].[CTE1].[OLD_VALUES].[PracticeName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Practice].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Project_LogUpdateDelete].[CTE1].[OLD_VALUES].[StartDate]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Project_LogUpdateDelete].[CTE1].[OLD_VALUES].[EndDate]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Project_LogUpdateDelete].[CTE1].[OLD_VALUES].[ProjectStatusName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ProjectStatus].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Project_LogUpdateDelete].[CTE1].[OLD_VALUES].[ProjectNumber]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Project].[ProjectNumber]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_Project_LogUpdateDelete].[CTE1].[OLD_VALUES].[BuyerName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Project].[BuyerName]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parent">
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="272" />
				<Property Name="Length" Value="3758" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 11-27-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Logs the updating and deletring from the dbo.Project table.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE TRIGGER dbo.tr_Project_LogUpdateDelete&#xD;&#xA;ON dbo.[Project]&#xD;&#xA;AFTER UPDATE, DELETE&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90DmlTrigger" Name="[dbo].[tr_TE_logInsert]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="SqlTriggerType" Value="2" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
BEGIN
	-- Ensure the temporary table exists
	EXEC SessionLogPrepare @UserLogin = NULL

	-- Log an activity
	INSERT INTO dbo.UserActivityLog
	            (ActivityTypeID,
	             SessionID,
	             SystemUser,
	             Workstation,
	             ApplicationName,
	             UserLogin,
	             PersonID,
	             LastName,
	             FirstName,
	             LogData)
	SELECT 3 AS ActivityTypeID /* insert only */,
	       l.SessionID,
	       l.SystemUser,
	       l.Workstation,
	       l.ApplicationName,
	       l.UserLogin,
	       l.PersonID,
	       l.LastName,
	       l.FirstName,
	       LogData = (SELECT   1 AS Tag,
							   NULL AS Parent, 
							   NEW_VALUES.[TimeEntryId] AS 'NEW_VALUES!1!TimeEntryId'
							  ,CONVERT(VARCHAR(8), NEW_VALUES.[EntryDate], 101) AS 'NEW_VALUES!1!EntryDate'
							  ,CONVERT(VARCHAR(8), NEW_VALUES.[ModifiedDate], 101) AS 'NEW_VALUES!1!ModifiedDate'
							  ,NEW_VALUES.[MilestonePersonId] AS 'NEW_VALUES!1!MilestonePersonId'
							  ,CAST(NEW_VALUES.[ActualHours] as decimal(20,2)) AS 'NEW_VALUES!1!ActualHours'
							  ,CAST(NEW_VALUES.[ForecastedHours] as decimal(20,2)) AS 'NEW_VALUES!1!ForecastedHours'
							  ,NEW_VALUES.[TimeTypeId] AS 'NEW_VALUES!1!TimeTypeId'
							  ,NEW_VALUES.[ModifiedBy] AS 'NEW_VALUES!1!ModifiedBy'
							  ,NEW_VALUES.[Note] AS 'NEW_VALUES!1!Note'
							  ,CASE NEW_VALUES.[IsReviewed] WHEN 0 THEN 'False' ELSE 'True' END AS 'NEW_VALUES!1!IsReviewed' 
							  ,CONVERT(VARCHAR(8), NEW_VALUES.[MilestoneDate], 101) AS 'NEW_VALUES!1!MilestoneDate'
							  ,modp.LastName + ', ' + modp.FirstName AS 'NEW_VALUES!1!ModifiedByName'
							  ,objp.LastName + ', ' + objp.FirstName AS 'NEW_VALUES!1!ObjectName'
							  ,objp.PersonId AS 'NEW_VALUES!1!ObjectPersonId'
							  ,m.Description AS 'NEW_VALUES!1!Description'
							  ,m.MilestoneId AS 'NEW_VALUES!1!MilestoneId'
							  ,proj.[name] AS 'NEW_VALUES!1!ProjectName'
							  ,proj.ProjectId AS 'NEW_VALUES!1!ProjectId'
							  ,clnt.[name] AS 'NEW_VALUES!1!ClientName'
							  ,clnt.[ClientId] AS 'NEW_VALUES!1!ClientId'
					    FROM inserted AS NEW_VALUES
					    INNER JOIN dbo.Person AS modp ON modp.PersonId = NEW_VALUES.ModifiedBy
					    INNER JOIN dbo.MilestonePerson AS mp ON mp.MilestonePersonId = NEW_VALUES.MilestonePersonId
					    INNER JOIN dbo.Person AS objp ON objp.PersonId = mp.PersonId
					    INNER JOIN dbo.Milestone AS m  ON m.MilestoneId = mp.MilestoneId
					    INNER JOIN dbo.Project AS proj ON proj.ProjectId = m.ProjectId
					    INNER JOIN dbo.Client AS clnt ON proj.ClientId = clnt.ClientId
			           WHERE NEW_VALUES.TimeEntryId = i.TimeEntryId
					  FOR XML EXPLICIT, ROOT('TimeEntry'), TYPE)
	  FROM inserted AS i
	       INNER JOIN dbo.##SessionLogData AS l ON l.SessionID = @@SPID
END]]></Value>
			</Property>
			<Property Name="IsInsertTrigger" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[SessionLogPrepare]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ActivityTypeID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SessionID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SystemUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[Workstation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[PersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LogData]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ModifiedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[TimeEntryId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[EntryDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ModifiedDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[decimal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ActualHours]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[decimal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ForecastedHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[TimeTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ModifiedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[Note]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[IsReviewed]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[MilestoneDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[TimeEntryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[TimeEntryId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parent">
				<Entry>
					<References Name="[dbo].[TimeEntries]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="215" />
				<Property Name="Length" Value="3163" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2009-12-23&#xD;&#xA;-- Description:&#x9;Adds activity log record on TE insert&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE TRIGGER tr_TE_logInsert &#xD;&#xA;   ON  dbo.TimeEntries&#xD;&#xA;   AFTER INSERT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql90DmlTrigger" Name="[dbo].[tr_TE_logUpdateDelete]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="SqlTriggerType" Value="2" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
BEGIN
	-- Ensure the temporary table exists
	EXEC SessionLogPrepare @UserLogin = NULL;

	WITH NEW_VALUES AS
	(
		SELECT 1 AS Tag,
			   NULL AS Parent, 
			   ins.[TimeEntryId] AS 'TimeEntryId'
			  ,CONVERT(VARCHAR(8), ins.[EntryDate], 101) AS 'EntryDate'
			  ,CONVERT(VARCHAR(8), ins.[ModifiedDate], 101) AS 'ModifiedDate'
			  ,ins.[MilestonePersonId] AS 'MilestonePersonId'
			  ,CAST(ins.[ActualHours] as decimal(20,2)) AS 'ActualHours'
			  ,CAST(ins.[ForecastedHours] as decimal(20,2)) AS 'ForecastedHours'
			  ,ins.[TimeTypeId] AS 'TimeTypeId'
			  ,ins.[ModifiedBy] AS 'ModifiedBy'
			  ,ins.[Note] AS 'Note'
			  ,CASE ins.[IsReviewed] WHEN 0 THEN 'False' ELSE 'True' END AS 'IsReviewed' 
			  ,CONVERT(VARCHAR(8), ins.[MilestoneDate], 101) AS 'MilestoneDate'
			  ,modp.LastName + ', ' + modp.FirstName AS 'ModifiedByName'
			  ,objp.LastName + ', ' + objp.FirstName AS 'ObjectName'
			  ,objp.PersonId AS 'ObjectPersonId'
			  ,m.Description AS 'Description'
			  ,m.MilestoneId AS 'MilestoneId'
			  ,proj.[name] AS 'ProjectName'
			  ,proj.ProjectId AS 'ProjectId'
			  ,clnt.[name] AS 'ClientName'
			  ,clnt.[ClientId] AS 'ClientId'
	    FROM inserted AS ins
	    INNER JOIN dbo.Person AS modp ON modp.PersonId = ins.ModifiedBy
	    INNER JOIN dbo.MilestonePerson AS mp ON mp.MilestonePersonId = ins.MilestonePersonId
	    INNER JOIN dbo.Person AS objp ON objp.PersonId = mp.PersonId
	    INNER JOIN dbo.Milestone AS m  ON m.MilestoneId = mp.MilestoneId
	    INNER JOIN dbo.Project AS proj ON proj.ProjectId = m.ProjectId
	    INNER JOIN dbo.Client AS clnt ON proj.ClientId = clnt.ClientId
	),

	OLD_VALUES AS
	(
		SELECT   1 AS Tag,
			   NULL AS Parent, 
			   del.[TimeEntryId] AS 'TimeEntryId'
			  ,CONVERT(VARCHAR(8), del.[EntryDate], 101) AS 'EntryDate'
			  ,CONVERT(VARCHAR(8), del.[ModifiedDate], 101) AS 'ModifiedDate'
			  ,del.[MilestonePersonId] AS 'MilestonePersonId'
			  ,CAST(del.[ActualHours] as decimal(20,2)) AS 'ActualHours'
			  ,CAST(del.[ForecastedHours] as decimal(20,2)) AS 'ForecastedHours'
			  ,del.[TimeTypeId] AS 'TimeTypeId'
			  ,del.[ModifiedBy] AS 'ModifiedBy'
			  ,del.[Note] AS 'Note'
			  ,CASE del.[IsReviewed] WHEN 0 THEN 'False' ELSE 'True' END AS 'IsReviewed' 
			  ,CONVERT(VARCHAR(8), del.[MilestoneDate], 101) AS 'MilestoneDate'
			  ,modp.LastName + ', ' + modp.FirstName AS 'ModifiedByName'
			  ,objp.LastName + ', ' + objp.FirstName AS 'ObjectName'
			  ,objp.PersonId AS 'ObjectPersonId'
			  ,m.Description AS 'Description'
			  ,m.MilestoneId AS 'MilestoneId'
			  ,proj.[name] AS 'ProjectName'
			  ,proj.ProjectId AS 'ProjectId'
			  ,clnt.[name] AS 'ClientName'
			  ,clnt.[ClientId] AS 'ClientId'
	    FROM deleted AS del
	    INNER JOIN dbo.Person AS modp ON modp.PersonId = del.ModifiedBy
	    INNER JOIN dbo.MilestonePerson AS mp ON mp.MilestonePersonId = del.MilestonePersonId
	    INNER JOIN dbo.Person AS objp ON objp.PersonId = mp.PersonId
	    INNER JOIN dbo.Milestone AS m  ON m.MilestoneId = mp.MilestoneId
	    INNER JOIN dbo.Project AS proj ON proj.ProjectId = m.ProjectId
	    INNER JOIN dbo.Client AS clnt ON proj.ClientId = clnt.ClientId
	)

	-- Log an activity
	INSERT INTO dbo.UserActivityLog
	            (ActivityTypeID,
	             SessionID,
	             SystemUser,
	             Workstation,
	             ApplicationName,
	             UserLogin,
	             PersonID,
	             LastName,
	             FirstName,
	             LogData)
	SELECT CASE
	           WHEN d.TimeEntryId IS NULL THEN 3 -- Actually is redundant
	           WHEN i.TimeEntryId IS NULL THEN 5
	           ELSE 4
	       END AS ActivityTypeID,
	       l.SessionID,
	       l.SystemUser,
	       l.Workstation,
	       l.ApplicationName,
	       l.UserLogin,
	       l.PersonID,
	       l.LastName,
	       l.FirstName,
	       LogData = (SELECT *
					    FROM NEW_VALUES
					         FULL JOIN OLD_VALUES ON NEW_VALUES.TimeEntryId = OLD_VALUES.TimeEntryId
			           WHERE NEW_VALUES.TimeEntryId = ISNULL(i.TimeEntryId, d.TimeEntryId) OR OLD_VALUES.TimeEntryId = ISNULL(i.TimeEntryId, d.TimeEntryId)
					  FOR XML AUTO, ROOT('TimeEntry'), TYPE)
	  FROM inserted AS i
	       FULL JOIN deleted AS d ON i.TimeEntryId = d.TimeEntryId
	       INNER JOIN dbo.##SessionLogData AS l ON l.SessionID = @@SPID
END]]></Value>
			</Property>
			<Property Name="IsUpdateTrigger" Value="True" />
			<Property Name="IsDeleteTrigger" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[SessionLogPrepare]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ModifiedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[TimeEntryId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[EntryDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ModifiedDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[decimal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ActualHours]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[decimal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ForecastedHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[TimeTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ModifiedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[Note]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[IsReviewed]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[MilestoneDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ModifiedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[TimeEntryId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[EntryDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ModifiedDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[decimal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ActualHours]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[decimal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ForecastedHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[TimeTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ModifiedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[Note]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[IsReviewed]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[MilestoneDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ActivityTypeID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SessionID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SystemUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[Workstation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[PersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LogData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[TimeEntryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[TimeEntryId]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[TimeEntries].[TimeEntryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[TimeEntryId]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[TimeEntries].[TimeEntryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[TimeEntryId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[NEW_VALUES]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[NEW_VALUES].[Tag]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[NEW_VALUES].[Parent]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[NEW_VALUES].[TimeEntryId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[TimeEntries].[TimeEntryId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[NEW_VALUES].[EntryDate]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[NEW_VALUES].[ModifiedDate]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[NEW_VALUES].[MilestonePersonId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[TimeEntries].[MilestonePersonId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[NEW_VALUES].[ActualHours]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[NEW_VALUES].[ForecastedHours]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[NEW_VALUES].[TimeTypeId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[TimeEntries].[TimeTypeId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[NEW_VALUES].[ModifiedBy]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[TimeEntries].[ModifiedBy]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[NEW_VALUES].[Note]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[TimeEntries].[Note]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[NEW_VALUES].[IsReviewed]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[NEW_VALUES].[MilestoneDate]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[NEW_VALUES].[ModifiedByName]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[NEW_VALUES].[ObjectName]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[NEW_VALUES].[ObjectPersonId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[PersonId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[NEW_VALUES].[Description]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[Description]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[NEW_VALUES].[MilestoneId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[MilestoneId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[NEW_VALUES].[ProjectName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Project].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[NEW_VALUES].[ProjectId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Project].[ProjectId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[NEW_VALUES].[ClientName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Client].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[NEW_VALUES].[ClientId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Client].[ClientId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[OLD_VALUES]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[OLD_VALUES].[Tag]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[OLD_VALUES].[Parent]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[OLD_VALUES].[TimeEntryId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[TimeEntries].[TimeEntryId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[OLD_VALUES].[EntryDate]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[OLD_VALUES].[ModifiedDate]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[OLD_VALUES].[MilestonePersonId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[TimeEntries].[MilestonePersonId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[OLD_VALUES].[ActualHours]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[OLD_VALUES].[ForecastedHours]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[OLD_VALUES].[TimeTypeId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[TimeEntries].[TimeTypeId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[OLD_VALUES].[ModifiedBy]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[TimeEntries].[ModifiedBy]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[OLD_VALUES].[Note]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[TimeEntries].[Note]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[OLD_VALUES].[IsReviewed]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[OLD_VALUES].[MilestoneDate]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[OLD_VALUES].[ModifiedByName]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[OLD_VALUES].[ObjectName]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[OLD_VALUES].[ObjectPersonId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[PersonId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[OLD_VALUES].[Description]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[Description]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[OLD_VALUES].[MilestoneId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Milestone].[MilestoneId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[OLD_VALUES].[ProjectName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Project].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[OLD_VALUES].[ProjectId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Project].[ProjectId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[OLD_VALUES].[ClientName]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Client].[Name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[tr_TE_logUpdateDelete].[CTE1].[OLD_VALUES].[ClientId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Client].[ClientId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parent">
				<Entry>
					<References Name="[dbo].[TimeEntries]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="178" />
				<Property Name="Length" Value="4664" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Nikita Goncharenko&#xD;&#xA;-- Create date: 2009-12-23&#xD;&#xA;-- Description:&#x9;&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE TRIGGER tr_TE_logUpdateDelete&#xD;&#xA;   ON  dbo.TimeEntries&#xD;&#xA;   AFTER UPDATE, DELETE&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100UniqueConstraint" Name="[dbo].[UN_EmployeeNumber]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Person].[EmployeeNumber]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100UniqueConstraint" Name="[dbo].[UN_MilestonePerson]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[MilestonePerson].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90DmlTrigger" Name="[dbo].[UpdateProjectWithLinkedOpportunity]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="SqlTriggerType" Value="2" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
BEGIN
	SET NOCOUNT ON;

	Declare @OpportunityId int
	Declare @ProjectId int

	select 
		@ProjectId = i.ProjectId, 
		@OpportunityId = i.OpportunityId 
	from inserted as i

	update dbo.Project
	set OpportunityId = @OpportunityId
	where ProjectId = @ProjectId
END]]></Value>
			</Property>
			<Property Name="IsInsertTrigger" Value="True" />
			<Property Name="IsUpdateTrigger" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parent">
				<Entry>
					<References Name="[dbo].[Opportunity]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="382" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE TRIGGER UpdateProjectWithLinkedOpportunity &#xD;&#xA;   ON  dbo.Opportunity &#xD;&#xA;   AFTER INSERT, UPDATE&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100UniqueConstraint" Name="[dbo].[UQ_MonthlyExpense_Name_Year_Month]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[MonthlyExpense].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[MonthlyExpense].[Year]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[MonthlyExpense].[Month]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[MonthlyExpense]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100UniqueConstraint" Name="[dbo].[UQ_UserActivityType_ActivityName]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[UserActivityType].[ActivityName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[UserActivityType]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[UserActivityLog]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[UserActivityLog].[ActivityID]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[UserActivityLog].[ActivityTypeID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[UserActivityLog].[SessionID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[UserActivityLog].[LogDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[UserActivityLog].[SystemUser]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[UserActivityLog].[Workstation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[UserActivityLog].[ApplicationName]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[UserActivityLog].[UserLogin]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[UserActivityLog].[PersonID]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[UserActivityLog].[LastName]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[UserActivityLog].[FirstName]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[UserActivityLog].[LogData]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90XmlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[xml]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Statistic" Name="[dbo].[UserActivityLog].[_dta_stat_103671417_2_4]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ActivityTypeID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LogDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="Subject">
				<Entry>
					<References Name="[dbo].[UserActivityLog]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[UserActivityLogInsert]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	-- Ensure the temporary table exists
	EXEC SessionLogPrepare @UserLogin = NULL

	-- Log an activity
	INSERT INTO dbo.UserActivityLog
	            (ActivityTypeID,
	             SessionID,
	             SystemUser,
	             Workstation,
	             ApplicationName,
	             UserLogin,
	             PersonID,
	             LastName,
	             FirstName,
	             LogData)
	SELECT @ActivityTypeID,
	       l.SessionID,
	       l.SystemUser,
	       l.Workstation,
	       l.ApplicationName,
	       l.UserLogin,
	       l.PersonID,
	       l.LastName,
	       l.FirstName,
	       LogData = @LogData
	  FROM dbo.##SessionLogData AS l
	  WHERE l.SessionID = @@SPID]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[SessionLogPrepare]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SessionLogPrepare].[@UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ActivityTypeID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SessionID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[SystemUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[Workstation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[UserLogin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[PersonID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserActivityLog].[LogData]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[UserActivityLogInsert].[@ActivityTypeID]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[UserActivityLogInsert].[@LogData]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[UserActivityLogInsert].[@ActivityTypeID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[UserActivityLogInsert].[@LogData]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="1000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="803" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE UserActivityLogInsert&#xD;&#xA;&#x9;@ActivityTypeID&#x9;INT,&#xD;&#xA;&#x9;@LogData&#x9;&#x9;VARCHAR(1000)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[UserActivityType]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[UserActivityType].[ActivityTypeID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[UserActivityType].[ActivityName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="25" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_FinancialsForMilestones]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[ 
	SELECT f.PersonId,
		   f.MilestoneId,
		   f.ProjectId,
	       dbo.MakeDate(YEAR(MIN(f.Date)), MONTH(MIN(f.Date)), 1) AS FinancialDate,
	       dbo.MakeDate(YEAR(MIN(f.Date)), MONTH(MIN(f.Date)), dbo.GetDaysInMonth(MIN(f.Date))) AS MonthEnd,

	       SUM(f.PersonMilestoneDailyAmount) AS Revenue,

	       SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) AS RevenueNet,

	       ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0) AS Cogs,

	       SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) -
	       ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0) AS GrossMargin,

	       ISNULL(SUM(f.PersonHoursPerDay), 0) AS Hours,

	       SUM(f.PersonMilestoneDailyAmount - ISNULL(f.PayRate * f.PersonHoursPerDay, 0)) *
	       (SELECT SUM(c.FractionOfMargin) FROM dbo.Commission AS c WHERE c.ProjectId = f.ProjectId AND c.CommissionType = 1) / 100 AS SalesCommission,

	       SUM((f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount -
	            (ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * ISNULL(f.PersonHoursPerDay, 0)) *
	           (f.PracticeManagementCommissionSub + CASE f.PracticeManagerId WHEN f.PersonId THEN f.PracticeManagementCommissionOwn ELSE 0 END)) / 100 AS PracticeManagementCommission,
	           0.0 AS 'actualhours',
	           0.0 AS 'forecastedhours',
           ISNULL(SUM(vac.VacationHours), 0) AS 'VacationHours'
	  FROM dbo.v_FinancialsRetrospective AS f
      LEFT JOIN dbo.v_MilestonePersonVacations AS vac ON f.MilestoneId = vac.MilestoneId AND f.PersonId = vac.PersonId
	GROUP BY f.PersonId, f.MilestoneId, f.ProjectId]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsForMilestones].[PersonId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_FinancialsRetrospective].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsForMilestones].[MilestoneId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_FinancialsRetrospective].[MilestoneId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsForMilestones].[ProjectId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsForMilestones].[FinancialDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MakeDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsForMilestones].[MonthEnd]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MakeDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsForMilestones].[Revenue]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsForMilestones].[RevenueNet]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsForMilestones].[Cogs]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsForMilestones].[GrossMargin]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsForMilestones].[Hours]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsForMilestones].[SalesCommission]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsForMilestones].[PracticeManagementCommission]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsForMilestones].[actualhours]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsForMilestones].[forecastedhours]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsForMilestones].[VacationHours]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonVacations]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonVacations].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonVacations].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDaysInMonth]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonMilestoneDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonDiscountDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PayRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[OverheadRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonHoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[FractionOfMargin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[CommissionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagementCommissionSub]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagementCommissionOwn]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonVacations].[VacationHours]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="1761" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE VIEW [dbo].[v_FinancialsForMilestones]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_FinancialsListByProjectPeriod]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[ 
	SELECT f.ProjectId,
	       dbo.MakeDate(YEAR(MIN(f.Date)), MONTH(MIN(f.Date)), 1) AS FinancialDate,
	       dbo.MakeDate(YEAR(MIN(f.Date)), MONTH(MIN(f.Date)), dbo.GetDaysInMonth(MIN(f.Date))) AS MonthEnd,

	       SUM(f.PersonMilestoneDailyAmount) AS Revenue,

	       SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) AS RevenueNet,

	       ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0) AS Cogs,

	       SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) -
	       ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0) AS GrossMargin,

	       ISNULL(SUM(f.PersonHoursPerDay), 0) AS Hours,

	       SUM(f.PersonMilestoneDailyAmount - ISNULL(f.PayRate * f.PersonHoursPerDay, 0)) *
	       (SELECT SUM(c.FractionOfMargin) FROM dbo.Commission AS c WHERE c.ProjectId = f.ProjectId AND c.CommissionType = 1) / 100 AS SalesCommission,

	       SUM((f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount -
	            (ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * ISNULL(f.PersonHoursPerDay, 0)) *
	           (f.PracticeManagementCommissionSub + CASE f.PracticeManagerId WHEN f.PersonId THEN f.PracticeManagementCommissionOwn ELSE 0 END)) / 100 AS PracticeManagementCommission
	  FROM dbo.v_FinancialsRetrospective AS f
	GROUP BY f.ProjectId, YEAR(f.Date), MONTH(f.Date)]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsListByProjectPeriod].[ProjectId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsListByProjectPeriod].[FinancialDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MakeDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsListByProjectPeriod].[MonthEnd]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MakeDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsListByProjectPeriod].[Revenue]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsListByProjectPeriod].[RevenueNet]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsListByProjectPeriod].[Cogs]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsListByProjectPeriod].[GrossMargin]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsListByProjectPeriod].[Hours]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsListByProjectPeriod].[SalesCommission]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsListByProjectPeriod].[PracticeManagementCommission]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDaysInMonth]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonMilestoneDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonDiscountDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PayRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[OverheadRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonHoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[FractionOfMargin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[CommissionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagementCommissionSub]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagementCommissionOwn]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1464" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW dbo.v_FinancialsListByProjectPeriod&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_FinancialsListByProjectPeriodTotal]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[
	SELECT f.ProjectId,
	       dbo.MakeDate(YEAR(MIN(f.Date)), MONTH(MIN(f.Date)), 1) AS FinancialDate,
	       dbo.MakeDate(YEAR(MIN(f.Date)), MONTH(MIN(f.Date)), dbo.GetDaysInMonth(MIN(f.Date))) AS MonthEnd,

	       SUM(f.PersonMilestoneDailyAmount) AS Revenue,

	       SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) AS RevenueNet,

	       ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0) AS Cogs,

	       SUM(f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount) -
	       ISNULL(SUM((ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * f.PersonHoursPerDay), 0) AS GrossMargin,

	       ISNULL(SUM(f.PersonHoursPerDay), 0) AS Hours,

	       SUM(f.PersonMilestoneDailyAmount - ISNULL(f.PayRate * f.PersonHoursPerDay, 0)) *
	       (SELECT SUM(c.FractionOfMargin) FROM dbo.Commission AS c WHERE c.ProjectId = f.ProjectId AND c.CommissionType = 1) / 100 AS SalesCommission,

	       SUM((f.PersonMilestoneDailyAmount - f.PersonDiscountDailyAmount -
	            (ISNULL(f.PayRate, 0) + ISNULL(f.OverheadRate, 0)) * ISNULL(f.PersonHoursPerDay, 0)) *
	           (f.PracticeManagementCommissionSub + CASE f.PracticeManagerId WHEN f.PersonId THEN f.PracticeManagementCommissionOwn ELSE 0 END)) / 100 AS PracticeManagementCommission
	  FROM dbo.v_FinancialsRetrospective AS f
	GROUP BY f.ProjectId]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsListByProjectPeriodTotal].[ProjectId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsListByProjectPeriodTotal].[FinancialDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MakeDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsListByProjectPeriodTotal].[MonthEnd]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MakeDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsListByProjectPeriodTotal].[Revenue]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsListByProjectPeriodTotal].[RevenueNet]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsListByProjectPeriodTotal].[Cogs]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsListByProjectPeriodTotal].[GrossMargin]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsListByProjectPeriodTotal].[Hours]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsListByProjectPeriodTotal].[SalesCommission]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsListByProjectPeriodTotal].[PracticeManagementCommission]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDaysInMonth]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MakeDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonMilestoneDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonDiscountDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PayRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[OverheadRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonHoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[FractionOfMargin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[CommissionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagementCommissionSub]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_FinancialsRetrospective].[PracticeManagementCommissionOwn]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1439" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW dbo.v_FinancialsListByProjectPeriodTotal&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_FinancialsRetrospective]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="QueryScript">
				<Value><![CDATA[
	SELECT r.ProjectId,
		   r.MilestoneId,
	       r.PracticeManagerId,
		   r.Date,
		   r.IsHourlyAmount,
	       CASE
	           WHEN r.IsHourlyAmount = 1 OR s.HoursPerDay = 0
	           THEN r.MilestoneDailyAmount
	           ELSE ISNULL(r.MilestoneDailyAmount * m.HoursPerDay / s.HoursPerDay, r.MilestoneDailyAmount)
	       END AS MilestoneDailyAmount,
	       CASE
	           WHEN r.IsHourlyAmount = 1 OR s.HoursPerDay = 0
	           THEN ISNULL(m.Amount*m.HoursPerDay, 0)
	           ELSE ISNULL(r.MilestoneDailyAmount * m.HoursPerDay / s.HoursPerDay, r.MilestoneDailyAmount)
	       END AS PersonMilestoneDailyAmount,
	       CASE
	           WHEN r.IsHourlyAmount = 1 OR s.HoursPerDay = 0
	           THEN r.MilestoneDailyAmount * r.Discount / 100
	           ELSE ISNULL(r.MilestoneDailyAmount * m.HoursPerDay * r.Discount / (s.HoursPerDay * 100), r.MilestoneDailyAmount * r.Discount / 100)
	       END AS DiscountDailyAmount,
		   CASE
	           WHEN r.IsHourlyAmount = 1 OR s.HoursPerDay = 0
	           THEN ISNULL(m.Amount * m.HoursPerDay * r.Discount / 100, 0)
	           ELSE ISNULL(r.MilestoneDailyAmount * m.HoursPerDay * r.Discount / (s.HoursPerDay * 100), r.MilestoneDailyAmount * r.Discount / 100)
	       END AS PersonDiscountDailyAmount,
	       r.Discount,
		   s.HoursPerDay,
		   m.PersonId,
	       m.EntryStartDate,
	       m.HoursPerDay AS PersonHoursPerDay,
		   CASE
	           WHEN r.IsHourlyAmount = 1
	           THEN m.Amount
	           WHEN r.IsHourlyAmount = 0 AND s.HoursPerDay = 0
	           THEN 0
	           ELSE r.MilestoneDailyAmount / s.HoursPerDay
		   END AS BillRate,
		   CASE
	           WHEN r.IsHourlyAmount = 1
	           THEN m.Amount * r.Discount / 100
	           WHEN r.IsHourlyAmount = 0 AND s.HoursPerDay = 0
	           THEN 0
	           ELSE r.MilestoneDailyAmount * r.Discount / (s.HoursPerDay * 100)
		   END AS DiscountRate,
		   p.Timescale,
		   --p.HourlyRate AS PayRate, -- this it how it was before Timescale (4, Hourly/POR)
		   CASE 
			WHEN p.Timescale = 4
			THEN p.HourlyRate * 0.01 * m.Amount
			ELSE p.HourlyRate
		   END AS PayRate, 	-- new payrate that takes into account that % unit is used in the Amount instead of $ unit
	       CASE p.BonusHoursToCollect
	           WHEN 0 THEN 0
	           ELSE p.BonusAmount / p.BonusHoursToCollect
	       END AS BonusRate,
	       (SELECT SUM(CASE o.OverheadRateTypeId
	                       -- Multipliers
	                       WHEN 2 THEN
	                           (CASE
	                                 WHEN r.IsHourlyAmount = 1
	                                 THEN m.Amount
	                                 WHEN r.IsHourlyAmount = 0 OR s.HoursPerDay = 0
	                                 THEN 0
	                                 ELSE r.MilestoneDailyAmount / s.HoursPerDay
	                             END) * o.Rate / 100
	                       WHEN 4 THEN p.HourlyRate * o.Rate / 100
	                       -- Fixed
	                       WHEN 3 THEN o.Rate * 12 / dbo.GetHoursPerYear()
	                       ELSE o.Rate
	                   END)) AS OverheadRate,
	       ISNULL(MIN(pmcOwn.FractionOfMargin), 0) AS PracticeManagementCommissionOwn,
	       ISNULL(MIN(pmcSub.FractionOfMargin), 0) AS PracticeManagementCommissionSub,

	       (SELECT SUM(CASE
	                       WHEN DATEDIFF(hh, Person.HireDate, Calendar.Date) <= rc.HoursToCollect
	                       THEN rc.Amount / rc.HoursToCollect
	                       ELSE NULL
	                   END)
	          FROM dbo.RecruiterCommission AS rc
	               INNER JOIN dbo.Person ON Person.PersonId = rc.RecruitId
	               INNER JOIN dbo.Calendar ON Calendar.Date = r.Date
	         WHERE rc.RecruitId = m.PersonId
	       ) AS RecruitingCommissionRate
	  FROM dbo.v_MilestoneRevenueRetrospective AS r
		   -- Linking to persons
	       LEFT JOIN dbo.v_MilestonePersonSchedule m ON m.MilestoneId = r.MilestoneId AND m.Date = r.Date
	       LEFT JOIN (SELECT s.Date, s.MilestoneId, SUM(HoursPerDay) AS HoursPerDay
						FROM dbo.v_MilestonePersonSchedule AS s
					  GROUP BY s.Date, s.MilestoneId) AS s
	           ON s.Date = r.Date AND s.MilestoneId = r.MilestoneId
	       -- Salary
		   LEFT JOIN dbo.v_PersonPayRetrospective AS p ON p.PersonId = m.PersonId AND p.Date = r.Date
	       LEFT JOIN dbo.v_OverheadFixedRateTimescale AS o
	           ON     p.Date BETWEEN o.StartDate AND ISNULL(o.EndDate, dbo.GetFutureDate())
	              AND o.Inactive = 0
	              AND o.IsCogs = 1
	              AND o.TimescaleId = p.Timescale
	       LEFT JOIN (SELECT pmc.ProjectId, SUM(pmc.FractionOfMargin) AS FractionOfMargin
	                    FROM dbo.Commission AS pmc
	                   WHERE pmc.CommissionType = 2 AND MarginTypeId = 1
	                  GROUP BY pmc.ProjectId) AS pmcOwn ON pmcOwn.ProjectId = r.ProjectId
	       LEFT JOIN (SELECT pmc.ProjectId, SUM(pmc.FractionOfMargin) AS FractionOfMargin
	                    FROM dbo.Commission AS pmc
	                   WHERE pmc.CommissionType = 2 AND MarginTypeId = 2
	                  GROUP BY pmc.ProjectId) AS pmcSub ON pmcSub.ProjectId = r.ProjectId
	GROUP BY r.Date, r.ProjectId, r.MilestoneId, r.MilestoneDailyAmount, r.Discount, p.HourlyRate,
	         m.Amount, p.BonusAmount, p.BonusHoursToCollect, p.Timescale, s.HoursPerDay,
	         r.IsHourlyAmount, m.HoursPerDay, m.PersonId, m.EntryStartDate, r.PracticeManagerId]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsRetrospective].[ProjectId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_MilestoneRevenueRetrospective].[ProjectId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsRetrospective].[MilestoneId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_MilestoneRevenueRetrospective].[MilestoneId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsRetrospective].[PracticeManagerId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_MilestoneRevenueRetrospective].[PracticeManagerId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsRetrospective].[Date]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_MilestoneRevenueRetrospective].[Date]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsRetrospective].[IsHourlyAmount]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_MilestoneRevenueRetrospective].[IsHourlyAmount]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsRetrospective].[MilestoneDailyAmount]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsRetrospective].[PersonMilestoneDailyAmount]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsRetrospective].[DiscountDailyAmount]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsRetrospective].[PersonDiscountDailyAmount]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsRetrospective].[Discount]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_MilestoneRevenueRetrospective].[Discount]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsRetrospective].[HoursPerDay]">
						<Relationship Name="ExpressionDependencies">
							<Entry />
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsRetrospective].[PersonId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_MilestonePersonSchedule].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsRetrospective].[EntryStartDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_MilestonePersonSchedule].[EntryStartDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsRetrospective].[PersonHoursPerDay]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_MilestonePersonSchedule].[HoursPerDay]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsRetrospective].[BillRate]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsRetrospective].[DiscountRate]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsRetrospective].[Timescale]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_PersonPayRetrospective].[Timescale]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsRetrospective].[PayRate]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsRetrospective].[BonusRate]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsRetrospective].[OverheadRate]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsRetrospective].[PracticeManagementCommissionOwn]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsRetrospective].[PracticeManagementCommissionSub]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_FinancialsRetrospective].[RecruitingCommissionRate]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[v_MilestoneRevenueRetrospective]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneRevenueRetrospective].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneRevenueRetrospective].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonPayRetrospective]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonPayRetrospective].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonPayRetrospective].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneRevenueRetrospective].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRateTimescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonPayRetrospective].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRateTimescale].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRateTimescale].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRateTimescale].[Inactive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRateTimescale].[IsCogs]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRateTimescale].[TimescaleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonPayRetrospective].[Timescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[FractionOfMargin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[CommissionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[MarginTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneRevenueRetrospective].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneRevenueRetrospective].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneRevenueRetrospective].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneRevenueRetrospective].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneRevenueRetrospective].[IsHourlyAmount]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[v_MilestoneRevenueRetrospective].[MilestoneDailyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneRevenueRetrospective].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[EntryStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonPayRetrospective].[HourlyRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonPayRetrospective].[BonusHoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonPayRetrospective].[BonusAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRateTimescale].[OverheadRateTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRateTimescale].[Rate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetHoursPerYear]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[RecruiterCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruitId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneRevenueRetrospective].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[HoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruitId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[PersonId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="6" />
				<Property Name="Length" Value="5596" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;CREATE VIEW [dbo].[v_FinancialsRetrospective]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_Milestone]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="QueryScript">
				<Value><![CDATA[
	SELECT c.ClientId,
	       m.ProjectId,
	       m.MilestoneId,
	       m.Description,
	       m.Amount,
	       m.StartDate,
	       m.ProjectedDeliveryDate,
	       m.ActualDeliveryDate,
	       m.IsHourlyAmount,
	       p.Name AS ProjectName,
	       p.StartDate AS ProjectStartDate,
	       p.EndDate AS ProjectEndDate,
	       p.Discount,
		   p.ProjectStatusId,
	       p.ProjectNumber,
		   p.ProjectManagerId,
	       c.Name AS ClientName,
	       c.IsChargeable AS 'ClientIsChargeable',
	       p.IsChargeable AS 'ProjectIsChargeable',
	       m.IsChargeable AS 'MilestoneIsChargeable',
	       m.ConsultantsCanAdjust,
	       CAST(ISNULL(h.MilestoneHours, 0) AS DECIMAL(18,2)) ExpectedHours,
	       ISNULL((SELECT SUM(cm.FractionOfMargin)
	                 FROM dbo.Commission AS cm
	                WHERE cm.ProjectId = m.ProjectId AND cm.CommissionType = 1), 0) AS SalesCommission,
	       ISNULL(h.PersonCount, 0) AS PersonCount,
	       (SELECT COUNT(*)
	          FROM dbo.Calendar AS cal
	         WHERE cal.Date BETWEEN m.StartDate AND ProjectedDeliveryDate AND cal.DayOff = 0) AS ProjectedDuration,
	       p.BuyerName,
           p.GroupId
	  FROM dbo.Milestone AS m
	       INNER JOIN dbo.Project AS p ON m.ProjectId = p.ProjectId
	       INNER JOIN dbo.Client AS c ON p.ClientId = c.ClientId
	       LEFT JOIN dbo.v_MilestoneHours AS h ON m.MilestoneId = h.MilestoneId]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Milestone].[ClientId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Client].[ClientId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Milestone].[ProjectId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[ProjectId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Milestone].[MilestoneId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[MilestoneId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Milestone].[Description]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[Description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Milestone].[Amount]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[Amount]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Milestone].[StartDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[StartDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Milestone].[ProjectedDeliveryDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Milestone].[ActualDeliveryDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[ActualDeliveryDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Milestone].[IsHourlyAmount]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[IsHourlyAmount]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Milestone].[ProjectName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Project].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Milestone].[ProjectStartDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Project].[StartDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Milestone].[ProjectEndDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Project].[EndDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Milestone].[Discount]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Project].[Discount]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Milestone].[ProjectStatusId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Project].[ProjectStatusId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Milestone].[ProjectNumber]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Project].[ProjectNumber]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Milestone].[ProjectManagerId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Project].[ProjectManagerId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Milestone].[ClientName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Client].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Milestone].[ClientIsChargeable]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Client].[IsChargeable]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Milestone].[ProjectIsChargeable]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Project].[IsChargeable]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Milestone].[MilestoneIsChargeable]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[IsChargeable]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Milestone].[ConsultantsCanAdjust]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[ConsultantsCanAdjust]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Milestone].[ExpectedHours]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Milestone].[SalesCommission]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Milestone].[PersonCount]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Milestone].[ProjectedDuration]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Milestone].[BuyerName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Project].[BuyerName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Milestone].[GroupId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Project].[GroupId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneHours].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ActualDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[IsHourlyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ConsultantsCanAdjust]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[decimal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneHours].[MilestoneHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[FractionOfMargin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[CommissionType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneHours].[PersonCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[DayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[GroupId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="330" />
				<Property Name="Length" Value="1787" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-28-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;11-19-2008&#xD;&#xA;-- Updated by:&#x9;Anton Koesnikov&#xD;&#xA;-- Update date:&#x9;08-07-2009&#xD;&#xA;-- Description:&#x9;List milestones with their details&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE VIEW dbo.v_Milestone&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_MilestoneExpenses]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[
select 
	m.milestoneId,
	m.ProjectId,
	sum(pexp.ExpenseAmount) as 'Expense',
	sum(pexp.ExpenseReimbursementAmount) as 'ReimbursedExpense'
from Milestone as m
inner join v_ProjectExpenses as pexp on pexp.MilestoneId = m.MilestoneId
group by m.ProjectId, m.milestoneId]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestoneExpenses].[milestoneId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[MilestoneId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestoneExpenses].[ProjectId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[ProjectId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestoneExpenses].[Expense]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestoneExpenses].[ReimbursedExpense]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_ProjectExpenses]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_ProjectExpenses].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_ProjectExpenses].[ExpenseAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_ProjectExpenses].[ExpenseReimbursementAmount]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="314" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE view dbo.v_MilestoneExpenses&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_MilestoneHours]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[
	SELECT s.MilestoneId, SUM(s.HoursPerDay) AS MilestoneHours, COUNT(DISTINCT PersonId) AS PersonCount
	  FROM dbo.v_MilestonePersonSchedule AS s
	GROUP BY s.[MilestoneId]]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestoneHours].[MilestoneId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_MilestonePersonSchedule].[MilestoneId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestoneHours].[MilestoneHours]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestoneHours].[PersonCount]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[PersonId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="255" />
				<Property Name="Length" Value="468" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 6-11-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;8-26-2008&#xD;&#xA;-- Description:&#x9;List milestone hours&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE VIEW [dbo].[v_MilestoneHours]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_MilestoneLight]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[
	SELECT m.MilestoneId,
	       m.ProjectId,
	       m.Amount,
	       m.StartDate,
	       m.ProjectedDeliveryDate,
	       m.IsHourlyAmount
	  FROM dbo.Milestone AS m]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestoneLight].[MilestoneId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[MilestoneId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestoneLight].[ProjectId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[ProjectId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestoneLight].[Amount]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[Amount]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestoneLight].[StartDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[StartDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestoneLight].[ProjectedDeliveryDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestoneLight].[IsHourlyAmount]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[IsHourlyAmount]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[IsHourlyAmount]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="225" />
				<Property Name="Length" Value="440" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 8-13-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;List milestones&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE VIEW [dbo].[v_MilestoneLight]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_MilestonePerson]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[
	SELECT mp.MilestonePersonId,
	       mp.MilestoneId,
	       mp.PersonId,
	       mpe.StartDate,
	       mpe.EndDate,
	       mpe.HoursPerDay,
	       mpe.Location,
	       p.FirstName,
	       p.LastName,
	       p.SeniorityId,
	       m.ProjectId,
	       m.ProjectName,
	       m.ProjectStartDate,
	       m.ProjectEndDate,
	       m.Discount,
	       m.ClientId,
	       m.ClientName,
	       m.Description AS MilestoneName,
	       m.IsHourlyAmount,
	       m.StartDate AS MilestoneStartDate,
	       m.ProjectStatusId,
	       m.ProjectedDeliveryDate AS MilestoneProjectedDeliveryDate,
	       m.ClientIsChargeable,
	       m.ProjectIsChargeable,
	       m.MilestoneIsChargeable,
	       m.ConsultantsCanAdjust,
	       ISNULL((SELECT COUNT(*) * mpe.HoursPerDay
	                 FROM dbo.PersonCalendarAuto AS cal
	                WHERE cal.Date BETWEEN mpe.StartDate AND ISNULL(mpe.EndDate, m.[ProjectedDeliveryDate])
	                  AND cal.PersonId = mp.PersonId
	                  AND cal.DayOff = 0), 0) AS ExpectedHours,
	       mpe.Amount,
	       CASE m.IsHourlyAmount
	           WHEN 1
	           THEN mpe.Amount
	           ELSE
	              (SELECT CAST(m.Amount / mh.MilestoneHours AS DECIMAL(18,2))
	                 FROM dbo.v_MilestoneHours AS mh
	                WHERE mh.MilestoneId = mp.MilestoneId)
	       END AS MilestoneHourlyRevenue,
	       mpe.PersonRoleId,
	       r.Name AS RoleName,
	       m.SalesCommission,
	       m.ExpectedHours AS MilestoneExpectedHours,
	       m.ActualDeliveryDate AS MilestoneActualDeliveryDate,
		   ISNULL((SELECT COUNT(*)
				FROM dbo.v_PersonCalendar AS pcal
				WHERE pcal.DayOff = 1 AND pcal.CompanyDayOff = 0 
					AND pcal.Date BETWEEN mpe.StartDate AND ISNULL(mpe.EndDate, m.[ProjectedDeliveryDate])
					AND pcal.PersonId = mp.PersonId ),0) as VacationDays
	  FROM dbo.MilestonePerson AS mp
	       INNER JOIN dbo.MilestonePersonEntry AS mpe ON mp.MilestonePersonId = mpe.MilestonePersonId
	       INNER JOIN dbo.v_Milestone AS m ON mp.MilestoneId = m.MilestoneId
	       INNER JOIN dbo.Person AS p ON mp.PersonId = p.PersonId
	       LEFT JOIN dbo.PersonRole AS r ON mpe.PersonRoleId = r.PersonRoleId]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[MilestonePersonId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[MilestoneId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[PersonId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MilestonePerson].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[StartDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[EndDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MilestonePersonEntry].[EndDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[HoursPerDay]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MilestonePersonEntry].[HoursPerDay]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[Location]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MilestonePersonEntry].[Location]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[FirstName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[FirstName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[LastName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[LastName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[SeniorityId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[SeniorityId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[ProjectId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_Milestone].[ProjectId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[ProjectName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_Milestone].[ProjectName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[ProjectStartDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_Milestone].[ProjectStartDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[ProjectEndDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_Milestone].[ProjectEndDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[Discount]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_Milestone].[Discount]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[ClientId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_Milestone].[ClientId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[ClientName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_Milestone].[ClientName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[MilestoneName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_Milestone].[Description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[IsHourlyAmount]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_Milestone].[IsHourlyAmount]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[MilestoneStartDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_Milestone].[StartDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[ProjectStatusId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_Milestone].[ProjectStatusId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[MilestoneProjectedDeliveryDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_Milestone].[ProjectedDeliveryDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[ClientIsChargeable]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_Milestone].[ClientIsChargeable]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[ProjectIsChargeable]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_Milestone].[ProjectIsChargeable]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[MilestoneIsChargeable]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_Milestone].[MilestoneIsChargeable]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[ConsultantsCanAdjust]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_Milestone].[ConsultantsCanAdjust]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[ExpectedHours]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[Amount]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MilestonePersonEntry].[Amount]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[MilestoneHourlyRevenue]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[PersonRoleId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MilestonePersonEntry].[PersonRoleId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[RoleName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[PersonRole].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[SalesCommission]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_Milestone].[SalesCommission]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[MilestoneExpectedHours]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_Milestone].[ExpectedHours]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[MilestoneActualDeliveryDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_Milestone].[ActualDeliveryDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePerson].[VacationDays]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonRole]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[PersonRoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonRole].[PersonRoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[Location]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectEndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ClientName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[IsHourlyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ClientIsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectIsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[MilestoneIsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ConsultantsCanAdjust]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[DayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneHours]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[decimal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneHours].[MilestoneHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneHours].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonRole].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[SalesCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ExpectedHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ActualDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[DayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[CompanyDayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[PersonId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2273" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW dbo.v_MilestonePerson&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_MilestonePersonExpense]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[
	SELECT s.PersonId,
	       s.Date,
	       s.MilestoneId,
	       s.ProjectId,
	       ISNULL(o.HourlyRate, 0) + ISNULL(p.HourlyRate, 0) AS HourlyRate,
	       s.HoursPerDay,
	       (ISNULL(o.HourlyRate, 0) + ISNULL(p.HourlyRate, 0)) * s.HoursPerDay AS DailyRate,
	       p.Timescale
	  FROM dbo.v_MilestonePersonSchedule AS s
	       LEFT JOIN (SELECT o.PersonId, o.Date, SUM(o.HourlyRate) AS HourlyRate
	                    FROM dbo.v_PersonOverheadRetrospective AS o
	                  GROUP BY o.PersonId, o.Date
	                 ) AS o ON o.PersonId = s.PersonId AND o.Date = s.Date
	       LEFT JOIN dbo.v_PersonPayRetrospective AS p ON p.PersonId = s.PersonId AND p.Date = s.Date]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonExpense].[PersonId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_MilestonePersonSchedule].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonExpense].[Date]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_MilestonePersonSchedule].[Date]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonExpense].[MilestoneId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_MilestonePersonSchedule].[MilestoneId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonExpense].[ProjectId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_MilestonePersonSchedule].[ProjectId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonExpense].[HourlyRate]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonExpense].[HoursPerDay]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_MilestonePersonSchedule].[HoursPerDay]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonExpense].[DailyRate]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonExpense].[Timescale]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_PersonPayRetrospective].[Timescale]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverheadRetrospective]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverheadRetrospective].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverheadRetrospective].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverheadRetrospective].[HourlyRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverheadRetrospective].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonOverheadRetrospective].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonPayRetrospective]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonPayRetrospective].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonPayRetrospective].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[ProjectId]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[v_PersonPayRetrospective].[HourlyRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonPayRetrospective].[Timescale]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="270" />
				<Property Name="Length" Value="1022" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 7-7-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;8-13-2008&#xD;&#xA;-- Description:&#x9;List milestone-person expese by days&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE VIEW [dbo].[v_MilestonePersonExpense]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_MilestonePersonHours]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[
	SELECT s.MilestoneId, s.PersonId, SUM(s.HoursPerDay) AS MilestonePersonHours
	  FROM dbo.v_MilestonePersonSchedule AS s
	GROUP BY s.MilestoneId, s.PersonId]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonHours].[MilestoneId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_MilestonePersonSchedule].[MilestoneId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonHours].[PersonId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_MilestonePersonSchedule].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonHours].[MilestonePersonHours]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[HoursPerDay]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="262" />
				<Property Name="Length" Value="468" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 6-11-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;6-12-2008&#xD;&#xA;-- Description:&#x9;List milestone-person hours&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE VIEW [dbo].[v_MilestonePersonHours]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_MilestonePersonLight]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[
	SELECT mp.MilestonePersonId,
	       mp.MilestoneId,
	       mp.PersonId,
	       mpe.StartDate,
	       ISNULL(mpe.EndDate, m.ProjectedDeliveryDate) AS EndDate,
	       mpe.HoursPerDay,
	       CASE m.IsHourlyAmount
	           WHEN 1
	           THEN mpe.Amount
	           ELSE m.Amount / s.Hours
	       END AS MilestoneHourlyRevenue
	  FROM dbo.MilestonePerson AS mp
	       INNER JOIN dbo.MilestonePersonEntry AS mpe ON mp.MilestonePersonId = mpe.MilestonePersonId
	       INNER JOIN dbo.Milestone AS m ON mp.MilestoneId = m.MilestoneId
	       LEFT JOIN (SELECT SUM(s.HoursPerDay) AS Hours, s.MilestoneId
	                    FROM dbo.v_MilestonePersonSchedule AS s
	                  GROUP BY s.MilestoneId) AS s ON s.MilestoneId = m.MilestoneId]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonLight].[MilestonePersonId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonLight].[MilestoneId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonLight].[PersonId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MilestonePerson].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonLight].[StartDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonLight].[EndDate]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonLight].[HoursPerDay]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MilestonePersonEntry].[HoursPerDay]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonLight].[MilestoneHourlyRevenue]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[IsHourlyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Amount]" />
				</Entry>
				<Entry />
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="269" />
				<Property Name="Length" Value="1087" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 8-13-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;1-17-2008&#xD;&#xA;-- Description:&#x9;List milestone-person associations&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE VIEW [dbo].[v_MilestonePersonLight]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_MilestonePersonMonthHours]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[
	SELECT s.[MilestoneId],
	       s.ProjectId,
	       s.PersonId,
	       SUM(s.HoursPerDay) AS MilestonePersonMonthHours,
	       MIN(s.Date) AS [Month],
	       MAX(s.Date) AS [MonthEnd],
	       s.EntryStartDate
	  FROM dbo.v_MilestonePersonSchedule AS s
	GROUP BY s.[MilestoneId], s.ProjectId, s.PersonId, DATEPART(yyyy, s.Date), DATEPART(mm, s.Date), s.EntryStartDate]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonMonthHours].[MilestoneId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_MilestonePersonSchedule].[MilestoneId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonMonthHours].[ProjectId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_MilestonePersonSchedule].[ProjectId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonMonthHours].[PersonId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_MilestonePersonSchedule].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonMonthHours].[MilestonePersonMonthHours]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonMonthHours].[Month]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonMonthHours].[MonthEnd]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonMonthHours].[EntryStartDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_MilestonePersonSchedule].[EntryStartDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[EntryStartDate]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="272" />
				<Property Name="Length" Value="705" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 6-12-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;9-09-2008&#xD;&#xA;-- Description:&#x9;List milestone-person hours by months&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE VIEW [dbo].[v_MilestonePersonMonthHours]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_MilestonePersonSchedule]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="IsSchemaBound" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[
	SELECT m.[MilestoneId],
	       mp.PersonId,
	       CASE
	           WHEN cal.Date BETWEEN mpe.StartDate AND ISNULL(mpe.EndDate, m.[ProjectedDeliveryDate])
	           THEN mpe.HoursPerDay
	           ELSE 0
	       END AS HoursPerDay,
	       cal.Date,
	       m.ProjectId,
	       mpe.StartDate AS EntryStartDate,
	       mpe.Amount,
	       mpe.PersonRoleId,
	       m.IsHourlyAmount,
	       m.StartDate,
	       m.ProjectedDeliveryDate
	  FROM dbo.[Milestone] AS m
		   INNER JOIN dbo.MilestonePerson AS mp ON m.[MilestoneId] = mp.[MilestoneId]
	       INNER JOIN dbo.MilestonePersonEntry AS mpe ON mp.MilestonePersonId = mpe.MilestonePersonId
	       INNER JOIN dbo.PersonCalendarAuto AS cal
	           ON cal.Date BETWEEN mpe.Startdate AND ISNULL(mpe.EndDate, m.ProjectedDeliveryDate) AND cal.PersonId = mp.PersonId
	 WHERE cal.DayOff = 0]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonSchedule].[MilestoneId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[MilestoneId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonSchedule].[PersonId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MilestonePerson].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonSchedule].[HoursPerDay]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonSchedule].[Date]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[PersonCalendarAuto].[Date]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonSchedule].[ProjectId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[ProjectId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonSchedule].[EntryStartDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonSchedule].[Amount]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MilestonePersonEntry].[Amount]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonSchedule].[PersonRoleId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MilestonePersonEntry].[PersonRoleId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonSchedule].[IsHourlyAmount]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[IsHourlyAmount]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonSchedule].[StartDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[StartDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonSchedule].[ProjectedDeliveryDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[PersonRoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[IsHourlyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[DayOff]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="934" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW dbo.v_MilestonePersonSchedule WITH SCHEMABINDING&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_MilestonePersonVacations]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[  
	SELECT  m.MilestoneId,
			mp.MilestonePersonId,
			mp.PersonId,
			mpe.StartDate,
			mpe.EndDate,
			ISNULL(SUM(mpe.HoursPerDay), 0) AS 'VacationHours'			
    FROM    dbo.Milestone AS m
            INNER JOIN dbo.MilestonePerson AS mp ON m.MilestoneId = mp.MilestoneId
            INNER JOIN dbo.MilestonePersonEntry AS mpe ON mp.MilestonePersonId = mpe.MilestonePersonId
            INNER JOIN dbo.v_PersonCalendar AS cal ON cal.Date BETWEEN mpe.StartDate
                                                                 AND     ISNULL(mpe.EndDate, m.ProjectedDeliveryDate)
                                                        AND cal.PersonId = mp.PersonId
            WHERE cal.DayOff = 1 AND 
				(DATEPART(weekday, cal.Date) != 1 AND DATEPART(weekday, cal.Date) != 7)
	GROUP BY m.MilestoneId,
			mp.MilestonePersonId,
			mp.PersonId,
			mpe.StartDate,
			mpe.EndDate
--    ORDER BY m.MilestoneId, mp.MilestonePersonId, mp.PersonId]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonVacations].[MilestoneId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[MilestoneId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonVacations].[MilestonePersonId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonVacations].[PersonId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MilestonePerson].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonVacations].[StartDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonVacations].[EndDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MilestonePersonEntry].[EndDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestonePersonVacations].[VacationHours]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[DayOff]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1008" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW dbo.v_MilestonePersonVacations&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_MilestoneRevenueRetrospective]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[
	SELECT -- Milestones with a fixed amount
		   m.MilestoneId,
		   m.ProjectId,
		   cal.Date,
		   m.IsHourlyAmount,
	       ISNULL((m.Amount / (SELECT SUM(HoursPerDay) AS TotalMilestoneHours
					    	FROM dbo.v_MilestonePersonSchedule AS s
                            WHERE s.MileStoneId = m.MilestoneId)) * ISNULL(d.HoursPerDay, 0),
	              (CASE (DATEDIFF(dd, m.StartDate, m.ProjectedDeliveryDate) + 1)
	                   WHEN 0 THEN 0
	                   ELSE m.Amount / (DATEDIFF(dd, m.StartDate, m.ProjectedDeliveryDate) + 1)
	               END)) AS MilestoneDailyAmount,
		   m.StartDate AS MilestoneStartDate,
		   m.ProjectedDeliveryDate,
           p.Discount,
	       prac.PracticeManagerId,
	       d.HoursPerDay
	  FROM dbo.Milestone AS m
		   INNER JOIN dbo.Calendar AS cal ON cal.Date BETWEEN m.StartDate AND m.ProjectedDeliveryDate
	       INNER JOIN dbo.Project AS p ON m.ProjectId = p.ProjectId
	       INNER JOIN dbo.Practice AS prac ON p.PracticeId = prac.PracticeId
           LEFT JOIN (SELECT s.Date, s.MilestoneId, SUM(HoursPerDay) AS HoursPerDay
	                    FROM dbo.v_MilestonePersonSchedule AS s
	                  GROUP BY s.Date, s.MilestoneId) d ON d.date = cal.Date and m.MilestoneId = d.MileStoneId
	 WHERE m.IsHourlyAmount = 0
	UNION ALL
	SELECT -- Milestones with a hourly amount
		   mp.MilestoneId,
		   mp.ProjectId,
		   mp.Date,
		   mp.IsHourlyAmount,
		   ISNULL(SUM(mp.Amount * mp.HoursPerDay), 0) AS MilestoneDailyAmount,
		   MAX(mp.StartDate) AS MilestoneStartDate,
		   MAX(mp.ProjectedDeliveryDate) AS ProjectedDeliveryDate,
           MAX(p.Discount) AS Discount,
	       prac.PracticeManagerId,
	       SUM(mp.HoursPerDay) AS HoursPerDay
	  FROM dbo.v_MilestonePersonSchedule mp
	       INNER JOIN dbo.Project AS p ON mp.ProjectId = p.ProjectId
	       INNER JOIN dbo.Practice AS prac ON p.PracticeId = prac.PracticeId
	 WHERE mp.IsHourlyAmount = 1
	GROUP BY mp.MilestoneId, mp.ProjectId, mp.Date, mp.IsHourlyAmount, prac.PracticeManagerId]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestoneRevenueRetrospective].[MilestoneId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[MilestoneId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestoneRevenueRetrospective].[ProjectId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[ProjectId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestoneRevenueRetrospective].[Date]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Calendar].[Date]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestoneRevenueRetrospective].[IsHourlyAmount]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[IsHourlyAmount]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestoneRevenueRetrospective].[MilestoneDailyAmount]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestoneRevenueRetrospective].[MilestoneStartDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[StartDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestoneRevenueRetrospective].[ProjectedDeliveryDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestoneRevenueRetrospective].[Discount]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Project].[Discount]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestoneRevenueRetrospective].[PracticeManagerId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Practice].[PracticeManagerId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_MilestoneRevenueRetrospective].[HoursPerDay]">
						<Relationship Name="ExpressionDependencies">
							<Entry />
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[IsHourlyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[IsHourlyAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonSchedule].[ProjectedDeliveryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeManagerId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="264" />
				<Property Name="Length" Value="2366" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 9-10-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date:&#x9;10-13-2008&#xD;&#xA;-- Description:&#x9;Selects a revenue day-by-day&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE VIEW dbo.v_MilestoneRevenueRetrospective&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_Notes]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[
SELECT     dbo.Note.NoteId, dbo.Note.TargetId, dbo.Note.PersonId, dbo.Person.FirstName, dbo.Person.LastName, dbo.Note.CreateDate, dbo.Note.NoteText, 
                      dbo.Note.NoteTargetId, dbo.NoteTarget.Name AS NoteTargetName
FROM         dbo.Note INNER JOIN
                      dbo.NoteTarget ON dbo.Note.NoteTargetId = dbo.NoteTarget.NoteTargetId INNER JOIN
                      dbo.Person ON dbo.Note.PersonId = dbo.Person.PersonId]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Notes].[NoteId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Note].[NoteId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Notes].[TargetId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Note].[TargetId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Notes].[PersonId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Note].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Notes].[FirstName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[FirstName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Notes].[LastName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[LastName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Notes].[CreateDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Note].[CreateDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Notes].[NoteText]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Note].[NoteText]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Notes].[NoteTargetId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Note].[NoteTargetId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Notes].[NoteTargetName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[NoteTarget].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[Note]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NoteTarget]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[NoteTargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NoteTarget].[NoteTargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[NoteId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[TargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[CreateDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[NoteText]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Note].[NoteTargetId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[NoteTarget].[Name]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="477" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW dbo.v_Notes&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_Opportunity]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="QueryScript">
				<Value><![CDATA[
	SELECT o.OpportunityId,
	       o.Name,
	       o.ClientId,
	       o.SalespersonId,
	       o.OpportunityStatusId,
	       o.Priority,
	       o.ProjectedStartDate,
	       o.ProjectedEndDate,
	       o.OpportunityNumber,
	       o.Description,
	       o.PracticeId,
	       o.BuyerName,
	       o.CreateDate,
	       o.Pipeline,
	       o.Proposed,
	       o.SendOut,
           o.ProjectId,
           o.OpportunityIndex,
           o.RevenueType,
		   o.LastUpdated as 'LastUpdate',
		   o.GroupId,
		   g.[Name] as 'GroupName',
	       c.Name AS ClientName,
	       c.DefaultDiscount AS Discount,
	       c.DefaultTerms AS Terms,
	       p.FirstName AS SalespersonFirstName,
	       p.LastName AS SalespersonLastName,
		   p.PersonStatusId AS SalespersonStatusId,
	       s.Name AS OpportunityStatusName,
	       r.Name AS PracticeName,
		   own.PersonId AS 'OwnerId',
		   prowner.PersonId AS 'PracticeManagerId',
		   own.PersonStatusId AS 'OwnerStatusId'
	  FROM dbo.Opportunity AS o
	       INNER JOIN dbo.Client AS c ON o.ClientId = c.ClientId
	       LEFT JOIN dbo.Person AS p ON o.SalespersonId = p.PersonId
		   LEFT JOIN dbo.Person AS own ON o.OwnerID = own.PersonId
	       INNER JOIN dbo.OpportunityStatus AS s ON o.OpportunityStatusId = s.OpportunityStatusId
	       INNER JOIN dbo.Practice AS r ON o.PracticeId = r.PracticeId	
		   Left Join dbo.ProjectGroup as g on o.GroupId = g.GroupId
		   Left join dbo.Person as prowner on prowner.PersonId = r.PracticeManagerId]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[OpportunityId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Opportunity].[OpportunityId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[Name]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Opportunity].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[ClientId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Opportunity].[ClientId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[SalespersonId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Opportunity].[SalespersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[OpportunityStatusId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Opportunity].[OpportunityStatusId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[Priority]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Opportunity].[Priority]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[ProjectedStartDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Opportunity].[ProjectedStartDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[ProjectedEndDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Opportunity].[ProjectedEndDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[OpportunityNumber]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Opportunity].[OpportunityNumber]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[Description]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Opportunity].[Description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[PracticeId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Opportunity].[PracticeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[BuyerName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Opportunity].[BuyerName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[CreateDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Opportunity].[CreateDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[Pipeline]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Opportunity].[Pipeline]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[Proposed]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Opportunity].[Proposed]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[SendOut]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Opportunity].[SendOut]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[ProjectId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Opportunity].[ProjectId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[OpportunityIndex]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Opportunity].[OpportunityIndex]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[RevenueType]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Opportunity].[RevenueType]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[LastUpdate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Opportunity].[LastUpdated]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[GroupId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Opportunity].[GroupId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[GroupName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[ProjectGroup].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[ClientName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Client].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[Discount]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Client].[DefaultDiscount]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[Terms]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Client].[DefaultTerms]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[SalespersonFirstName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[FirstName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[SalespersonLastName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[LastName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[SalespersonStatusId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[PersonStatusId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[OpportunityStatusName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OpportunityStatus].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[PracticeName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Practice].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[OwnerId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[PracticeManagerId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Opportunity].[OwnerStatusId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[PersonStatusId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[Opportunity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[SalespersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OwnerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityStatus].[OpportunityStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[SalespersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Priority]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[ProjectedStartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[ProjectedEndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[CreateDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Pipeline]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Proposed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[SendOut]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityIndex]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[RevenueType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[LastUpdated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectGroup].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[DefaultDiscount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[DefaultTerms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityStatus].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1561" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW dbo.v_Opportunity&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_OpportunityHistory]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="QueryScript">
				<Value><![CDATA[ 
SELECT opt.OpportunityId, opt.OpportunityNumber, stat.[Name] AS 'Status', trans.TransitionDate, 
		pers.FirstName + ' ' + pers.LastName AS 'Responsible', pers.PersonId, trans.NoteText
FROM dbo.Opportunity AS opt
LEFT OUTER JOIN dbo.OpportunityTransition AS trans ON trans.OpportunityId = opt.OpportunityId
INNER JOIN dbo.OpportunityTransitionStatus AS stat ON stat.OpportunityTransitionStatusId = trans.OpportunityTransitionStatusId
INNER JOIN dbo.Person AS pers ON pers.PersonId = trans.PersonId]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OpportunityHistory].[OpportunityId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Opportunity].[OpportunityId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OpportunityHistory].[OpportunityNumber]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Opportunity].[OpportunityNumber]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OpportunityHistory].[Status]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OpportunityTransitionStatus].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OpportunityHistory].[TransitionDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OpportunityTransition].[TransitionDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OpportunityHistory].[Responsible]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OpportunityHistory].[PersonId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OpportunityHistory].[NoteText]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OpportunityTransition].[NoteText]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[Opportunity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionStatus].[OpportunityTransitionStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[OpportunityTransitionStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionStatus].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[TransitionDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[NoteText]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="544" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW dbo.v_OpportunityHistory&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_OpportunityTransition]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[
SELECT     dbo.OpportunityTransition.*, 
			dbo.Opportunity.Name as 'OpportunityName', 
			dbo.Opportunity.LastUpdated, 
			dbo.Opportunity.ClientId, 
			dbo.Opportunity.OpportunityNumber,
			dbo.Opportunity.Priority,
			dbo.Client.Name AS 'ClientName',
			stat.Name AS 'OpportunityTransitionStatusName'
FROM         dbo.OpportunityTransition INNER JOIN
					  dbo.OpportunityTransitionStatus as stat on stat.OpportunityTransitionStatusId = dbo.OpportunityTransition.OpportunityTransitionStatusId INNER JOIN
                      dbo.Opportunity ON dbo.OpportunityTransition.OpportunityId = dbo.Opportunity.OpportunityId INNER JOIN
                      dbo.Person ON dbo.OpportunityTransition.TargetPersonId = dbo.Person.PersonId INNER JOIN
                      dbo.Client ON dbo.Opportunity.ClientId = dbo.Client.ClientId]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OpportunityTransition].[OpportunityTransitionId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OpportunityTransition].[OpportunityTransitionId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OpportunityTransition].[OpportunityId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OpportunityTransition].[OpportunityId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OpportunityTransition].[OpportunityTransitionStatusId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OpportunityTransition].[OpportunityTransitionStatusId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OpportunityTransition].[TransitionDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OpportunityTransition].[TransitionDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OpportunityTransition].[PersonId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OpportunityTransition].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OpportunityTransition].[NoteText]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OpportunityTransition].[NoteText]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OpportunityTransition].[OpportunityTransitionTypeId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OpportunityTransition].[OpportunityTransitionTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OpportunityTransition].[TargetPersonId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OpportunityTransition].[TargetPersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OpportunityTransition].[OpportunityName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Opportunity].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OpportunityTransition].[LastUpdated]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Opportunity].[LastUpdated]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OpportunityTransition].[ClientId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Opportunity].[ClientId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OpportunityTransition].[OpportunityNumber]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Opportunity].[OpportunityNumber]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OpportunityTransition].[Priority]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Opportunity].[Priority]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OpportunityTransition].[ClientName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Client].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OpportunityTransition].[OpportunityTransitionStatusName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OpportunityTransitionStatus].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[OpportunityTransition]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionStatus].[OpportunityTransitionStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[OpportunityTransitionStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransition].[TargetPersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[LastUpdated]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[OpportunityNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Opportunity].[Priority]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OpportunityTransitionStatus].[Name]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="887" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE VIEW [dbo].[v_OpportunityTransition]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_OverheadFixedRate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[
	SELECT r.OverheadFixedRateId,
	       r.Description,
	       r.Rate,
	       r.StartDate,
	       r.EndDate,
	       r.Inactive,
	       r.RateType AS OverheadRateTypeId,
	       t.Name AS OverheadRateTypeName,
	       t.IsPercentage,
	       t.HoursToCollect,
	       r.IsCogs
	  FROM dbo.OverheadFixedRate AS r
	       INNER JOIN dbo.OverheadRateType AS t ON r.RateType = t.OverheadRateTypeId]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OverheadFixedRate].[OverheadFixedRateId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OverheadFixedRate].[OverheadFixedRateId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OverheadFixedRate].[Description]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OverheadFixedRate].[Description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OverheadFixedRate].[Rate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OverheadFixedRate].[Rate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OverheadFixedRate].[StartDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OverheadFixedRate].[StartDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OverheadFixedRate].[EndDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OverheadFixedRate].[EndDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OverheadFixedRate].[Inactive]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OverheadFixedRate].[Inactive]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OverheadFixedRate].[OverheadRateTypeId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OverheadFixedRate].[RateType]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OverheadFixedRate].[OverheadRateTypeName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OverheadRateType].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OverheadFixedRate].[IsPercentage]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OverheadRateType].[IsPercentage]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OverheadFixedRate].[HoursToCollect]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OverheadRateType].[HoursToCollect]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OverheadFixedRate].[IsCogs]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OverheadFixedRate].[IsCogs]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[OverheadFixedRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadRateType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRate].[RateType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadRateType].[OverheadRateTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRate].[OverheadFixedRateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRate].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRate].[Rate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRate].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRate].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRate].[Inactive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRate].[RateType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadRateType].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadRateType].[IsPercentage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadRateType].[HoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRate].[IsCogs]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="274" />
				<Property Name="Length" Value="726" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-27-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date: 8-07-2008&#xD;&#xA;-- Description:&#x9;Lists overhead rates with their details&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE VIEW [dbo].[v_OverheadFixedRate]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_OverheadFixedRateTimescale]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[
	SELECT o.OverheadFixedRateId,
	       o.Description,
	       o.Rate,
	       o.StartDate,
	       o.EndDate,
	       o.Inactive,
	       o.OverheadRateTypeId,
	       o.OverheadRateTypeName,
	       o.IsPercentage,
	       o.HoursToCollect,
	       o.IsCogs,
	       t.TimescaleId
	  FROM dbo.v_OverheadFixedRate AS o
	       INNER JOIN dbo.OverheadFixedRateTimescale AS t ON o.OverheadFixedRateId = t.OverheadFixedRateId]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OverheadFixedRateTimescale].[OverheadFixedRateId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_OverheadFixedRate].[OverheadFixedRateId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OverheadFixedRateTimescale].[Description]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_OverheadFixedRate].[Description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OverheadFixedRateTimescale].[Rate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_OverheadFixedRate].[Rate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OverheadFixedRateTimescale].[StartDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_OverheadFixedRate].[StartDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OverheadFixedRateTimescale].[EndDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_OverheadFixedRate].[EndDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OverheadFixedRateTimescale].[Inactive]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_OverheadFixedRate].[Inactive]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OverheadFixedRateTimescale].[OverheadRateTypeId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_OverheadFixedRate].[OverheadRateTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OverheadFixedRateTimescale].[OverheadRateTypeName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_OverheadFixedRate].[OverheadRateTypeName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OverheadFixedRateTimescale].[IsPercentage]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_OverheadFixedRate].[IsPercentage]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OverheadFixedRateTimescale].[HoursToCollect]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_OverheadFixedRate].[HoursToCollect]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OverheadFixedRateTimescale].[IsCogs]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_OverheadFixedRate].[IsCogs]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_OverheadFixedRateTimescale].[TimescaleId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OverheadFixedRateTimescale].[TimescaleId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[OverheadFixedRateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale].[OverheadFixedRateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[Rate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[Inactive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[OverheadRateTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[OverheadRateTypeName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[IsPercentage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[HoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[IsCogs]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale].[TimescaleId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="248" />
				<Property Name="Length" Value="737" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 10-16-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Selects overheads for the timescales.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE VIEW [dbo].[v_OverheadFixedRateTimescale]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_Pay]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[
	SELECT p.Person AS PersonId,
	       p.StartDate,
	       CASE
	           WHEN p.EndDate < dbo.GetFutureDate()
	           THEN p.EndDate
	           ELSE CAST(NULL AS DATETIME)
	       END AS EndDate,
	       p.EndDate AS EndDateOrig,
	       p.Amount,
	       p.Timescale,
	       CAST(CASE p.Timescale
	                WHEN 2 THEN p.Amount / dbo.GetHoursPerYear()
	                ELSE p.Amount
	            END AS DECIMAL(18,2)) AS AmountHourly,
	       p.TimesPaidPerMonth,
	       p.Terms,
	       p.VacationDays,
	       p.BonusAmount,
	       p.BonusHoursToCollect,
	       CAST(CASE p.BonusHoursToCollect WHEN dbo.GetHoursPerYear() THEN 1 ELSE 0 END AS BIT) AS IsYearBonus,
	       p.DefaultHoursPerDay,
	       t.Name AS TimescaleName
	  FROM dbo.Pay AS p
	       INNER JOIN dbo.Timescale AS t ON p.Timescale = t.TimescaleId]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Pay].[PersonId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Pay].[Person]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Pay].[StartDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Pay].[StartDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Pay].[EndDate]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Pay].[EndDateOrig]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Pay].[EndDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Pay].[Amount]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Pay].[Amount]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Pay].[Timescale]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Pay].[Timescale]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Pay].[AmountHourly]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Pay].[TimesPaidPerMonth]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Pay].[TimesPaidPerMonth]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Pay].[Terms]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Pay].[Terms]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Pay].[VacationDays]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Pay].[VacationDays]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Pay].[BonusAmount]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Pay].[BonusAmount]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Pay].[BonusHoursToCollect]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Pay].[BonusHoursToCollect]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Pay].[IsYearBonus]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Pay].[DefaultHoursPerDay]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Pay].[DefaultHoursPerDay]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Pay].[TimescaleName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Timescale].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[Pay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Timescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Timescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Timescale].[TimescaleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Amount]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[decimal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetHoursPerYear]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[TimesPaidPerMonth]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[VacationDays]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[BonusAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[BonusHoursToCollect]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[DefaultHoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Timescale].[Name]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="246" />
				<Property Name="Length" Value="1136" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--The source is &#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 6-24-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date: &#xD;&#xA;-- Description:&#x9;Lists the payments&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE VIEW [dbo].[v_Pay]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_Permissions]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[
select perm.PersonID, perm.TargetId, targ.* 
from dbo.permission as perm
left join dbo.permissiontarget as targ on perm.targettype = targ.PermissionTypeID]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Permissions].[PersonID]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Permission].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Permissions].[TargetId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Permission].[TargetId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Permissions].[PermissionTypeId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[PermissionTarget].[PermissionTypeID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Permissions].[Name]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[PermissionTarget].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[Permission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionTarget]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PermissionTarget].[PermissionTypeID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Permission].[TargetId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="191" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE view dbo.v_Permissions&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_Person]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[
	SELECT p.PersonId,
	       p.FirstName,
	       p.LastName,
	       p.PTODaysPerAnnum,
	       p.HireDate,
	       p.TerminationDate,
	       p.TelephoneNumber,
	       p.Alias,
	       p.DefaultPractice,
	       r.Name AS PracticeName,
		   p.PersonStatusId,
		   s.Name as PersonStatusName,
		   p.EmployeeNumber,
	       p.SeniorityId,
	       e.Name AS SeniorityName,
	       p.ManagerId,
	       manager.Alias AS 'ManagerAlias',
	       manager.FirstName AS 'ManagerFirstName',
	       manager.LastName AS 'ManagerLastName',
	       -1 AS 'PracticeOwnedId', -- Obsolete, never used
	       '' AS 'PracticeOwnedName', -- Obsolete, never used
		   (SELECT  practice.PracticeId AS '@Id', 
					practice.[Name] AS '@Name' 
			FROM dbo.Practice as practice 			
			WHERE practice.PracticeManagerId = p.PersonId
			FOR XML PATH('Practice'), ROOT('Practices')) AS 'PracticesOwned'
	  FROM dbo.Person AS p
	       LEFT JOIN dbo.Practice AS r ON p.DefaultPractice = r.PracticeId
		   INNER JOIN dbo.PersonStatus AS s ON p.PersonStatusId = s.PersonStatusId
	       LEFT JOIN dbo.Seniority AS e ON p.SeniorityId = e.SeniorityId
	       LEFT JOIN dbo.Person AS manager ON p.ManagerId = manager.PersonId]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Person].[PersonId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Person].[FirstName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[FirstName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Person].[LastName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[LastName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Person].[PTODaysPerAnnum]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[PTODaysPerAnnum]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Person].[HireDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[HireDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Person].[TerminationDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[TerminationDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Person].[TelephoneNumber]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[TelephoneNumber]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Person].[Alias]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[Alias]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Person].[DefaultPractice]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[DefaultPractice]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Person].[PracticeName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Practice].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Person].[PersonStatusId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[PersonStatusId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Person].[PersonStatusName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[PersonStatus].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Person].[EmployeeNumber]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[EmployeeNumber]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Person].[SeniorityId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[SeniorityId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Person].[SeniorityName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Seniority].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Person].[ManagerId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[ManagerId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Person].[ManagerAlias]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[Alias]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Person].[ManagerFirstName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[FirstName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Person].[ManagerLastName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[LastName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Person].[PracticeOwnedId]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Person].[PracticeOwnedName]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Person].[PracticesOwned]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Seniority]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Seniority].[SeniorityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PTODaysPerAnnum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TelephoneNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[DefaultPractice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[EmployeeNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Seniority].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="294" />
				<Property Name="Length" Value="1549" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 8-04-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date: 9-09-2008&#xD;&#xA;-- Description:&#x9;Verifies the UserName uniquness for the dbo.Person table.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE VIEW dbo.v_Person&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_PersonCalendar]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[
	SELECT cal.Date,
	       p.[PersonId],
	       ISNULL(pcal.DayOff, cal.DayOff) AS DayOff,
	       cal.DayOff AS CompanyDayOff
	  FROM dbo.Calendar AS cal
	       INNER JOIN dbo.Person AS p ON cal.Date >= p.HireDate AND cal.Date < ISNULL(p.TerminationDate, dbo.GetFutureDate())
	       LEFT JOIN dbo.PersonCalendar AS pcal ON pcal.Date = cal.Date AND pcal.PersonId = p.PersonId]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonCalendar].[Date]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Calendar].[Date]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonCalendar].[PersonId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonCalendar].[DayOff]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonCalendar].[CompanyDayOff]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Calendar].[DayOff]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[Calendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendar].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendar].[DayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[DayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[DayOff]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="275" />
				<Property Name="Length" Value="700" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 6-13-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date: 8-12-2008&#xD;&#xA;-- Description:&#x9;Determines the calendar for the persons.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE VIEW [dbo].[v_PersonCalendar]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_PersonOverhead]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[
	-- Fixed rates part
	SELECT ps.PersonId,
	       r.Description,
	       r.Rate,
	       r.HoursToCollect,
	       r.StartDate,
	       r.EndDate,
	       CAST(r.IsPercentage AS BIT) AS IsPercentage,
	       r.OverheadFixedRateId,
	       r.OverheadRateTypeId,
	       r.OverheadRateTypeName,
	       CAST(0 AS DECIMAL) AS BillRateMultiplier
	  FROM dbo.Person AS ps
	       CROSS JOIN dbo.v_OverheadFixedRate AS r
	 WHERE EXISTS (SELECT 1
	                 FROM dbo.Pay AS p
	                      INNER JOIN dbo.OverheadFixedRateTimescale AS rt ON p.Timescale = rt.TimescaleId
	                WHERE p.Person = ps.PersonId
	                  AND rt.OverheadFixedRateId = r.OverheadFixedRateId
	                  AND p.StartDate <= GETDATE()
	                  AND p.EndDate > GETDATE())
	   AND r.OverheadRateTypeId NOT IN (2, 4)
	   AND r.[Inactive] = 0
	   AND r.[StartDate] <= GETDATE()
	   AND ISNULL(r.[EndDate], dbo.GetFutureDate()) > GETDATE()
	   AND r.IsCogs = 1
	UNION ALL
	-- Dynamically calculated rates
	-- Pay rate multiplier
	SELECT ps.PersonId,
	       r.Description,
	       r.Rate * p.[Amount] / 100 AS Rate,
	       CAST(CASE p.[Timescale] WHEN 2 THEN dbo.GetHoursPerYear() ELSE 1 END AS INT) AS HoursToCollect,
	       r.StartDate,
	       r.EndDate,
	       CAST(0 AS BIT) AS IsPercentage,
	       r.OverheadFixedRateId,
	       r.OverheadRateTypeId,
	       r.OverheadRateTypeName,
	       CAST(0 AS DECIMAL) AS BillRateMultiplier
	  FROM dbo.Person AS ps
	       CROSS JOIN dbo.v_OverheadFixedRate AS r
	       INNER JOIN dbo.Pay AS p
	           ON ps.[PersonId] = p.[Person] AND p.StartDate <= GETDATE() AND p.EndDate > GETDATE()
	       INNER JOIN dbo.OverheadFixedRateTimescale AS t
	           ON t.OverheadFixedRateId = r.OverheadFixedRateId AND t.TimescaleId = p.Timescale
	 WHERE r.[OverheadRateTypeId] = 4
	   AND r.[Inactive] = 0
	   AND p.[StartDate] <= GETDATE()
	   AND p.[EndDate] > GETDATE()
	   AND r.[StartDate] <= GETDATE()
	   AND ISNULL(r.[EndDate], dbo.GetFutureDate()) > GETDATE()
	   AND r.IsCogs = 1
	UNION ALL
	-- Bill rate multiplier
	SELECT ps.PersonId,
	       r.Description,
	       ISNULL((SELECT r.Rate * SUM(mp.MilestoneHourlyRevenue) / 100
	                 FROM dbo.v_MilestonePersonLight AS mp
	                WHERE mp.PersonId = ps.PersonId
	                  AND mp.StartDate <= GETDATE()
	                  AND mp.EndDate > GETDATE()), 0) AS Rate,
	       CAST(CASE p.[Timescale] WHEN 2 THEN dbo.GetHoursPerYear() ELSE 1 END AS INT) AS HoursToCollect,
	       r.StartDate,
	       r.EndDate,
	       CAST(0 AS BIT) AS IsPercentage,
	       r.OverheadFixedRateId,
	       r.OverheadRateTypeId,
	       r.OverheadRateTypeName,
	       r.Rate AS BillRateMultiplier
	  FROM dbo.Person AS ps
	       CROSS JOIN dbo.v_OverheadFixedRate AS r
	       INNER JOIN dbo.Pay AS p
	           ON ps.[PersonId] = p.[Person] AND p.StartDate <= GETDATE() AND p.EndDate > GETDATE()
	       INNER JOIN dbo.OverheadFixedRateTimescale AS t
	           ON t.OverheadFixedRateId = r.OverheadFixedRateId AND t.TimescaleId = p.Timescale
	 WHERE r.[OverheadRateTypeId] = 2
	   AND r.[Inactive] = 0
	   AND p.[StartDate] <= GETDATE()
	   AND p.[EndDate] > GETDATE()
	   AND r.[StartDate] <= GETDATE()
	   AND ISNULL(r.[EndDate], dbo.GetFutureDate()) > GETDATE()
	   AND r.IsCogs = 1
	UNION ALL
	-- Recruiting overhead
	SELECT ps.[PersonId],
	       'Recruiting' AS [Description],
	       ROUND(SUM(r.[Amount] / r.[HoursToCollect]), 2) AS Rate,
	       1 AS HoursToCollect,
	       ps.[HireDate] AS [StartDate],
	       MAX(ps.[TerminationDate]) AS [EndDate],
	       CAST(0 AS BIT) AS IsPercentage,
	       NULL AS OverheadFixedRateId,
	       NULL AS OverheadRateTypeId,
	       NULL AS OverheadRateTypeName,
	       CAST(0 AS DECIMAL) AS BillRateMultiplier
	  FROM dbo.[RecruiterCommission] AS r
	       INNER JOIN dbo.Person AS ps ON r.[RecruitId] = ps.[PersonId]
	 WHERE (SELECT COUNT(*) * 8
			  FROM dbo.Calendar AS cal
			 WHERE cal.Date BETWEEN ps.[HireDate] AND GETDATE()
			   AND cal.DayOff = 0) < r.[HoursToCollect]
	GROUP BY ps.[PersonId], ps.[HireDate]
	UNION ALL
	SELECT ps.[PersonId],
	       'Bonus' AS [Description],
	       p.BonusAmount AS Rate,
	       p.BonusHoursToCollect,
	       p.StartDate,
	       p.EndDate,
	       CAST(0 AS BIT) AS IsPercentage,
	       NULL AS OverheadFixedRateId,
	       NULL AS OverheadRateTypeId,
	       NULL AS OverheadRateTypeName,
	       CAST(0 AS DECIMAL) AS BillRateMultiplier
	  FROM dbo.Person AS ps
	       INNER JOIN dbo.Pay AS p ON ps.[PersonId] = p.[Person]
	 WHERE p.[StartDate] <= GETDATE()
	   AND p.[EndDate] > GETDATE()]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonOverhead].[PersonId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonOverhead].[Description]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_OverheadFixedRate].[Description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonOverhead].[Rate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_OverheadFixedRate].[Rate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonOverhead].[HoursToCollect]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_OverheadFixedRate].[HoursToCollect]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonOverhead].[StartDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_OverheadFixedRate].[StartDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonOverhead].[EndDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_OverheadFixedRate].[EndDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonOverhead].[IsPercentage]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonOverhead].[OverheadFixedRateId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_OverheadFixedRate].[OverheadFixedRateId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonOverhead].[OverheadRateTypeId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_OverheadFixedRate].[OverheadRateTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonOverhead].[OverheadRateTypeName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_OverheadFixedRate].[OverheadRateTypeName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonOverhead].[BillRateMultiplier]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[Rate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[HoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[EndDate]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[IsPercentage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[OverheadFixedRateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[OverheadRateTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[OverheadRateTypeName]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[decimal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Timescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale].[TimescaleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale].[OverheadFixedRateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[OverheadFixedRateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[Inactive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[IsCogs]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale].[OverheadFixedRateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[OverheadFixedRateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale].[TimescaleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Timescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[Rate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Amount]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetHoursPerYear]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[OverheadRateTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[OverheadRateTypeName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[Inactive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[IsCogs]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonLight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[Rate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonLight].[MilestoneHourlyRevenue]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonLight].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonLight].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonLight].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[Rate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruitId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[HoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[TerminationDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[DayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[BonusAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[BonusHoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[EndDate]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="266" />
				<Property Name="Length" Value="5053" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 5-27-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date: 8-13-2008&#xD;&#xA;-- Description:&#x9;Lists overheads by the persons.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE VIEW [dbo].[v_PersonOverhead]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_PersonOverheadRetrospective]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[
	-- Fixed rates part
	SELECT ps.PersonId,
	       r.Description,
	       r.Rate,
	       r.HoursToCollect,
	       r.IsPercentage,
	       r.OverheadFixedRateId,
	       cal.Date,
	       CASE r.HoursToCollect
	           WHEN 0
	           THEN CAST(0 AS DECIMAL)
	           ELSE r.Rate / r.HoursToCollect
	       END AS HourlyRate,
	       r.OverheadRateTypeId,
	       r.OverheadRateTypeName,
	       CAST(0 AS DECIMAL) AS BillRateMultiplier
	  FROM dbo.Person AS ps
	       CROSS JOIN dbo.v_OverheadFixedRate AS r
	       INNER JOIN dbo.Calendar AS cal
	           ON cal.Date >= r.StartDate AND cal.Date < ISNULL(r.EndDate, dbo.GetFutureDate())
	       INNER JOIN dbo.Pay AS p
	           ON p.Person = ps.PersonId AND cal.Date >= p.StartDate AND cal.Date < p.EndDate
	       INNER JOIN dbo.OverheadFixedRateTimescale AS rt
	           ON p.Timescale = rt.TimescaleId AND rt.OverheadFixedRateId = r.OverheadFixedRateId
	 WHERE r.OverheadRateTypeId NOT IN (2, 4)
	   AND r.[Inactive] = 0
	   AND r.IsCogs = 1
	UNION ALL
	-- Dynamically calculated rates
	-- Pay rate multiplier
	SELECT ps.PersonId,
	       r.Description,
	       r.Rate * p.[Amount] / 100 AS Rate,
	       CAST(CASE p.[Timescale] WHEN 2 THEN dbo.GetHoursPerYear() ELSE 1 END AS INT) AS HoursToCollect,
	       CAST(0 AS BIT) AS IsPercentage,
	       r.OverheadFixedRateId,
	       cal.Date,
	       r.Rate * p.[Amount] / (dbo.GetHoursPerYear() * 100) AS HourlyRate,
	       r.OverheadRateTypeId,
	       r.OverheadRateTypeName,
	       CAST(0 AS DECIMAL) AS BillRateMultiplier
	  FROM dbo.Person AS ps
	       CROSS JOIN dbo.v_OverheadFixedRate AS r
	       INNER JOIN dbo.Calendar AS cal
	           ON cal.Date >= r.StartDate AND cal.Date < ISNULL(r.EndDate, dbo.GetFutureDate())
	       INNER JOIN dbo.Pay AS p
	           ON p.Person = ps.PersonId AND cal.Date >= p.StartDate AND cal.Date < p.EndDate
	       INNER JOIN dbo.OverheadFixedRateTimescale AS t
	           ON t.OverheadFixedRateId = r.OverheadFixedRateId AND t.TimescaleId = p.Timescale
	 WHERE r.[OverheadRateTypeId] = 4
	   AND r.[Inactive] = 0
	   AND r.IsCogs = 1
	UNION ALL
	-- Bill rate multiplier
	SELECT ps.PersonId,
	       r.Description,
	       ISNULL((SELECT r.Rate * SUM(mp.MilestoneHourlyRevenue) / 100
	                 FROM dbo.v_MilestonePersonLight AS mp
	                WHERE mp.PersonId = ps.PersonId
	                  AND mp.StartDate <= cal.Date
	                  AND mp.EndDate > cal.Date), 0) AS Rate,
	       CAST(CASE p.[Timescale] WHEN 2 THEN dbo.GetHoursPerYear() ELSE 1 END AS INT) AS HoursToCollect,
	       CAST(0 AS BIT) AS IsPercentage,
	       r.OverheadFixedRateId,
	       cal.Date,
	       r.Rate * p.[Amount] / (dbo.GetHoursPerYear() * 100) AS HourlyRate,
	       r.OverheadRateTypeId,
	       r.OverheadRateTypeName,
	       r.Rate AS BillRateMultiplier
	  FROM dbo.Person AS ps
	       CROSS JOIN dbo.v_OverheadFixedRate AS r
	       INNER JOIN dbo.Calendar AS cal
	           ON cal.Date >= r.StartDate AND cal.Date < ISNULL(r.EndDate, dbo.GetFutureDate())
	       INNER JOIN dbo.Pay AS p
	           ON p.Person = ps.PersonId AND cal.Date >= p.StartDate AND cal.Date < p.EndDate
	       INNER JOIN dbo.OverheadFixedRateTimescale AS t
	           ON t.OverheadFixedRateId = r.OverheadFixedRateId AND t.TimescaleId = p.Timescale
	 WHERE r.[OverheadRateTypeId] = 2
	   AND r.[Inactive] = 0
	   AND r.IsCogs = 1
	UNION ALL
	-- Recruiting overhead
	SELECT ps.[PersonId],
	       'Recruiting' AS [Description],
	       ROUND(SUM(r.[Amount] / r.[HoursToCollect]), 2) AS Rate,
	       1 AS HoursToCollect,
	       0 AS IsPercentage,
	       NULL AS OverheadFixedRateId,
	       cal.Date,
	       ROUND(SUM(r.[Amount] / r.[HoursToCollect]), 2) AS HourlyRate,
	       NULL AS OverheadRateTypeId,
	       NULL AS OverheadRateTypeName,
	       CAST(0 AS DECIMAL) AS BillRateMultiplier
	  FROM dbo.[RecruiterCommission] AS r
	       INNER JOIN dbo.Person AS ps ON r.[RecruitId] = ps.[PersonId]
	       INNER JOIN dbo.Calendar AS cal
	           ON cal.Date >= ps.[HireDate] AND cal.Date < DATEADD(dd, HoursToCollect / 8, ps.[HireDate])
	GROUP BY ps.[PersonId], cal.Date
	UNION ALL
	SELECT ps.[PersonId],
	       'Bonus' AS [Description],
	       p.BonusAmount AS Rate,
	       p.BonusHoursToCollect,
	       0 AS IsPercentage,
	       NULL AS OverheadFixedRateId,
	       cal.Date,
	       CASE p.BonusHoursToCollect
	           WHEN 0
	           THEN CAST(0 AS DECIMAL)
	           ELSE p.BonusAmount / p.BonusHoursToCollect
	       END AS HourlyRate,
	       NULL AS OverheadRateTypeId,
	       NULL AS OverheadRateTypeName,
	       CAST(0 AS DECIMAL) AS BillRateMultiplier
	  FROM dbo.Person AS ps
	       INNER JOIN dbo.Pay AS p ON ps.[PersonId] = p.[Person]
	       INNER JOIN dbo.Calendar AS cal
	           ON cal.Date >= p.StartDate AND cal.Date < p.EndDate]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonOverheadRetrospective].[PersonId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonOverheadRetrospective].[Description]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_OverheadFixedRate].[Description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonOverheadRetrospective].[Rate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_OverheadFixedRate].[Rate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonOverheadRetrospective].[HoursToCollect]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_OverheadFixedRate].[HoursToCollect]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonOverheadRetrospective].[IsPercentage]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_OverheadFixedRate].[IsPercentage]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonOverheadRetrospective].[OverheadFixedRateId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_OverheadFixedRate].[OverheadFixedRateId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonOverheadRetrospective].[Date]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Calendar].[Date]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonOverheadRetrospective].[HourlyRate]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonOverheadRetrospective].[OverheadRateTypeId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_OverheadFixedRate].[OverheadRateTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonOverheadRetrospective].[OverheadRateTypeName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_OverheadFixedRate].[OverheadRateTypeName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonOverheadRetrospective].[BillRateMultiplier]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFutureDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Timescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale].[TimescaleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale].[OverheadFixedRateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[OverheadFixedRateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[Rate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[HoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[IsPercentage]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[decimal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[OverheadRateTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[OverheadRateTypeName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[Inactive]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[IsCogs]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale].[OverheadFixedRateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OverheadFixedRateTimescale].[TimescaleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Amount]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetHoursPerYear]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonLight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[Rate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonLight].[MilestoneHourlyRevenue]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonLight].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonLight].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestonePersonLight].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_OverheadFixedRate].[Rate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruitId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[HireDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[HoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[HoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[BonusAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[BonusHoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[BonusAmount]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="298" />
				<Property Name="Length" Value="5305" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 6-19-2008&#xD;&#xA;-- Updated by:&#x9;Anatoliy Lokshin&#xD;&#xA;-- Update date: 8-13-2008&#xD;&#xA;-- Description:&#x9;Lists overheads by the persons in the historical retrospective.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE VIEW [dbo].[v_PersonOverheadRetrospective]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_PersonPayRetrospective]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="QueryScript">
				<Value><![CDATA[
	SELECT cal.PersonId,
	       cal.Date,
	       p.Amount AS Rate,
	       p.Timescale,
	       t.Name AS TimescaleName,
	       p.DefaultHoursPerDay,
	       CASE
	           WHEN p.Timescale IN (1, 3, 4)
	           THEN p.Amount
	           ELSE p.Amount / dbo.GetHoursPerYear()
	       END AS HourlyRate,
	       p.BonusAmount,
           p.BonusHoursToCollect
	  FROM dbo.PersonCalendarAuto AS cal
	       INNER JOIN dbo.Pay AS p
	           ON p.StartDate <= cal.Date AND p.EndDate > cal.date AND cal.PersonId = p.Person
	       INNER JOIN dbo.Timescale AS t ON p.Timescale = t.TimescaleId
	 WHERE cal.DayOff = 0]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonPayRetrospective].[PersonId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[PersonCalendarAuto].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonPayRetrospective].[Date]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[PersonCalendarAuto].[Date]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonPayRetrospective].[Rate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Pay].[Amount]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonPayRetrospective].[Timescale]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Pay].[Timescale]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonPayRetrospective].[TimescaleName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Timescale].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonPayRetrospective].[DefaultHoursPerDay]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Pay].[DefaultHoursPerDay]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonPayRetrospective].[HourlyRate]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonPayRetrospective].[BonusAmount]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Pay].[BonusAmount]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonPayRetrospective].[BonusHoursToCollect]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Pay].[BonusHoursToCollect]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Timescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Timescale]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Timescale].[TimescaleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Timescale].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[DefaultHoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetHoursPerYear]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[BonusAmount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Pay].[BonusHoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonCalendarAuto].[DayOff]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="684" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW [dbo].[v_PersonPayRetrospective]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_PersonProjectCommission]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[
	SELECT c.ProjectId, c.PersonId, c.CommissionId, p.Alias, c.CommissionType
	  FROM dbo.Commission AS c
	       INNER JOIN dbo.Person AS p ON p.PersonId = c.PersonId]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonProjectCommission].[ProjectId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Commission].[ProjectId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonProjectCommission].[PersonId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Commission].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonProjectCommission].[CommissionId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Commission].[CommissionId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonProjectCommission].[Alias]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[Alias]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_PersonProjectCommission].[CommissionType]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Commission].[CommissionType]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[Commission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[CommissionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Commission].[CommissionType]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="273" />
				<Property Name="Length" Value="490" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 10-16-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Selects persons commissions on the projects. Uses for filters.&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE VIEW [dbo].[v_PersonProjectCommission]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_Project]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="QueryScript">
				<Value><![CDATA[
	SELECT p.ClientId,
		   p.ProjectId,
		   p.Discount,
		   p.Terms,
		   p.Name,
		   r.PracticeManagerId,
		   p.PracticeId,
		   p.StartDate,
		   p.EndDate,
		   c.Name AS ClientName,
		   c.IsChargeable AS 'ClientIsChargeable',
		   r.Name AS PracticeName,
		   p.ProjectStatusId,
		   s.Name AS ProjectStatusName,
		   p.ProjectNumber,
		   p.BuyerName,
		   p.OpportunityId,
		   p.GroupId,
		   p.IsChargeable AS 'ProjectIsChargeable',
		   m.PersonId AS 'ProjectManagerId',
		   m.FirstName AS 'ProjectManagerFirstName',
		   m.LastName AS 'ProjectManagerLastName'
	  FROM dbo.Project AS p
		   INNER JOIN dbo.Practice AS r ON p.PracticeId = r.PracticeId
		   INNER JOIN dbo.Client AS c ON p.ClientId = c.ClientId
		   INNER JOIN dbo.ProjectStatus AS s ON p.ProjectStatusId = s.ProjectStatusId
		   INNER JOIN dbo.Person AS m ON p.ProjectManagerId = m.PersonId]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Project].[ClientId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Project].[ClientId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Project].[ProjectId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Project].[ProjectId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Project].[Discount]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Project].[Discount]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Project].[Terms]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Project].[Terms]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Project].[Name]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Project].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Project].[PracticeManagerId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Practice].[PracticeManagerId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Project].[PracticeId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Project].[PracticeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Project].[StartDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Project].[StartDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Project].[EndDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Project].[EndDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Project].[ClientName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Client].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Project].[ClientIsChargeable]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Client].[IsChargeable]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Project].[PracticeName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Practice].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Project].[ProjectStatusId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Project].[ProjectStatusId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Project].[ProjectStatusName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[ProjectStatus].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Project].[ProjectNumber]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Project].[ProjectNumber]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Project].[BuyerName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Project].[BuyerName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Project].[OpportunityId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Project].[OpportunityId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Project].[GroupId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Project].[GroupId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Project].[ProjectIsChargeable]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Project].[IsChargeable]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Project].[ProjectManagerId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Project].[ProjectManagerFirstName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[FirstName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_Project].[ProjectManagerLastName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[LastName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectStatus].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Discount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Terms]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[PracticeManagerId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[PracticeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Practice].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectStatus].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[BuyerName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[OpportunityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[GroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="329" />
				<Property Name="Length" Value="1255" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 6-05-2008&#xD;&#xA;-- Updated by:&#x9;Anton Kramarenko&#xD;&#xA;-- Update date: 02-20-2009&#xD;&#xA;-- Updated by:&#x9;Anton Kolesnikov&#xD;&#xA;-- Update date: 07-16-2009&#xD;&#xA;-- Description:&#x9;List projects with their details&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE VIEW dbo.v_Project&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_ProjectExpenses]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[
	SELECT 
	   pexp.[Id] as 'ExpenseId'
      ,pexp.[Name] as 'ExpenseName'
      ,pexp.[Amount] as 'ExpenseAmount'
      ,pexp.[Reimbursement] as 'ExpenseReimbursement'
	  ,pexp.[Reimbursement] * 0.01 * pexp.[Amount] as 'ExpenseReimbursementAmount'
	  ,m.ProjectId
      ,m.[MilestoneId] as 'MilestoneId'
	  ,m.[Description] as 'MilestoneName'
	from dbo.ProjectExpense as pexp
	inner join milestone as m on pexp.milestoneId = m.milestoneId]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_ProjectExpenses].[ExpenseId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[ProjectExpense].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_ProjectExpenses].[ExpenseName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[ProjectExpense].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_ProjectExpenses].[ExpenseAmount]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[ProjectExpense].[Amount]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_ProjectExpenses].[ExpenseReimbursement]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[ProjectExpense].[Reimbursement]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_ProjectExpenses].[ExpenseReimbursementAmount]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_ProjectExpenses].[ProjectId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[ProjectId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_ProjectExpenses].[MilestoneId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[MilestoneId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_ProjectExpenses].[MilestoneName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[Description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[ProjectExpense]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpense].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpense].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpense].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpense].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpense].[Reimbursement]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpense].[Reimbursement]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProjectExpense].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Description]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="487" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE view dbo.v_ProjectExpenses&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_ProjectTotalExpenses]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[
	select 
		ProjectId,
		sum(Expense) as 'ExpenseSum',
		sum(ReimbursedExpense) as 'ReimbursedExpenseSum'
	from v_MilestoneExpenses
	group by ProjectId]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_ProjectTotalExpenses].[ProjectId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[v_MilestoneExpenses].[ProjectId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_ProjectTotalExpenses].[ExpenseSum]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_ProjectTotalExpenses].[ReimbursedExpenseSum]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[v_MilestoneExpenses]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneExpenses].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneExpenses].[Expense]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_MilestoneExpenses].[ReimbursedExpense]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="199" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create view dbo.v_ProjectTotalExpenses&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_RecruiterComissionWithDays]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="QueryScript">
				<Value><![CDATA[
WITH Ordered AS (
	SELECT
			ROW_NUMBER() OVER (ORDER BY p.PersonId ASC) AS rownum, 
			rec.PersonId AS RecruiterId, rec.FirstName + ' ' + rec.LastName AS RecruiterName, rcomm1.RecruitId,
			rcomm1.Amount AS cc1, rcomm1.HoursToCollect / 24 AS cd1, 
			rcomm2.Amount AS cc2, rcomm2.HoursToCollect / 24 AS cd2
			FROM dbo.Person AS p 
			INNER JOIN dbo.RecruiterCommission rcomm1 ON p.PersonId = rcomm1.RecruitId
			INNER JOIN dbo.RecruiterCommission rcomm2 ON p.PersonId = rcomm2.RecruitId
			INNER JOIN dbo.Person AS rec ON rcomm2.RecruiterId = rec.PersonId
			WHERE (rcomm1.HoursToCollect != rcomm2.HoursToCollect OR 
					rcomm1.Amount != rcomm2.Amount)
)
SELECT * FROM Ordered WHERE rownum % 2 = 1]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_RecruiterComissionWithDays].[rownum]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_RecruiterComissionWithDays].[RecruiterId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_RecruiterComissionWithDays].[RecruiterName]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_RecruiterComissionWithDays].[RecruitId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[RecruiterCommission].[RecruitId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_RecruiterComissionWithDays].[cc1]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[RecruiterCommission].[Amount]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_RecruiterComissionWithDays].[cd1]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_RecruiterComissionWithDays].[cc2]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[RecruiterCommission].[Amount]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_RecruiterComissionWithDays].[cd2]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="ISqlDynamicColumnSource" Name="[dbo].[v_RecruiterComissionWithDays].[CTE1].[Ordered]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[v_RecruiterComissionWithDays].[CTE1].[Ordered].[rownum]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[v_RecruiterComissionWithDays].[CTE1].[Ordered].[RecruiterId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Person].[PersonId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[v_RecruiterComissionWithDays].[CTE1].[Ordered].[RecruiterName]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[v_RecruiterComissionWithDays].[CTE1].[Ordered].[RecruitId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[RecruiterCommission].[RecruitId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[v_RecruiterComissionWithDays].[CTE1].[Ordered].[cc1]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[RecruiterCommission].[Amount]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[v_RecruiterComissionWithDays].[CTE1].[Ordered].[cd1]" />
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[v_RecruiterComissionWithDays].[CTE1].[Ordered].[cc2]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[RecruiterCommission].[Amount]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="ISql90ComputedColumn" Name="[dbo].[v_RecruiterComissionWithDays].[CTE1].[Ordered].[cd2]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruitId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruitId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[RecruiterId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[HoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[HoursToCollect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[Amount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RecruiterCommission].[Amount]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="767" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW [dbo].[v_RecruiterComissionWithDays]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_TimeEntries]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[
SELECT  DISTINCT   te.TimeEntryId, te.EntryDate, te.ModifiedDate, te.MilestonePersonId, te.ActualHours, te.ForecastedHours, te.TimeTypeId, tt.Name AS 'TimeTypeName', te.ModifiedBy, te.Note, 
                      te.IsReviewed, te.IsChargeable, te.MilestoneDate, modp.FirstName AS 'ModifiedByFirstName', modp.LastName AS 'ModifiedByLastName', objp.PersonId, 
                      objp.FirstName AS 'ObjectFirstName', objp.LastName AS 'ObjectLastName', m.Description AS 'MilestoneName', mpe.StartDate, mpe.EndDate, 
                      mpe.HoursPerDay, m.MilestoneId, proj.ProjectId, proj.Name AS 'ProjectName', proj.ProjectNumber, te.IsCorrect, c.ClientId, c.[Name] AS 'ClientName', proj.IsChargeable as 'IsProjectChargeable'
FROM         dbo.TimeEntries AS te INNER JOIN
                      dbo.Person AS modp ON modp.PersonId = te.ModifiedBy INNER JOIN
                      dbo.MilestonePerson AS mp ON mp.MilestonePersonId = te.MilestonePersonId INNER JOIN
                      dbo.MilestonePersonEntry AS mpe ON mp.MilestonePersonId = mpe.MilestonePersonId INNER JOIN
                      dbo.Person AS objp ON objp.PersonId = mp.PersonId INNER JOIN
                      dbo.Milestone AS m ON m.MilestoneId = mp.MilestoneId INNER JOIN
                      dbo.Project AS proj ON proj.ProjectId = m.ProjectId INNER JOIN
                      dbo.TimeType AS tt ON tt.TimeTypeId = te.TimeTypeId INNER JOIN
                      dbo.Client AS c ON proj.ClientId = c.ClientId
WHERE te.MilestoneDate BETWEEN mpe.StartDate AND ISNULL(mpe.EndDate, m.ProjectedDeliveryDate)]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[TimeEntryId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[TimeEntries].[TimeEntryId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[EntryDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[TimeEntries].[EntryDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[ModifiedDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[TimeEntries].[ModifiedDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[MilestonePersonId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[TimeEntries].[MilestonePersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[ActualHours]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[TimeEntries].[ActualHours]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[ForecastedHours]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[TimeEntries].[ForecastedHours]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[TimeTypeId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[TimeEntries].[TimeTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[TimeTypeName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[TimeType].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[ModifiedBy]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[TimeEntries].[ModifiedBy]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[Note]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[TimeEntries].[Note]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[IsReviewed]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[TimeEntries].[IsReviewed]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[IsChargeable]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[TimeEntries].[IsChargeable]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[MilestoneDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[TimeEntries].[MilestoneDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[ModifiedByFirstName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[FirstName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[ModifiedByLastName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[LastName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[PersonId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[ObjectFirstName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[FirstName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[ObjectLastName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[LastName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[MilestoneName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[Description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[StartDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[EndDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MilestonePersonEntry].[EndDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[HoursPerDay]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MilestonePersonEntry].[HoursPerDay]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[MilestoneId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[MilestoneId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[ProjectId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Project].[ProjectId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[ProjectName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Project].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[ProjectNumber]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Project].[ProjectNumber]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[IsCorrect]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[TimeEntries].[IsCorrect]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[ClientId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Client].[ClientId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[ClientName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Client].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeEntries].[IsProjectChargeable]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Project].[IsChargeable]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[TimeEntries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ModifiedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeType].[TimeTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[TimeTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[ClientId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[TimeEntryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[EntryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ModifiedDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ActualHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ForecastedHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[TimeTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeType].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ModifiedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[Note]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[IsReviewed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[MilestoneDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[HoursPerDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[ProjectNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[IsCorrect]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Client].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Project].[IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[ProjectedDeliveryDate]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="70" />
				<Property Name="Length" Value="1697" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;/*INNER JOIN dbo.Client AS clnt ON proj.ClientId = clnt.ClientId*/&#xD;&#xA;CREATE VIEW dbo.v_TimeEntries&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_TimeUnrestrictedEntriesUnrestricted]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[
SELECT  DISTINCT   te.TimeEntryId, te.EntryDate, te.ModifiedDate, te.MilestonePersonId, te.ActualHours, te.ForecastedHours, te.TimeTypeId, te.ModifiedBy, te.Note, 
                      te.IsReviewed, te.IsChargeable, te.MilestoneDate, m.Description AS 'MilestoneName', mpe.StartDate, mpe.EndDate, 
                      mpe.HoursPerDay, m.MilestoneId
FROM         dbo.TimeEntries AS te INNER JOIN
                      dbo.MilestonePerson AS mp ON mp.MilestonePersonId = te.MilestonePersonId LEFT JOIN
                      dbo.MilestonePersonEntry AS mpe ON mp.MilestonePersonId = mpe.MilestonePersonId INNER JOIN
                      dbo.Milestone AS m ON m.MilestoneId = mp.MilestoneId]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeUnrestrictedEntriesUnrestricted].[TimeEntryId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[TimeEntries].[TimeEntryId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeUnrestrictedEntriesUnrestricted].[EntryDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[TimeEntries].[EntryDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeUnrestrictedEntriesUnrestricted].[ModifiedDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[TimeEntries].[ModifiedDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeUnrestrictedEntriesUnrestricted].[MilestonePersonId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[TimeEntries].[MilestonePersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeUnrestrictedEntriesUnrestricted].[ActualHours]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[TimeEntries].[ActualHours]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeUnrestrictedEntriesUnrestricted].[ForecastedHours]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[TimeEntries].[ForecastedHours]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeUnrestrictedEntriesUnrestricted].[TimeTypeId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[TimeEntries].[TimeTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeUnrestrictedEntriesUnrestricted].[ModifiedBy]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[TimeEntries].[ModifiedBy]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeUnrestrictedEntriesUnrestricted].[Note]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[TimeEntries].[Note]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeUnrestrictedEntriesUnrestricted].[IsReviewed]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[TimeEntries].[IsReviewed]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeUnrestrictedEntriesUnrestricted].[IsChargeable]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[TimeEntries].[IsChargeable]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeUnrestrictedEntriesUnrestricted].[MilestoneDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[TimeEntries].[MilestoneDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeUnrestrictedEntriesUnrestricted].[MilestoneName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[Description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeUnrestrictedEntriesUnrestricted].[StartDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeUnrestrictedEntriesUnrestricted].[EndDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MilestonePersonEntry].[EndDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeUnrestrictedEntriesUnrestricted].[HoursPerDay]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[MilestonePersonEntry].[HoursPerDay]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_TimeUnrestrictedEntriesUnrestricted].[MilestoneId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Milestone].[MilestoneId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[TimeEntries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePerson].[MilestoneId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[TimeEntryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[EntryDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ModifiedDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[MilestonePersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ActualHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ForecastedHours]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[TimeTypeId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[ModifiedBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[Note]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[IsReviewed]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[IsChargeable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TimeEntries].[MilestoneDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Milestone].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[MilestonePersonEntry].[HoursPerDay]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="759" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW [dbo].[v_TimeUnrestrictedEntriesUnrestricted]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[v_UsersInRoles]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="QueryScript">
				<Value><![CDATA[ 
SELECT p.PersonId, p.LastName, p.FirstName, u.UserName, r.RoleName, p.PersonStatusId, st.Name as 'StatusName'
FROM dbo.aspnet_Users AS u
INNER JOIN dbo.Person AS p ON u.UserName = p.Alias
INNER JOIN dbo.aspnet_UsersInRoles AS ur ON u.UserId = ur.UserId
INNER JOIN dbo.aspnet_Roles AS r ON ur.RoleId = r.RoleId
inner join dbo.PersonStatus as st on st.PersonStatusId = p.PersonStatusId
--WHERE p.PersonStatusId = 1]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_UsersInRoles].[PersonId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[PersonId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_UsersInRoles].[LastName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[LastName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_UsersInRoles].[FirstName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[FirstName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_UsersInRoles].[UserName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Users].[UserName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_UsersInRoles].[RoleName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Roles].[RoleName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_UsersInRoles].[PersonStatusId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Person].[PersonStatusId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[v_UsersInRoles].[StatusName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[PersonStatus].[Name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[Alias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Person].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PersonStatus].[Name]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="455" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW dbo.v_UsersInRoles&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[vw_aspnet_Applications]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="QueryScript">
				<Value><![CDATA[ SELECT [dbo].[aspnet_Applications].[ApplicationName], [dbo].[aspnet_Applications].[LoweredApplicationName], [dbo].[aspnet_Applications].[ApplicationId], [dbo].[aspnet_Applications].[Description]
  FROM [dbo].[aspnet_Applications]]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_Applications].[ApplicationName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Applications].[ApplicationName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_Applications].[LoweredApplicationName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_Applications].[ApplicationId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_Applications].[Description]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Applications].[Description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[aspnet_Applications]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[LoweredApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Applications].[Description]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="277" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW [dbo].[vw_aspnet_Applications]&#xA;  AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[vw_aspnet_MembershipUsers]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="QueryScript">
				<Value><![CDATA[ SELECT [dbo].[aspnet_Membership].[UserId],
            [dbo].[aspnet_Membership].[PasswordFormat],
            [dbo].[aspnet_Membership].[MobilePIN],
            [dbo].[aspnet_Membership].[Email],
            [dbo].[aspnet_Membership].[LoweredEmail],
            [dbo].[aspnet_Membership].[PasswordQuestion],
            [dbo].[aspnet_Membership].[PasswordAnswer],
            [dbo].[aspnet_Membership].[IsApproved],
            [dbo].[aspnet_Membership].[IsLockedOut],
            [dbo].[aspnet_Membership].[CreateDate],
            [dbo].[aspnet_Membership].[LastLoginDate],
            [dbo].[aspnet_Membership].[LastPasswordChangedDate],
            [dbo].[aspnet_Membership].[LastLockoutDate],
            [dbo].[aspnet_Membership].[FailedPasswordAttemptCount],
            [dbo].[aspnet_Membership].[FailedPasswordAttemptWindowStart],
            [dbo].[aspnet_Membership].[FailedPasswordAnswerAttemptCount],
            [dbo].[aspnet_Membership].[FailedPasswordAnswerAttemptWindowStart],
            [dbo].[aspnet_Membership].[Comment],
            [dbo].[aspnet_Users].[ApplicationId],
            [dbo].[aspnet_Users].[UserName],
            [dbo].[aspnet_Users].[MobileAlias],
            [dbo].[aspnet_Users].[IsAnonymous],
            [dbo].[aspnet_Users].[LastActivityDate]
  FROM [dbo].[aspnet_Membership] INNER JOIN [dbo].[aspnet_Users]
      ON [dbo].[aspnet_Membership].[UserId] = [dbo].[aspnet_Users].[UserId]]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_MembershipUsers].[UserId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Membership].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_MembershipUsers].[PasswordFormat]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Membership].[PasswordFormat]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_MembershipUsers].[MobilePIN]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Membership].[MobilePIN]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_MembershipUsers].[Email]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Membership].[Email]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_MembershipUsers].[LoweredEmail]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Membership].[LoweredEmail]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_MembershipUsers].[PasswordQuestion]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Membership].[PasswordQuestion]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_MembershipUsers].[PasswordAnswer]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Membership].[PasswordAnswer]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_MembershipUsers].[IsApproved]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Membership].[IsApproved]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_MembershipUsers].[IsLockedOut]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Membership].[IsLockedOut]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_MembershipUsers].[CreateDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Membership].[CreateDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_MembershipUsers].[LastLoginDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Membership].[LastLoginDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_MembershipUsers].[LastPasswordChangedDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Membership].[LastPasswordChangedDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_MembershipUsers].[LastLockoutDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Membership].[LastLockoutDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_MembershipUsers].[FailedPasswordAttemptCount]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Membership].[FailedPasswordAttemptCount]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_MembershipUsers].[FailedPasswordAttemptWindowStart]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Membership].[FailedPasswordAttemptWindowStart]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_MembershipUsers].[FailedPasswordAnswerAttemptCount]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Membership].[FailedPasswordAnswerAttemptCount]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_MembershipUsers].[FailedPasswordAnswerAttemptWindowStart]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Membership].[FailedPasswordAnswerAttemptWindowStart]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_MembershipUsers].[Comment]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Membership].[Comment]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_MembershipUsers].[ApplicationId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_MembershipUsers].[UserName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Users].[UserName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_MembershipUsers].[MobileAlias]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Users].[MobileAlias]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_MembershipUsers].[IsAnonymous]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Users].[IsAnonymous]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_MembershipUsers].[LastActivityDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[aspnet_Membership]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[PasswordFormat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[MobilePIN]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[Email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LoweredEmail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[PasswordQuestion]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[PasswordAnswer]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[IsApproved]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[IsLockedOut]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[CreateDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastLoginDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastPasswordChangedDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[LastLockoutDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAttemptCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAttemptWindowStart]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAnswerAttemptCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[FailedPasswordAnswerAttemptWindowStart]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Membership].[Comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[MobileAlias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[IsAnonymous]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1478" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW [dbo].[vw_aspnet_MembershipUsers]&#xA;  AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[vw_aspnet_Profiles]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="QueryScript">
				<Value><![CDATA[ SELECT [dbo].[aspnet_Profile].[UserId], [dbo].[aspnet_Profile].[LastUpdatedDate],
      [DataSize]=  DATALENGTH([dbo].[aspnet_Profile].[PropertyNames])
                 + DATALENGTH([dbo].[aspnet_Profile].[PropertyValuesString])
                 + DATALENGTH([dbo].[aspnet_Profile].[PropertyValuesBinary])
  FROM [dbo].[aspnet_Profile]]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_Profiles].[UserId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Profile].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_Profiles].[LastUpdatedDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Profile].[LastUpdatedDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_Profiles].[DataSize]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[aspnet_Profile]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile].[LastUpdatedDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile].[PropertyNames]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile].[PropertyValuesString]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Profile].[PropertyValuesBinary]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="4" />
				<Property Name="Length" Value="388" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;  CREATE VIEW [dbo].[vw_aspnet_Profiles]&#xD;&#xA;  AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[vw_aspnet_Roles]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="QueryScript">
				<Value><![CDATA[ SELECT [dbo].[aspnet_Roles].[ApplicationId], [dbo].[aspnet_Roles].[RoleId], [dbo].[aspnet_Roles].[RoleName], [dbo].[aspnet_Roles].[LoweredRoleName], [dbo].[aspnet_Roles].[Description]
  FROM [dbo].[aspnet_Roles]]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_Roles].[ApplicationId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Roles].[ApplicationId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_Roles].[RoleId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Roles].[RoleId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_Roles].[RoleName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Roles].[RoleName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_Roles].[LoweredRoleName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Roles].[LoweredRoleName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_Roles].[Description]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Roles].[Description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[aspnet_Roles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[RoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[LoweredRoleName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Roles].[Description]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="252" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW [dbo].[vw_aspnet_Roles]&#xA;  AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[vw_aspnet_Users]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="QueryScript">
				<Value><![CDATA[ SELECT [dbo].[aspnet_Users].[ApplicationId], [dbo].[aspnet_Users].[UserId], [dbo].[aspnet_Users].[UserName], [dbo].[aspnet_Users].[LoweredUserName], [dbo].[aspnet_Users].[MobileAlias], [dbo].[aspnet_Users].[IsAnonymous], [dbo].[aspnet_Users].[LastActivityDate]
  FROM [dbo].[aspnet_Users]]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_Users].[ApplicationId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_Users].[UserId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Users].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_Users].[UserName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Users].[UserName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_Users].[LoweredUserName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_Users].[MobileAlias]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Users].[MobileAlias]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_Users].[IsAnonymous]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Users].[IsAnonymous]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_Users].[LastActivityDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[aspnet_Users]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LoweredUserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[MobileAlias]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[IsAnonymous]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Users].[LastActivityDate]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="329" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW [dbo].[vw_aspnet_Users]&#xA;  AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[vw_aspnet_UsersInRoles]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="QueryScript">
				<Value><![CDATA[ SELECT [dbo].[aspnet_UsersInRoles].[UserId], [dbo].[aspnet_UsersInRoles].[RoleId]
  FROM [dbo].[aspnet_UsersInRoles]]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_UsersInRoles].[UserId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_UsersInRoles].[RoleId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_UsersInRoles].[RoleId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_UsersInRoles].[RoleId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="164" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW [dbo].[vw_aspnet_UsersInRoles]&#xA;  AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[vw_aspnet_WebPartState_Paths]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="QueryScript">
				<Value><![CDATA[ SELECT [dbo].[aspnet_Paths].[ApplicationId], [dbo].[aspnet_Paths].[PathId], [dbo].[aspnet_Paths].[Path], [dbo].[aspnet_Paths].[LoweredPath]
  FROM [dbo].[aspnet_Paths]]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_WebPartState_Paths].[ApplicationId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Paths].[ApplicationId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_WebPartState_Paths].[PathId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Paths].[PathId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_WebPartState_Paths].[Path]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Paths].[Path]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_WebPartState_Paths].[LoweredPath]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_Paths].[LoweredPath]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[aspnet_Paths]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[Path]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_Paths].[LoweredPath]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="4" />
				<Property Name="Length" Value="227" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;  CREATE VIEW [dbo].[vw_aspnet_WebPartState_Paths]&#xD;&#xA;  AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[vw_aspnet_WebPartState_Shared]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="QueryScript">
				<Value><![CDATA[ SELECT [dbo].[aspnet_PersonalizationAllUsers].[PathId], [DataSize]=DATALENGTH([dbo].[aspnet_PersonalizationAllUsers].[PageSettings]), [dbo].[aspnet_PersonalizationAllUsers].[LastUpdatedDate]
  FROM [dbo].[aspnet_PersonalizationAllUsers]]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_WebPartState_Shared].[PathId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_PersonalizationAllUsers].[PathId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_WebPartState_Shared].[DataSize]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_WebPartState_Shared].[LastUpdatedDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_PersonalizationAllUsers].[LastUpdatedDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers].[PageSettings]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationAllUsers].[LastUpdatedDate]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="4" />
				<Property Name="Length" Value="297" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;  CREATE VIEW [dbo].[vw_aspnet_WebPartState_Shared]&#xD;&#xA;  AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100View" Name="[dbo].[vw_aspnet_WebPartState_User]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Property Name="QueryScript">
				<Value><![CDATA[ SELECT [dbo].[aspnet_PersonalizationPerUser].[PathId], [dbo].[aspnet_PersonalizationPerUser].[UserId], [DataSize]=DATALENGTH([dbo].[aspnet_PersonalizationPerUser].[PageSettings]), [dbo].[aspnet_PersonalizationPerUser].[LastUpdatedDate]
  FROM [dbo].[aspnet_PersonalizationPerUser]]]></Value>
			</Property>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_WebPartState_User].[PathId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_PersonalizationPerUser].[PathId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_WebPartState_User].[UserId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_PersonalizationPerUser].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_WebPartState_User].[DataSize]" />
				</Entry>
				<Entry>
					<Element Type="ISql90ComputedColumn" Name="[dbo].[vw_aspnet_WebPartState_User].[LastUpdatedDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[aspnet_PersonalizationPerUser].[LastUpdatedDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[PathId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[PageSettings]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[aspnet_PersonalizationPerUser].[LastUpdatedDate]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="4" />
				<Property Name="Length" Value="339" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;  CREATE VIEW [dbo].[vw_aspnet_WebPartState_User]&#xD;&#xA;  AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[WeekPaidOption]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[WeekPaidOption].[WeekPaidOptionId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[WeekPaidOption].[Name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[WeekPaidOptionListAll]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT WeekPaidOptionId, Name
	  FROM dbo.WeekPaidOption
	ORDER BY WeekPaidOptionId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[WeekPaidOption]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[WeekPaidOption].[WeekPaidOptionId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[WeekPaidOption].[Name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="253" />
				<Property Name="Length" Value="410" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 7-24-2008&#xD;&#xA;-- Updated by:&#x9;&#xD;&#xA;-- Update date:&#x9;&#xD;&#xA;-- Description:&#x9;Retrieves the list of the Week Paid Options&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[WeekPaidOptionListAll]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[WorkDaysCompanyNumber]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT COUNT(*) WorkDays
	  FROM dbo.Calendar AS cal
	 WHERE cal.Date BETWEEN @StartDate AND @EndDate
	   AND cal.DayOff = 0]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Calendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[WorkDaysCompanyNumber].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[WorkDaysCompanyNumber].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Calendar].[DayOff]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[WorkDaysCompanyNumber].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[WorkDaysCompanyNumber].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="270" />
				<Property Name="Length" Value="524" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--The source is &#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 6-18-2008&#xD;&#xA;-- Updated by:  &#xD;&#xA;-- Update date: &#xD;&#xA;-- Description:&#x9;Gets a number of work days for the period&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[WorkDaysCompanyNumber]&#xD;&#xA;(&#xD;&#xA;&#x9;@StartDate   DATETIME,&#xD;&#xA;&#x9;@EndDate     DATETIME&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[WorkDaysPersonNumber]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="BodyScript">
				<Value><![CDATA[
	SET NOCOUNT ON

	SELECT COUNT(*) WorkDays
	  FROM dbo.v_PersonCalendar AS cal
	 WHERE cal.Date BETWEEN @StartDate AND @EndDate
	   AND cal.DayOff = 0
	   AND cal.PersonId = @PersonId]]></Value>
			</Property>
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[v_PersonCalendar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[Date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[WorkDaysPersonNumber].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[WorkDaysPersonNumber].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[DayOff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[v_PersonCalendar].[PersonId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[WorkDaysPersonNumber].[@PersonId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[WorkDaysPersonNumber].[@PersonId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[WorkDaysPersonNumber].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[WorkDaysPersonNumber].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="270" />
				<Property Name="Length" Value="585" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--The source is &#xD;&#xA;-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Anatoliy Lokshin&#xD;&#xA;-- Create date: 6-18-2008&#xD;&#xA;-- Updated by:  &#xD;&#xA;-- Update date: &#xD;&#xA;-- Description:&#x9;Gets a number of work days for the period&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [dbo].[WorkDaysPersonNumber]&#xD;&#xA;(&#xD;&#xA;&#x9;@PersonId    INT,&#xD;&#xA;&#x9;@StartDate   DATETIME,&#xD;&#xA;&#x9;@EndDate     DATETIME&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISqlExtendedProperty" Name="[ISqlView].[dbo].[v_Notes].[MS_DiagramPane1]">
			<Property Name="Value">
				<Value><![CDATA[N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[34] 4[27] 2[12] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "Note"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 121
               Right = 190
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "NoteTarget"
            Begin Extent = 
               Top = 173
               Left = 249
               Bottom = 258
               Right = 401
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Person"
            Begin Extent = 
               Top = 6
               Left = 418
               Bottom = 121
               Right = 592
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 2025
         Width = 1680
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 2685
         Alias = 1635
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End']]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[v_Notes]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlExtendedProperty" Name="[ISqlView].[dbo].[v_Notes].[MS_DiagramPaneCount]">
			<Property Name="Value">
				<Value><![CDATA[1]]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[v_Notes]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlExtendedProperty" Name="[ISqlView].[dbo].[v_OpportunityTransition].[MS_DiagramPane1]">
			<Property Name="Value">
				<Value><![CDATA[N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[38] 4[25] 2[18] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "OpportunityTransition"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 257
               Right = 273
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Opportunity"
            Begin Extent = 
               Top = 14
               Left = 471
               Bottom = 133
               Right = 659
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Person"
            Begin Extent = 
               Top = 154
               Left = 462
               Bottom = 273
               Right = 644
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Client"
            Begin Extent = 
               Top = 10
               Left = 759
               Bottom = 129
               Right = 952
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 3420
         Alias = 900
         Table = 2595
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End']]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[v_OpportunityTransition]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlExtendedProperty" Name="[ISqlView].[dbo].[v_OpportunityTransition].[MS_DiagramPaneCount]">
			<Property Name="Value">
				<Value><![CDATA[1]]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[v_OpportunityTransition]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlExtendedProperty" Name="[ISqlView].[dbo].[v_TimeEntries].[MS_DiagramPane1]">
			<Property Name="Value">
				<Value><![CDATA[N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "te"
            Begin Extent = 
               Top = 12
               Left = 8
               Bottom = 166
               Right = 176
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "modp"
            Begin Extent = 
               Top = 192
               Left = 100
               Bottom = 300
               Right = 273
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "mp"
            Begin Extent = 
               Top = 21
               Left = 299
               Bottom = 114
               Right = 467
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "mpe"
            Begin Extent = 
               Top = 178
               Left = 504
               Bottom = 286
               Right = 672
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "objp"
            Begin Extent = 
               Top = 175
               Left = 817
               Bottom = 283
               Right = 990
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "m"
            Begin Extent = 
               Top = 15
               Left = 622
               Bottom = 123
               Right = 810
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "proj"
            Begin Extent = 
               Top = 20
               Left = 1036
               Bottom = 128
               Right = 1206
            End
            DisplayFlags = 280
            TopColumn = 0']]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[v_TimeEntries]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlExtendedProperty" Name="[ISqlView].[dbo].[v_TimeEntries].[MS_DiagramPane2]">
			<Property Name="Value">
				<Value><![CDATA[N'End
         Begin Table = "tt"
            Begin Extent = 
               Top = 163
               Left = 333
               Bottom = 241
               Right = 484
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End']]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[v_TimeEntries]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISqlExtendedProperty" Name="[ISqlView].[dbo].[v_TimeEntries].[MS_DiagramPaneCount]">
			<Property Name="Value">
				<Value><![CDATA[2]]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[v_TimeEntries]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90User" Name="[murka]">
			<Property Name="IsWithoutLogin" Value="True" />
		</Element>
		<Element Type="ISql90File" Name="[PracticeManagement]">
			<Property Name="FileName" Value="$(DefaultDataPath)$(DatabaseName).mdf" />
			<Property Name="Size" Value="78080" />
			<Property Name="SizeUnit" Value="3" />
			<Property Name="FileGrowth" Value="1024" />
			<Property Name="FileGrowthUnit" Value="3" />
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90File" Name="[PracticeManagement_log]">
			<Property Name="FileName" Value="$(DefaultLogPath)$(DatabaseName)_1.ldf" />
			<Property Name="Size" Value="1024" />
			<Property Name="SizeUnit" Value="3" />
			<Property Name="MaxSize" Value="674816" />
			<Property Name="MaxSizeUnit" Value="3" />
			<Property Name="IsUnlimited" Value="False" />
			<Property Name="FileGrowth" Value="10" />
			<Property Name="FileGrowthUnit" Value="1" />
			<Property Name="IsLogFile" Value="True" />
		</Element>
		<Element Type="ISql90User" Name="[PracticeManagementUser]">
			<Property Name="IsWithoutLogin" Value="True" />
		</Element>
		<Element Type="ISql90Role" Name="[PracticeManager]">
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90Role" Name="[PracticeUnitTest]">
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql90User" Name="[setuptest]">
			<Property Name="IsWithoutLogin" Value="True" />
		</Element>
	</Model>
</DataSchemaModel>
