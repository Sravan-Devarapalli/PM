/*
 * jQuery blockUI plugin
 * Version 2.38 (29-MAR-2011)
 * @requires jQuery v1.2.3 or later
 *
 * Examples at: http://malsup.com/jquery/block/
 * Copyright (c) 2007-2010 M. Alsup
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Thanks to Amir-Hossein Sobhi for some excellent contributions!
 */
(function(a){if(/1\.(0|1|2)\.(0|1|2)/.test(a.fn.jquery)||/^1.1/.test(a.fn.jquery)){alert("blockUI requires jQuery v1.2.3 or later!  You are using v"+a.fn.jquery);
return
}a.fn._fadeIn=a.fn.fadeIn;
var i=function(){};
var h=document.documentMode||0;
var n=a.browser.msie&&((a.browser.version<8&&!h)||h<8);
var f=a.browser.msie&&/MSIE 6.0/.test(navigator.userAgent)&&!h;
a.blockUI=function(p){g(window,p)
};
a.unblockUI=function(p){l(window,p)
};
a.growlUI=function(t,q,s,r){var p=a('<div class="growlUI"></div>');
if(t){p.append("<h1>"+t+"</h1>")
}if(q){p.append("<h2>"+q+"</h2>")
}if(s==undefined){s=3000
}a.blockUI({message:p,fadeIn:700,fadeOut:1000,centerY:false,timeout:s,showOverlay:false,onUnblock:r,css:a.blockUI.defaults.growlCSS})
};
a.fn.block=function(p){return this.unblock({fadeOut:0}).each(function(){if(a.css(this,"position")=="static"){this.style.position="relative"
}if(a.browser.msie){this.style.zoom=1
}g(this,p)
})
};
a.fn.unblock=function(p){return this.each(function(){l(this,p)
})
};
a.blockUI.version=2.38;
a.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0.6,cursor:"wait"},growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,applyPlatformOpacityRules:true,onBlock:null,onUnblock:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg"};
var j=null;
var k=[];
function g(x,K){var C=(x==window);
var I=K&&K.message!==undefined?K.message:undefined;
K=a.extend({},a.blockUI.defaults,K||{});
K.overlayCSS=a.extend({},a.blockUI.defaults.overlayCSS,K.overlayCSS||{});
var v=a.extend({},a.blockUI.defaults.css,K.css||{});
var N=a.extend({},a.blockUI.defaults.themedCSS,K.themedCSS||{});
I=I===undefined?K.message:I;
if(C&&j){l(window,{fadeOut:0})
}if(I&&typeof I!="string"&&(I.parentNode||I.jquery)){var J=I.jquery?I[0]:I;
var w={};
a(x).data("blockUI.history",w);
w.el=J;
w.parent=J.parentNode;
w.display=J.style.display;
w.position=J.style.position;
if(w.parent){w.parent.removeChild(J)
}}var P=K.baseZ;
var F=(a.browser.msie||K.forceIframe)?a('<iframe class="blockUI" style="z-index:'+(P++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+K.iframeSrc+'"></iframe>'):a('<div class="blockUI" style="display:none"></div>');
var G=K.theme?a('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(P++)+';display:none"></div>'):a('<div class="blockUI blockOverlay" style="z-index:'+(P++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>');
var H,L;
if(K.theme&&C){L='<div class="blockUI '+K.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+P+';display:none;position:fixed"><div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(K.title||"&nbsp;")+'</div><div class="ui-widget-content ui-dialog-content"></div></div>'
}else{if(K.theme){L='<div class="blockUI '+K.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+P+';display:none;position:absolute"><div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(K.title||"&nbsp;")+'</div><div class="ui-widget-content ui-dialog-content"></div></div>'
}else{if(C){L='<div class="blockUI '+K.blockMsgClass+' blockPage" style="z-index:'+P+';display:none;position:fixed"></div>'
}else{L='<div class="blockUI '+K.blockMsgClass+' blockElement" style="z-index:'+P+';display:none;position:absolute"></div>'
}}}H=a(L);
if(I){if(K.theme){H.css(N);
H.addClass("ui-widget-content")
}else{H.css(v)
}}if(!K.theme&&(!K.applyPlatformOpacityRules||!(a.browser.mozilla&&/Linux/.test(navigator.platform)))){G.css(K.overlayCSS)
}G.css("position",C?"fixed":"absolute");
if(a.browser.msie||K.forceIframe){F.css("opacity",0)
}var E=[F,G,H],p=C?a("body"):a(x);
a.each(E,function(){this.appendTo(p)
});
if(K.theme&&K.draggable&&a.fn.draggable){H.draggable({handle:".ui-dialog-titlebar",cancel:"li"})
}var y=n&&(!a.boxModel||a("object,embed",C?null:x).length>0);
if(f||y){if(C&&K.allowBodyStretch&&a.boxModel){a("html,body").css("height","100%")
}if((f||!a.boxModel)&&!C){var M=o(x,"borderTopWidth"),D=o(x,"borderLeftWidth");
var B=M?"(0 - "+M+")":0;
var A=D?"(0 - "+D+")":0
}a.each([F,G,H],function(z,Q){var R=Q[0].style;
R.position="absolute";
if(z<2){C?R.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.boxModel?0:"+K.quirksmodeOffsetHack+') + "px"'):R.setExpression("height",'this.parentNode.offsetHeight + "px"');
C?R.setExpression("width",'jQuery.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):R.setExpression("width",'this.parentNode.offsetWidth + "px"');
if(A){R.setExpression("left",A)
}if(B){R.setExpression("top",B)
}}else{if(K.centerY){if(C){R.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')
}R.marginTop=0
}else{if(!K.centerY&&C){var S=(K.css&&K.css.top)?parseInt(K.css.top):0;
var t="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';
R.setExpression("top",t)
}}}})
}if(I){if(K.theme){H.find(".ui-widget-content").append(I)
}else{H.append(I)
}if(I.jquery||I.nodeType){a(I).show()
}}if((a.browser.msie||K.forceIframe)&&K.showOverlay){F.show()
}if(K.fadeIn){var q=K.onBlock?K.onBlock:i;
var r=(K.showOverlay&&!I)?q:i;
var u=I?q:i;
if(K.showOverlay){G._fadeIn(K.fadeIn,r)
}if(I){H._fadeIn(K.fadeIn,u)
}}else{if(K.showOverlay){G.show()
}if(I){H.show()
}if(K.onBlock){K.onBlock()
}}b(1,x,K);
if(C){j=H[0];
k=a(":input:enabled:visible",j);
if(K.focusInput){setTimeout(d,20)
}}else{c(H[0],K.centerX,K.centerY)
}if(K.timeout){var O=setTimeout(function(){C?a.unblockUI(K):a(x).unblock(K)
},K.timeout);
a(x).data("blockUI.timeout",O)
}}function l(r,u){var t=(r==window);
var p=a(r);
var q=p.data("blockUI.history");
var v=p.data("blockUI.timeout");
if(v){clearTimeout(v);
p.removeData("blockUI.timeout")
}u=a.extend({},a.blockUI.defaults,u||{});
b(0,r,u);
var s;
if(t){s=a("body").children().filter(".blockUI").add("body > .blockUI")
}else{s=a(".blockUI",r)
}if(t){j=k=null
}if(u.fadeOut){s.fadeOut(u.fadeOut);
setTimeout(function(){m(s,q,u,r)
},u.fadeOut)
}else{m(s,q,u,r)
}}function m(r,p,s,q){r.each(function(t,u){if(this.parentNode){this.parentNode.removeChild(this)
}});
if(p&&p.el){p.el.style.display=p.display;
p.el.style.position=p.position;
if(p.parent){p.parent.appendChild(p.el)
}a(q).removeData("blockUI.history")
}if(typeof s.onUnblock=="function"){s.onUnblock(q,s)
}}function b(q,r,u){var t=r==window,p=a(r);
if(!q&&(t&&!j||!t&&!p.data("blockUI.isBlocked"))){return
}if(!t){p.data("blockUI.isBlocked",q)
}if(!u.bindEvents||(q&&!u.showOverlay)){return
}var s="mousedown mouseup keydown keypress";
q?a(document).bind(s,u,e):a(document).unbind(s,e)
}function e(q){if(q.keyCode&&q.keyCode==9){if(j&&q.data.constrainTabKey){var r=k;
var s=!q.shiftKey&&q.target===r[r.length-1];
var p=q.shiftKey&&q.target===r[0];
if(s||p){setTimeout(function(){d(p)
},10);
return false
}}}var t=q.data;
if(a(q.target).parents("div."+t.blockMsgClass).length>0){return true
}return a(q.target).parents().children().filter("div.blockUI").length==0
}function d(p){if(!k){return
}var q=k[p===true?k.length-1:0];
if(q){q.focus()
}}function c(q,z,A){var u=q.parentNode,v=q.style;
var r=((u.offsetWidth-q.offsetWidth)/2)-o(u,"borderLeftWidth");
var w=((u.offsetHeight-q.offsetHeight)/2)-o(u,"borderTopWidth");
if(z){v.left=r>0?(r+"px"):"0"
}if(A){v.top=w>0?(w+"px"):"0"
}}function o(q,r){return parseInt(a.css(q,r))||0
}})(jQuery);
